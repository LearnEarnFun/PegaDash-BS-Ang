/*  PegaInternetApplicationComposer V3.1 Revision:    Date: Tue May 14 18:07:52 EDT 2019   */
pega=window.pega||{};pega.ui=pega.ui||{};
pega.ui.HarnessContext||(pega.ui.HarnessContext=function(){function b(){this.pega={};this.pega.d={};this.pega.desktop={};this.pega.u={};this.pega.u.d={};this.pega.feedback={};this.pega.feedback.Globals={};this.onHarnessLoads=[]}b.prototype.setProperty=function(a,b){this[a]=b};b.prototype.getProperty=function(a){return this[a]};b.prototype.setFormEncoding=function(a){var b=pega.u.d.bModalDialogOpen;if(pega.ui.HarnessContextMgr.get("isMDC")&&!b)pega.ctx.hasFileEncoding=a;else if(b)pega.ctx.modalHasFileEncoding=
a;else if(b=document.forms[0])a?b.encoding="multipart/form-data":b.encoding="application/x-www-form-urlencoded"};b.prototype.resetFormEncoding=function(){this.setFormEncoding(!1)};b.prototype.hasFile=function(){var a;a=pega.u.d.bModalDialogOpen;a=pega.ctx.isMDC&&!a?pega.ctx.hasFileEncoding||!1:pega.ctx.modalHasFileEncoding?!0:(a=document.forms[0])&&"multipart/form-data"===a.encoding?!0:!1;return a};b.prototype.getFormElement=function(){return pega.ctx.isMDC?pega.u.d.getDocumentElement():document.forms[0]};
return b}());if(!pega.ctxmgr){pega.ctxmgr=pega.ui.HarnessContextMgr=pega.ui.HarnessContextMap=(function(){var DATA_HARNESS_ID="data-harness-id";var contextsMap={};var baseHarnessContext;var nativeWindowSetTimeout=window.setTimeout;var nativeWindowSetInterval=window.setInterval;var contextWindowSetTimeout=function(func,timeout){var actualContext=pega.ctx;var args=Array.prototype.slice.call(arguments,0);args[0]=function timeoutFunction(){var timeoutArgs=Array.prototype.slice.call(arguments,0);pega.ctxmgr.setContext(actualContext);if(typeof func==="string"){eval(func)}else{func.apply(this,timeoutArgs)}pega.ctxmgr.resetContext();actualContext=null};if(nativeWindowSetTimeout.apply){return nativeWindowSetTimeout.apply(this,args)}else{return nativeWindowSetTimeout(func,timeout)}};var contextWindowSetInterval=function(func,timeout){var actualContext=pega.ctx;var args=Array.prototype.slice.call(arguments,0);args[0]=function timeoutFunction(){var timeoutArgs=Array.prototype.slice.call(arguments,0);pega.ctxmgr.setContext(actualContext);if(typeof func==="string"){eval(func)}else{func.apply(this,timeoutArgs)}pega.ctxmgr.resetContext()};if(nativeWindowSetInterval.apply){return nativeWindowSetInterval.apply(this,args)}else{return nativeWindowSetInterval(func,timeout)}};var createHarnessContext=function(){var harnessContextMap=pega.ctxmgr.getHarnessContextMap();var initialHarnessId=pega.ctx&&initialVars&&initialVars.dynamic_context&&initialVars.dynamic_context.pzHarnessID;if(initialHarnessId&&harnessContextMap[initialHarnessId]){return harnessContextMap[initialHarnessId]}var harnessContextObj=new pega.ui.HarnessContext();setCurrentHarnessContext(harnessContextObj);_updateContextSpecifics();return harnessContextObj};var loadHarnessContext=function(uniqueKey,harnessContextObject){if(!uniqueKey){uniqueKey=""+Date.now()}harnessContextObject=harnessContextObject||pega.ui.HarnessContextMgr.createHarnessContext();harnessContextObject.pzHarnessID=uniqueKey;contextsMap[uniqueKey]=harnessContextObject;setCurrentHarnessContext(harnessContextObject);_updateContextSpecifics()};var unloadHarnessContext=function(uniqueKey){if(contextsMap[uniqueKey]){setContext(contextsMap[uniqueKey]);pega.ui.EventsEmitter.publishSync("onHarnessUnload");resetContext();delete contextsMap[uniqueKey];_updateContextSpecifics()}else{throw"harness context not exists"}};var _updateContextSpecifics=function(){pega.ctxmgr.isSingleContext=(Object.keys(contextsMap).length<=1);if(!(pega&&pega.offline)){if(pega.ctxmgr.isSingleContext){window.setTimeout=nativeWindowSetTimeout;window.setInterval=nativeWindowSetInterval}else{window.setTimeout=contextWindowSetTimeout;window.setInterval=contextWindowSetInterval}}};var getHarnessContextMap=function(){return contextsMap};var getHarnessContext=function(uniqueKey){return contextsMap[uniqueKey]};var getContextByProperty=function(propName,propValue){if(!contextsMap){return }var harContextObj,key;for(key in contextsMap){harContextObj=contextsMap[key];if(harContextObj[propName]){if(harContextObj[propName]===propValue){return harContextObj}}}return harContextObj};var getContextByThreadName=function(threadName){if(!contextsMap){return }for(var key in contextsMap){var harContextObj=contextsMap[key];if(threadName===pega.u.d.getThreadName(harContextObj)){return harContextObj}}};var getContextByTarget=function(domTarget){if(!contextsMap||!domTarget){return }var targetContextElem=pega.ctx.dom.closest(domTarget,"[data-harness-id]");if(targetContextElem){return contextsMap[targetContextElem.getAttribute("data-harness-id")]}};var getCurrentHarnessContext=function(){if(pega.ctx){return pega.ctx}else{console.warn("Current HarnessContext should be set before use.")}};var setCurrentHarnessContext=function(harnessContext){if(typeof harnessContext==="string"){harnessContext=getHarnessContext(harnessContext)}baseHarnessContext=harnessContext;_ctxSetter(harnessContext)};var getPropertyFromCurrentHarnessContext=function(propName){if(!pega.ctx){throw"Current HarnessContext should be set before use."}return pega.ctx[propName]};var setPropertyToCurrentHarnessContext=function(propName,propValue){if(!pega.ctx){throw"Current HarnessContext should be set before use."}pega.ctx[propName]=propValue};var setContextInEvent=function(event){event.harnessID=event.currentTarget.getAttribute(DATA_HARNESS_ID)};var registerContextSwitching=function(targetElement,switchHandler){if(typeof targetElement==="string"){targetElement=document.querySelector(targetElement)}switchHandler=switchHandler||harnessContextSwitchHandler;targetElement.setAttribute(DATA_HARNESS_ID,pega.ctx.pzHarnessID);targetElement.removeEventListener("mousedown",switchHandler,true);targetElement.addEventListener("mousedown",switchHandler,true);targetElement.removeEventListener("focusin",switchHandler,true);targetElement.addEventListener("focusin",switchHandler,true);if(pega&&pega.cl&&pega.cl.isTouchAble()){targetElement.removeEventListener("touchend",switchHandler,true);targetElement.addEventListener("touchend",switchHandler,true)}};var unregisterContextSwitching=function(targetElement,switchHandler){if(typeof targetElement==="string"){targetElement=document.querySelector(targetElement)}switchHandler=switchHandler||harnessContextSwitchHandler;targetElement.removeAttribute(DATA_HARNESS_ID);targetElement.removeEventListener("mousedown",switchHandler,true);targetElement.removeEventListener("focusin",switchHandler,true);if(pega&&pega.cl&&pega.cl.isTouchAble()){targetElement.removeEventListener("touchend",switchHandler,true)}};var harnessContextSwitchHandler=function(event){if(event.skipSwitching||pega.u.d.bModalDialogOpen){return }if(event.target.classList.contains("menu-item-anchor")||event.target.classList.contains("menu-item-title")){var menuWrapper=document.querySelector(".menu-panel-wrapper");if(menuWrapper&&menuWrapper.contains(event.target)){return }}if(event.target.classList.contains("mdc-tab-close")){return }var harnessID=event.currentTarget.getAttribute(DATA_HARNESS_ID);if(harnessID!==pega.ctx.pzHarnessID){setCurrentHarnessContext(harnessID)}};var skipHarnessContextSwitchHandler=function(event){event.skipSwitching=true};var _ctxSetter=function(harnessContext){var ctxChanged=pega.ctx!=harnessContext;pega.ctx=harnessContext;if(ctxChanged&&harnessContext){if(pega.ui.ClientDataProvider){var threadName=pega.u.d.getThreadName();if(threadName){pega.ui.ClientDataProvider.switchThread(threadName)}}}};var setContext=function(harnessContext){if(harnessContext){if(!(pega&&pega.offline)){_ctxSetter(harnessContext)}}};var resetContext=function(originalCtx){if(originalCtx){_ctxSetter(originalCtx)}else{_ctxSetter(baseHarnessContext)}};var setDocContext=function(viewDoc){if(viewDoc&&viewDoc.GadgetId){var currentIframe=document.getElementById(viewDoc.GadgetId).querySelector("iframe");if(currentIframe&&currentIframe.contentDocument&&currentIframe.contentDocument.body){var harnessId=currentIframe.contentDocument.body.getAttribute("data-harness-id");if(currentIframe.contentWindow&&currentIframe.contentWindow.pega&&currentIframe.contentWindow.pega.ctxmgr&&currentIframe.contentWindow.pega.ctxmgr.getHarnessContextMap()){var harCtx=currentIframe.contentWindow.pega.ctxmgr.getHarnessContext(harnessId);if(harCtx){currentIframe.contentWindow.pega.ctxmgr.setCurrentHarnessContext(harCtx)}}}}};var setRootContext=function(){var bodyEle=document.body;if(bodyEle){var harnessID=bodyEle.getAttribute("data-harness-id");if(harnessID&&harnessID!=""){var harCtx=pega.ctxmgr.getHarnessContext(harnessID);if(harCtx){pega.ctxmgr.setCurrentHarnessContext(harCtx)}}}};return{isSingleContext:true,registerContextSwitching:registerContextSwitching,unregisterContextSwitching:unregisterContextSwitching,harnessContextSwitchHandler:harnessContextSwitchHandler,skipHarnessContextSwitchHandler:skipHarnessContextSwitchHandler,setContext:setContext,resetContext:resetContext,get:getPropertyFromCurrentHarnessContext,set:setPropertyToCurrentHarnessContext,getHarnessContextMap:getHarnessContextMap,loadHarnessContext:loadHarnessContext,unloadHarnessContext:unloadHarnessContext,getHarnessContext:getHarnessContext,getContextByProperty:getContextByProperty,getContextByTarget:getContextByTarget,getContextByThreadName:getContextByThreadName,getCurrentHarnessContext:getCurrentHarnessContext,setCurrentHarnessContext:setCurrentHarnessContext,createHarnessContext:createHarnessContext,setDocumentContext:setDocContext,setRootDocumentContext:setRootContext}})()};pega=window.pega||{};pega.ui=pega.ui||{};(function(){if(!pega.ctx){pega.ui.HarnessContextMgr.loadHarnessContext()}})();(function(){var g=function(a){void 0===a&&(a="");var b=pega.ctx;a=a.split(".");for(var f=a.length,d=a[f-1],c=0;c<f-1;c++){var e=a[c];b[e]=b[e]||{};b=b[e]}return{ns:b,propName:d}},h=function(a){void 0===a&&(a=[]);a.forEach(function(a){var b=a.ns,d=a.propsObj;if(b&&d){a=function(a){var c=d[a];try{Object.defineProperty(b,a,{configurable:!0,get:function(){var a=g(c);return a.ns[a.propName]},set:function(a){var b=g(c);b.ns[b.propName]=a}})}catch(l){}};for(var c in d)a(c)}})},k=[{ns:window,propsObj:{pxReqURI:"pxReqURI",
bIsTemplateEnabled:"bIsTemplateEnabled",bClientValidation:"bClientValidation",bExpressionCalculation:"bExpressionCalculation",AppDynamicsAppKey:"AppDynamicsAppKey",gStrWindowName:"gStrWindowName",gStrWinNameDefault:"gStrWinNameDefault",strHarnessMode:"strHarnessMode",inDeveloperDesktop:"inDeveloperDesktop",pyPerformThreadWindowCheck:"pyPerformThreadWindowCheck",topHarness:"topHarness",isDesignViewIframe:"isDesignViewIframe",bFlowAction:"bFlowAction",strPyID:"strPyID",strPyLabel:"strPyLabel",desktopAvailableSpacesList:"desktopAvailableSpacesList",
isUITemplatized:"isUITemplatized",bReadOnly:"bReadOnly",strHarnessPurpose:"strHarnessPurpose",strHarnessClass:"strHarnessClass"}},{ns:pega.d,propsObj:{pxReqURI:"pxReqURI"}}];pega.u&&pega.u.d&&k.push({ns:pega.u.d,propsObj:{baseThreadName:"baseThreadName",gDirtyOverride:"gDirtyOverride",topHarness:"topHarness",url:"url",activeGrid:"activeGrid",gSectionReloaded:"gSectionReloaded",KeepPageMessages:"KeepPageMessages",ignoreDirtyState:"ignoreDirtyState"}});h(k);window.addEventListener("load",function(){h([{ns:window,
propsObj:{strDisplayHarnessParms:"strDisplayHarnessParms",bClientValidation:"bClientValidation",bActionIframe:"bActionIframe",bEncryptURLs:"bEncryptURLs",strKey:"strKey",strPageName:"strPageName"}}])})})();if(typeof pega=="undefined"||!pega){var pega={}}pega.namespace=function(){var F=arguments,G=null,I,J,H;for(I=0;I<F.length;I=I+1){H=F[I].split(".");G=pega;for(J=(H[0]=="pega")?1:0;J<H.length;J=J+1){G[H[J]]=G[H[J]]||{};G=G[H[J]]}}return G};pega.log=function(F,E,G){var H=pega.widget.Logger;if(H&&H.log){return H.log(F,E,G)}else{return false}};pega.register=function(M,R,J){var N=pega.env.modules;if(!N[M]){N[M]={versions:[],builds:[]}}var L=N[M],O=J.version,P=J.build,Q=pega.env.listeners;L.name=M;L.version=O;L.build=P;L.versions.push(O);L.builds.push(P);L.mainClass=R;for(var K=0;K<Q.length;K=K+1){Q[K](L)}if(R){R.VERSION=O;R.BUILD=P}else{pega.log("mainClass is undefined for module "+M,"warn")}};pega.env=pega.env||{modules:[],listeners:[]};pega.env.getVersion=function(B){return pega.env.modules[B]||null};pega.env.ua=function(){var E={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0};var F=navigator.userAgent,D;if((/KHTML/).test(F)){E.webkit=1}D=F.match(/AppleWebKit\/([^\s]*)/);if(D&&D[1]){E.webkit=parseFloat(D[1]);if(/ Mobile\//.test(F)){E.mobile="Apple"}else{D=F.match(/NokiaN[^\/]*/);if(D){E.mobile=D[0]}}D=F.match(/AdobeAIR\/([^\s]*)/);if(D){E.air=D[0]}}if(!E.webkit){D=F.match(/Opera[\s\/]([^\s]*)/);if(D&&D[1]){E.opera=parseFloat(D[1]);D=F.match(/Opera Mini[^;]*/);if(D){E.mobile=D[0]}}else{if(navigator.appName=="Microsoft Internet Explorer"){D=F.match(/MSIE\s([^;]*)/)}else{if(navigator.appName=="Netscape"){D=F.match(/Trident(?:.*rv:([\w.]+))?/)}}if(D&&D[1]){E.ie=parseFloat(D[1])}else{D=F.match(/Gecko\/([^\s]*)/);if(D){E.gecko=1;D=F.match(/rv:([^\s\)]*)/);if(D&&D[1]){E.gecko=parseFloat(D[1])}}}}}return E}();(function(){pega.namespace("util","widget","example");if("undefined"!==typeof pega_config){var H=pega_config.listener,E=pega.env.listeners,F=true,G;if(H){for(G=0;G<E.length;G=G+1){if(E[G]==H){F=false;break}}if(F){E.push(H)}}}})();pega.lang=pega.lang||{};(function(){var D=pega.lang,E=["toString","valueOf"],F={isArray:function(A){if(A){return D.isNumber(A.length)&&D.isFunction(A.splice)}return false},isBoolean:function(A){return typeof A==="boolean"},isFunction:function(A){return typeof A==="function"},isNull:function(A){return A===null},isNumber:function(A){return typeof A==="number"&&isFinite(A)},isObject:function(A){return(A&&(typeof A==="object"||D.isFunction(A)))||false},isString:function(A){return typeof A==="string"},isUndefined:function(A){return typeof A==="undefined"},_IEEnumFix:(pega.env.ua.ie)?function(C,I){for(var J=0;J<E.length;J=J+1){var A=E[J],B=I[A];if(D.isFunction(B)&&B!=Object.prototype[A]){C[A]=B}}}:function(){},extend:function(B,A,C){if(!A||!B){throw new Error("extend failed, please check that all dependencies are included.")}var J=function(){};J.prototype=A.prototype;B.prototype=new J();B.prototype.constructor=B;B.superclass=A.prototype;if(A.prototype.constructor==Object.prototype.constructor){A.prototype.constructor=A}if(C){for(var K in C){if(D.hasOwnProperty(C,K)){B.prototype[K]=C[K]}}D._IEEnumFix(B.prototype,C)}},augmentObject:function(B,C){if(!C||!B){throw new Error("Absorb failed, verify dependencies.")}var L=arguments,J,A,K=L[2];if(K&&K!==true){for(J=2;J<L.length;J=J+1){B[L[J]]=C[L[J]]}}else{for(A in C){if(K||!(A in B)){B[A]=C[A]}}D._IEEnumFix(B,C)}},augmentProto:function(A,B){if(!B||!A){throw new Error("Augment failed, verify dependencies.")}var H=[A.prototype,B.prototype];for(var C=2;C<arguments.length;C=C+1){H.push(arguments[C])}D.augmentObject.apply(this,H)},dump:function(A,N){var Q,O,C=[],B="{...}",R="f(){...}",M=", ",P=" => ";if(!D.isObject(A)){return A+""}else{if(A instanceof Date||("nodeType" in A&&"tagName" in A)){return A}else{if(D.isFunction(A)){return R}}}N=(D.isNumber(N))?N:3;if(D.isArray(A)){C.push("[");for(Q=0,O=A.length;Q<O;Q=Q+1){if(D.isObject(A[Q])){C.push((N>0)?D.dump(A[Q],N-1):B)}else{C.push(A[Q])}C.push(M)}if(C.length>1){C.pop()}C.push("]")}else{C.push("{");for(Q in A){if(D.hasOwnProperty(A,Q)){C.push(Q+P);if(D.isObject(A[Q])){C.push((N>0)?D.dump(A[Q],N-1):B)}else{C.push(A[Q])}C.push(M)}}if(C.length>1){C.pop()}C.push("}")}return C.join("")},substitute:function(B,f,Y){var b,c,d,V,U,C,W=[],e,a="dump",X=" ",A="{",T="}";for(;;){b=B.lastIndexOf(A);if(b<0){break}c=B.indexOf(T,b);if(b+1>=c){break}e=B.substring(b+1,c);V=e;C=null;d=V.indexOf(X);if(d>-1){C=V.substring(d+1);V=V.substring(0,d)}U=f[V];if(Y){U=Y(V,U,C)}if(D.isObject(U)){if(D.isArray(U)){U=D.dump(U,parseInt(C,10))}else{C=C||"";var Z=C.indexOf(a);if(Z>-1){C=C.substring(4)}if(U.toString===Object.prototype.toString||Z>-1){U=D.dump(U,parseInt(C,10))}else{U=U.toString()}}}else{if(!D.isString(U)&&!D.isNumber(U)){U="~-"+W.length+"-~";W[W.length]=e}}B=B.substring(0,b)+U+B.substring(c+1)}for(b=W.length-1;b>=0;b=b-1){B=B.replace(new RegExp("~-"+b+"-~"),"{"+W[b]+"}","g")}return B},trim:function(B){try{return B.replace(/^\s+|\s+$/g,"")}catch(A){return B}},merge:function(){var A={},C=arguments;for(var B=0,H=C.length;B<H;B=B+1){D.augmentObject(A,C[B],true)}return A},later:function(C,R,B,P,O){C=C||0;R=R||{};var Q=B,M=P,N,A;if(D.isString(B)){Q=R[B]}if(!Q){throw new TypeError("method undefined")}if(!D.isArray(M)){M=[P]}N=function(){Q.apply(R,M)};A=(O)?setInterval(N,C):setTimeout(N,C);return{interval:O,cancel:function(){if(this.interval){clearInterval(A)}else{clearTimeout(A)}}}},isValue:function(A){return(D.isObject(A)||D.isString(A)||D.isNumber(A)||D.isBoolean(A))}};D.hasOwnProperty=(Object.prototype.hasOwnProperty)?function(B,A){return B&&B.hasOwnProperty(A)}:function(B,A){return !D.isUndefined(B[A])&&B.constructor.prototype[A]!==B[A]};F.augmentObject(D,F,true);pega.util.Lang=D;D.augment=D.augmentProto;pega.augment=D.augmentProto;pega.extend=D.extend})();pega.register("yahoo",pega,{version:"2.5.2",build:"1076"});pega.util.Get=function(){var X={},Y=0,T=0,f=false,W=pega.env.ua,S=pega.lang;var a=function(B,E,A){var D=A||window,G=D.document,F=G.createElement(B);for(var C in E){if(E[C]&&pega.lang.hasOwnProperty(E,C)){F.setAttribute(C,E[C])}}return F};var c=function(D,C,A){var B=A||"utf-8";return a("link",{id:"yui__dyn_"+(T++),type:"text/css",charset:B,rel:"stylesheet",href:D},C)};var V=function(D,C,A){var B=A||"utf-8";return a("script",{id:"yui__dyn_"+(T++),type:"text/javascript",charset:B,src:D},C)};var j=function(B,A){return{tId:B.tId,win:B.win,data:B.data,nodes:B.nodes,msg:A,purge:function(){g(this.tId)}}};var i=function(D,A){var C=X[A],B=(S.isString(D))?C.win.document.getElementById(D):D;if(!B){U(A,"target node not found: "+D)}return B};var U=function(A,B){var D=X[A];if(D.onFailure){var C=D.scope||D.win;D.onFailure.call(C,j(D,B))}};var h=function(A){var D=X[A];D.finished=true;if(D.aborted){var B="transaction "+A+" was aborted";U(A,B);return }if(D.onSuccess){var C=D.scope||D.win;D.onSuccess.call(C,j(D))}};var d=function(F,B){var G=X[F];if(G.aborted){var D="transaction "+F+" was aborted";U(F,D);return }if(B){G.url.shift();if(G.varName){G.varName.shift()}}else{G.url=(S.isString(G.url))?[G.url]:G.url;if(G.varName){G.varName=(S.isString(G.varName))?[G.varName]:G.varName}}var J=G.win,K=J.document,A=K.getElementsByTagName("head")[0],E;if(G.url.length===0){if(G.type==="script"&&W.webkit&&W.webkit<420&&!G.finalpass&&!G.varName){var C=V(null,G.win,G.charset);C.innerHTML='pega.util.Get._finalize("'+F+'");';G.nodes.push(C);A.appendChild(C)}else{h(F)}return }var H=G.url[0];if(G.type==="script"){E=V(H,J,G.charset)}else{E=c(H,J,G.charset)}e(G.type,E,F,H,J,G.url.length);G.nodes.push(E);if(G.insertBefore){var I=i(G.insertBefore,F);if(I){I.parentNode.insertBefore(E,I)}}else{A.appendChild(E)}if((W.webkit||W.gecko)&&G.type==="css"){d(F,H)}};var Z=function(){if(f){return }f=true;for(var B in X){var A=X[B];if(A.autopurge&&A.finished){g(A.tId);delete X[B]}}f=false};var g=function(F){var A=X[F];if(A){var G=A.nodes,E=G.length,H=A.win.document,B=H.getElementsByTagName("head")[0];if(A.insertBefore){var C=i(A.insertBefore,F);if(C){B=C.parentNode}}for(var D=0;D<E;D=D+1){B.removeChild(G[D])}}A.nodes=[]};var b=function(D,E,C){var A="q"+(Y++);C=C||{};if(Y%pega.util.Get.PURGE_THRESH===0){Z()}X[A]=S.merge(C,{tId:A,type:D,url:E,finished:false,nodes:[]});var B=X[A];B.win=B.win||window;B.scope=B.scope||B.win;B.autopurge=("autopurge" in B)?B.autopurge:(D==="script")?true:false;S.later(0,B,d,A);return{tId:A}};var e=function(I,D,E,G,C,B,J){var A=J||d;if(W.ie){D.onreadystatechange=function(){var K=this.readyState;if("loaded"===K||"complete"===K){A(E,G)}}}else{if(W.webkit){if(I==="script"){if(W.webkit>=420){D.addEventListener("load",function(){A(E,G)})}else{var H=X[E];if(H.varName){var F=pega.util.Get.POLL_FREQ;H.maxattempts=pega.util.Get.TIMEOUT/F;H.attempts=0;H._cache=H.varName[0].split(".");H.timer=S.later(F,H,function(K){var N=this._cache,O=N.length,P=this.win,M;for(M=0;M<O;M=M+1){P=P[N[M]];if(!P){this.attempts++;if(this.attempts++>this.maxattempts){var L="Over retry limit, giving up";H.timer.cancel();U(E,L)}else{}return }}H.timer.cancel();A(E,G)},null,true)}else{S.later(pega.util.Get.POLL_FREQ,null,A,[E,G])}}}}else{D.onload=function(){A(E,G)}}}};return{POLL_FREQ:10,PURGE_THRESH:20,TIMEOUT:2000,_finalize:function(A){S.later(0,null,h,A)},abort:function(B){var A=(S.isString(B))?B:B.tId;var C=X[A];if(C){C.aborted=true}},script:function(B,A){return b("script",B,A)},css:function(B,A){return b("css",B,A)}}}();pega.register("get",pega.util.Get,{version:"2.5.2",build:"1076"});(function(){var Y=pega,util=Y.util,lang=Y.lang,env=Y.env,PROV="_provides",SUPER="_supersedes",REQ="expanded",AFTER="_after";var YUI={dupsAllowed:{yahoo:true,get:true},info:{base:"http://yui.yahooapis.com/2.5.2/build/",skin:{defaultSkin:"sam",base:"assets/skins/",path:"skin.css",after:["reset","fonts","grids","base"],rollup:3},dupsAllowed:["yahoo","get"],moduleInfo:{animation:{type:"js",path:"animation/animation-min.js",requires:["dom","event"]},autocomplete:{type:"js",path:"autocomplete/autocomplete-min.js",requires:["dom","event"],optional:["connection","animation"],skinnable:true},base:{type:"css",path:"base/base-min.css",after:["reset","fonts","grids"]},button:{type:"js",path:"button/button-min.js",requires:["element"],optional:["menu"],skinnable:true},calendar:{type:"js",path:"calendar/calendar-min.js",requires:["event","dom"],skinnable:true},charts:{type:"js",path:"charts/charts-experimental-min.js",requires:["element","json","datasource"]},colorpicker:{type:"js",path:"colorpicker/colorpicker-min.js",requires:["slider","element"],optional:["animation"],skinnable:true},connection:{type:"js",path:"connection/connection-min.js",requires:["event"]},container:{type:"js",path:"container/container-min.js",requires:["dom","event"],optional:["dragdrop","animation","connection"],supersedes:["containercore"],skinnable:true},containercore:{type:"js",path:"container/container_core-min.js",requires:["dom","event"],pkg:"container"},cookie:{type:"js",path:"cookie/cookie-beta-min.js",requires:["yahoo"]},datasource:{type:"js",path:"datasource/datasource-beta-min.js",requires:["event"],optional:["connection"]},datatable:{type:"js",path:"datatable/datatable-beta-min.js",requires:["element","datasource"],optional:["calendar","dragdrop"],skinnable:true},dom:{type:"js",path:"dom/dom-min.js",requires:["yahoo"]},dragdrop:{type:"js",path:"dragdrop/dragdrop-min.js",requires:["dom","event"]},editor:{type:"js",path:"editor/editor-beta-min.js",requires:["menu","element","button"],optional:["animation","dragdrop"],supersedes:["simpleeditor"],skinnable:true},element:{type:"js",path:"element/element-beta-min.js",requires:["dom","event"]},event:{type:"js",path:"event/event-min.js",requires:["yahoo"]},fonts:{type:"css",path:"fonts/fonts-min.css"},get:{type:"js",path:"get/get-min.js",requires:["yahoo"]},grids:{type:"css",path:"grids/grids-min.css",requires:["fonts"],optional:["reset"]},history:{type:"js",path:"history/history-min.js",requires:["event"]},imagecropper:{type:"js",path:"imagecropper/imagecropper-beta-min.js",requires:["dom","event","dragdrop","element","resize"],skinnable:true},imageloader:{type:"js",path:"imageloader/imageloader-min.js",requires:["event","dom"]},json:{type:"js",path:"json/json-min.js",requires:["yahoo"]},layout:{type:"js",path:"layout/layout-beta-min.js",requires:["dom","event","element"],optional:["animation","dragdrop","resize","selector"],skinnable:true},logger:{type:"js",path:"logger/logger-min.js",requires:["event","dom"],optional:["dragdrop"],skinnable:true},menu:{type:"js",path:"menu/menu-min.js",requires:["containercore"],skinnable:true},profiler:{type:"js",path:"profiler/profiler-beta-min.js",requires:["yahoo"]},profilerviewer:{type:"js",path:"profilerviewer/profilerviewer-beta-min.js",requires:["profiler","yuiloader","element"],skinnable:true},reset:{type:"css",path:"reset/reset-min.css"},"reset-fonts-grids":{type:"css",path:"reset-fonts-grids/reset-fonts-grids.css",supersedes:["reset","fonts","grids","reset-fonts"],rollup:4},"reset-fonts":{type:"css",path:"reset-fonts/reset-fonts.css",supersedes:["reset","fonts"],rollup:2},resize:{type:"js",path:"resize/resize-beta-min.js",requires:["dom","event","dragdrop","element"],optional:["animation"],skinnable:true},selector:{type:"js",path:"selector/selector-beta-min.js",requires:["yahoo","dom"]},simpleeditor:{type:"js",path:"editor/simpleeditor-beta-min.js",requires:["element"],optional:["containercore","menu","button","animation","dragdrop"],skinnable:true,pkg:"editor"},slider:{type:"js",path:"slider/slider-min.js",requires:["dragdrop"],optional:["animation"]},tabview:{type:"js",path:"tabview/tabview-min.js",requires:["element"],optional:["connection"],skinnable:true},treeview:{type:"js",path:"treeview/treeview-min.js",requires:["event"],skinnable:true},uploader:{type:"js",path:"uploader/uploader-experimental.js",requires:["element"]},utilities:{type:"js",path:"utilities/utilities.js",supersedes:["yahoo","event","dragdrop","animation","dom","connection","element","yahoo-dom-event","get","yuiloader","yuiloader-dom-event"],rollup:8},yahoo:{type:"js",path:"yahoo/yahoo-min.js"},"yahoo-dom-event":{type:"js",path:"yahoo-dom-event/yahoo-dom-event.js",supersedes:["yahoo","event","dom"],rollup:3},yuiloader:{type:"js",path:"yuiloader/yuiloader-beta-min.js",supersedes:["yahoo","get"]},"yuiloader-dom-event":{type:"js",path:"yuiloader-dom-event/yuiloader-dom-event.js",supersedes:["yahoo","dom","event","get","yuiloader","yahoo-dom-event"],rollup:5},yuitest:{type:"js",path:"yuitest/yuitest-min.js",requires:["logger"],skinnable:true}}},ObjectUtil:{appendArray:function(o,a){if(a){for(var i=0;i<a.length;i=i+1){o[a[i]]=true}}},keys:function(o,ordered){var a=[],i;for(i in o){if(lang.hasOwnProperty(o,i)){a.push(i)}}return a}},ArrayUtil:{appendArray:function(a1,a2){Array.prototype.push.apply(a1,a2)},indexOf:function(a,val){for(var i=0;i<a.length;i=i+1){if(a[i]===val){return i}}return -1},toObject:function(a){var o={};for(var i=0;i<a.length;i=i+1){o[a[i]]=true}return o},uniq:function(a){return YUI.ObjectUtil.keys(YUI.ArrayUtil.toObject(a))}}};pega.util.YUILoader=function(o){this._internalCallback=null;this._useYahooListener=false;this.onSuccess=null;this.onFailure=Y.log;this.onProgress=null;this.scope=this;this.data=null;this.insertBefore=null;this.charset=null;this.varName=null;this.base=YUI.info.base;this.ignore=null;this.force=null;this.allowRollup=true;this.filter=null;this.required={};this.moduleInfo=lang.merge(YUI.info.moduleInfo);this.rollups=null;this.loadOptional=false;this.sorted=[];this.loaded={};this.dirty=true;this.inserted={};var self=this;env.listeners.push(function(m){if(self._useYahooListener){self.loadNext(m.name)}});this.skin=lang.merge(YUI.info.skin);this._config(o)};Y.util.YUILoader.prototype={FILTERS:{RAW:{searchExp:"-min\\.js",replaceStr:".js"},DEBUG:{searchExp:"-min\\.js",replaceStr:"-debug.js"}},SKIN_PREFIX:"skin-",_config:function(o){if(o){for(var i in o){if(lang.hasOwnProperty(o,i)){if(i=="require"){this.require(o[i])}else{this[i]=o[i]}}}}var f=this.filter;if(lang.isString(f)){f=f.toUpperCase();if(f==="DEBUG"){this.require("logger")}if(!Y.widget.LogWriter){Y.widget.LogWriter=function(){return Y}}this.filter=this.FILTERS[f]}},addModule:function(o){if(!o||!o.name||!o.type||(!o.path&&!o.fullpath)){return false}o.ext=("ext" in o)?o.ext:true;o.requires=o.requires||[];this.moduleInfo[o.name]=o;this.dirty=true;return true},require:function(what){var a=(typeof what==="string")?arguments:what;this.dirty=true;YUI.ObjectUtil.appendArray(this.required,a)},_addSkin:function(skin,mod){var name=this.formatSkin(skin),info=this.moduleInfo,sinf=this.skin,ext=info[mod]&&info[mod].ext;if(!info[name]){this.addModule({name:name,type:"css",path:sinf.base+skin+"/"+sinf.path,after:sinf.after,rollup:sinf.rollup,ext:ext})}if(mod){name=this.formatSkin(skin,mod);if(!info[name]){var mdef=info[mod],pkg=mdef.pkg||mod;this.addModule({name:name,type:"css",after:sinf.after,path:pkg+"/"+sinf.base+skin+"/"+mod+".css",ext:ext})}}return name},getRequires:function(mod){if(!mod){return[]}if(!this.dirty&&mod.expanded){return mod.expanded}mod.requires=mod.requires||[];var i,d=[],r=mod.requires,o=mod.optional,info=this.moduleInfo,m;for(i=0;i<r.length;i=i+1){d.push(r[i]);m=info[r[i]];YUI.ArrayUtil.appendArray(d,this.getRequires(m))}if(o&&this.loadOptional){for(i=0;i<o.length;i=i+1){d.push(o[i]);YUI.ArrayUtil.appendArray(d,this.getRequires(info[o[i]]))}}mod.expanded=YUI.ArrayUtil.uniq(d);return mod.expanded},getProvides:function(name,notMe){var addMe=!(notMe),ckey=(addMe)?PROV:SUPER,m=this.moduleInfo[name],o={};if(!m){return o}if(m[ckey]){return m[ckey]}var s=m.supersedes,done={},me=this;var add=function(mm){if(!done[mm]){done[mm]=true;lang.augmentObject(o,me.getProvides(mm))}};if(s){for(var i=0;i<s.length;i=i+1){add(s[i])}}m[SUPER]=o;m[PROV]=lang.merge(o);m[PROV][name]=true;return m[ckey]},calculate:function(o){if(this.dirty){this._config(o);this._setup();this._explode();if(this.allowRollup){this._rollup()}this._reduce();this._sort();this.dirty=false}},_setup:function(){var info=this.moduleInfo,name,i,j;for(name in info){var m=info[name];if(m&&m.skinnable){var o=this.skin.overrides,smod;if(o&&o[name]){for(i=0;i<o[name].length;i=i+1){smod=this._addSkin(o[name][i],name)}}else{smod=this._addSkin(this.skin.defaultSkin,name)}m.requires.push(smod)}}var l=lang.merge(this.inserted);if(!this._sandbox){l=lang.merge(l,env.modules)}if(this.ignore){YUI.ObjectUtil.appendArray(l,this.ignore)}if(this.force){for(i=0;i<this.force.length;i=i+1){if(this.force[i] in l){delete l[this.force[i]]}}}for(j in l){if(lang.hasOwnProperty(l,j)){lang.augmentObject(l,this.getProvides(j))}}this.loaded=l},_explode:function(){var r=this.required,i,mod;for(i in r){mod=this.moduleInfo[i];if(mod){var req=this.getRequires(mod);if(req){YUI.ObjectUtil.appendArray(r,req)}}}},_skin:function(){},formatSkin:function(skin,mod){var s=this.SKIN_PREFIX+skin;if(mod){s=s+"-"+mod}return s},parseSkin:function(mod){if(mod.indexOf(this.SKIN_PREFIX)===0){var a=mod.split("-");return{skin:a[1],module:a[2]}}return null},_rollup:function(){var i,j,m,s,rollups={},r=this.required,roll;if(this.dirty||!this.rollups){for(i in this.moduleInfo){m=this.moduleInfo[i];if(m&&m.rollup){rollups[i]=m}}this.rollups=rollups}for(;;){var rolled=false;for(i in rollups){if(!r[i]&&!this.loaded[i]){m=this.moduleInfo[i];s=m.supersedes;roll=false;if(!m.rollup){continue}var skin=(m.ext)?false:this.parseSkin(i),c=0;if(skin){for(j in r){if(i!==j&&this.parseSkin(j)){c++;roll=(c>=m.rollup);if(roll){break}}}}else{for(j=0;j<s.length;j=j+1){if(this.loaded[s[j]]&&(!YUI.dupsAllowed[s[j]])){roll=false;break}else{if(r[s[j]]){c++;roll=(c>=m.rollup);if(roll){break}}}}}if(roll){r[i]=true;rolled=true;this.getRequires(m)}}}if(!rolled){break}}},_reduce:function(){var i,j,s,m,r=this.required;for(i in r){if(i in this.loaded){delete r[i]}else{var skinDef=this.parseSkin(i);if(skinDef){if(!skinDef.module){var skin_pre=this.SKIN_PREFIX+skinDef.skin;for(j in r){m=this.moduleInfo[j];var ext=m&&m.ext;if(!ext&&j!==i&&j.indexOf(skin_pre)>-1){delete r[j]}}}}else{m=this.moduleInfo[i];s=m&&m.supersedes;if(s){for(j=0;j<s.length;j=j+1){if(s[j] in r){delete r[s[j]]}}}}}}},_sort:function(){var s=[],info=this.moduleInfo,loaded=this.loaded,checkOptional=!this.loadOptional,me=this;var requires=function(aa,bb){if(loaded[bb]){return false}var ii,mm=info[aa],rr=mm&&mm.expanded,after=mm&&mm.after,other=info[bb],optional=mm&&mm.optional;if(rr&&YUI.ArrayUtil.indexOf(rr,bb)>-1){return true}if(after&&YUI.ArrayUtil.indexOf(after,bb)>-1){return true}if(checkOptional&&optional&&YUI.ArrayUtil.indexOf(optional,bb)>-1){return true}var ss=info[bb]&&info[bb].supersedes;if(ss){for(ii=0;ii<ss.length;ii=ii+1){if(requires(aa,ss[ii])){return true}}}if(mm.ext&&mm.type=="css"&&(!other.ext)){return true}return false};for(var i in this.required){s.push(i)}var p=0;for(;;){var l=s.length,a,b,j,k,moved=false;for(j=p;j<l;j=j+1){a=s[j];for(k=j+1;k<l;k=k+1){if(requires(a,s[k])){b=s.splice(k,1);s.splice(j,0,b[0]);moved=true;break}}if(moved){break}else{p=p+1}}if(!moved){break}}this.sorted=s},toString:function(){var o={type:"YUILoader",base:this.base,filter:this.filter,required:this.required,loaded:this.loaded,inserted:this.inserted};lang.dump(o,1)},insert:function(o,type){this.calculate(o);if(!type){var self=this;this._internalCallback=function(){self._internalCallback=null;self.insert(null,"js")};this.insert(null,"css");return }this._loading=true;this.loadType=type;this.loadNext()},sandbox:function(o,type){if(o){}else{}this._config(o);if(!this.onSuccess){throw new Error("You must supply an onSuccess handler for your sandbox")}this._sandbox=true;var self=this;if(!type||type!=="js"){this._internalCallback=function(){self._internalCallback=null;self.sandbox(null,"js")};this.insert(null,"css");return }if(!util.Connect){var ld=new pega.util.YUILoader();ld.insert({base:this.base,filter:this.filter,require:"connection",insertBefore:this.insertBefore,charset:this.charset,onSuccess:function(){this.sandbox(null,"js")},scope:this},"js");return }this._scriptText=[];this._loadCount=0;this._stopCount=this.sorted.length;this._xhr=[];this.calculate();var s=this.sorted,l=s.length,i,m,url;for(i=0;i<l;i=i+1){m=this.moduleInfo[s[i]];if(!m){this.onFailure.call(this.scope,{msg:"undefined module "+m,data:this.data});for(var j=0;j<this._xhr.length;j=j+1){this._xhr[j].abort()}return }if(m.type!=="js"){this._loadCount++;continue}url=m.fullpath||this._url(m.path);var xhrData={success:function(o){var idx=o.argument[0],name=o.argument[2];this._scriptText[idx]=o.responseText;if(this.onProgress){this.onProgress.call(this.scope,{name:name,scriptText:o.responseText,xhrResponse:o,data:this.data})}this._loadCount++;if(this._loadCount>=this._stopCount){var v=this.varName||"pega";var t="(function() {\n";var b="\nreturn "+v+";\n})();";var ref=eval(t+this._scriptText.join("\n")+b);this._pushEvents(ref);if(ref){this.onSuccess.call(this.scope,{reference:ref,data:this.data})}else{this.onFailure.call(this.scope,{msg:this.varName+" reference failure",data:this.data})}}},failure:function(o){this.onFailure.call(this.scope,{msg:"XHR failure",xhrResponse:o,data:this.data})},scope:this,argument:[i,url,s[i]]};this._xhr.push(util.Connect.asyncRequest("GET",url,xhrData))}},loadNext:function(mname){if(!this._loading){return }if(mname){if(mname!==this._loading){return }this.inserted[mname]=true;if(this.onProgress){this.onProgress.call(this.scope,{name:mname,data:this.data})}}var s=this.sorted,len=s.length,i,m;for(i=0;i<len;i=i+1){if(s[i] in this.inserted){continue}if(s[i]===this._loading){return }m=this.moduleInfo[s[i]];if(!m){this.onFailure.call(this.scope,{msg:"undefined module "+m,data:this.data});return }if(!this.loadType||this.loadType===m.type){this._loading=s[i];var fn=(m.type==="css")?util.Get.css:util.Get.script,url=m.fullpath||this._url(m.path),self=this,c=function(o){self.loadNext(o.data)};if(env.ua.webkit&&env.ua.webkit<420&&m.type==="js"&&!m.varName){c=null;this._useYahooListener=true}fn(url,{data:s[i],onSuccess:c,insertBefore:this.insertBefore,charset:this.charset,varName:m.varName,scope:self});return }}this._loading=null;if(this._internalCallback){var f=this._internalCallback;this._internalCallback=null;f.call(this)}else{if(this.onSuccess){this._pushEvents();this.onSuccess.call(this.scope,{data:this.data})}}},_pushEvents:function(ref){var r=ref||pega;if(r.util&&r.util.Event){r.util.Event._load()}},_url:function(path){var u=this.base||"",f=this.filter;u=u+path;if(f){u=u.replace(new RegExp(f.searchExp),f.replaceStr)}return u}}})();(function(){var R=pega.util,X,Z,Y={},c={},V=window.document;pega.env._id_counter=pega.env._id_counter||0;var Q=pega.env.ua.opera,W=pega.env.ua.webkit,S=pega.env.ua.gecko,b=pega.env.ua.ie;var d={HYPHEN:/(-[a-z])/i,ROOT_TAG:/^body|html$/i,OP_SCROLL:/^(?:inline|table-row)$/i};var U=function(B){if(!d.HYPHEN.test(B)){return B}if(Y[B]){return Y[B]}var A=B;while(d.HYPHEN.exec(A)){A=A.replace(RegExp.$1,RegExp.$1.substr(1).toUpperCase())}Y[B]=A;return A};var T=function(A){var B=c[A];if(!B){B=new RegExp("(?:^|\\s+)"+A+"(?:\\s+|$)");c[A]=B}return B};if(V.defaultView&&V.defaultView.getComputedStyle){X=function(D,A){var B=null;if(A=="float"){A="cssFloat"}var C=D.ownerDocument.defaultView.getComputedStyle(D,"");if(C){B=C[U(A)]}return D.style[A]||B}}else{if(V.documentElement.currentStyle&&b){X=function(E,C){switch(U(C)){case"opacity":var A=100;try{A=E.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(B){try{A=E.filters("alpha").opacity}catch(B){}}return A/100;case"float":C="styleFloat";default:var D=E.currentStyle?E.currentStyle[C]:null;return(E.style[C]||D)}}}else{X=function(B,A){return B.style[A]}}}if(b){Z=function(C,B,A){switch(B){case"opacity":if(pega.lang.isString(C.style.filter)){C.style.filter="alpha(opacity="+A*100+")";if(!C.currentStyle||!C.currentStyle.hasLayout){C.style.zoom=1}}break;case"float":B="styleFloat";default:C.style[B]=A}}}else{Z=function(C,B,A){if(B=="float"){B="cssFloat"}C.style[B]=A}}var P=function(B,A){return B&&B.nodeType==1&&(!A||A(B))};pega.util.Dom={get:function(B){if(B&&(B.nodeType||B.item)){return B}if(pega.lang.isString(B)||!B){return V.getElementById(B)}if(B.length!==undefined){var A=[];for(var C=0,D=B.length;C<D;++C){A[A.length]=R.Dom.get(B[C])}return A}return B},getStyle:function(C,A){A=U(A);var B=function(D){return X(D,A)};return R.Dom.batch(C,B,R.Dom,true)},setStyle:function(D,B,A){B=U(B);var C=function(E){Z(E,B,A)};R.Dom.batch(D,C,R.Dom,true)},getXY:function(B){var A=function(C){if((C.parentNode===null||C.offsetParent===null||this.getStyle(C,"display")=="none")&&C!=C.ownerDocument.body){return false}return a(C)};return R.Dom.batch(B,A,R.Dom,true)},getX:function(B){var A=function(C){return R.Dom.getXY(C)[0]};return R.Dom.batch(B,A,R.Dom,true)},getY:function(B){var A=function(C){return R.Dom.getXY(C)[1]};return R.Dom.batch(B,A,R.Dom,true)},setXY:function(D,A,B){var C=function(F){var G=this.getStyle(F,"position");if(G=="static"){this.setStyle(F,"position","relative");G="relative"}var I=this.getXY(F);if(I===false){return false}var E=[parseInt(this.getStyle(F,"left"),10),parseInt(this.getStyle(F,"top"),10)];if(isNaN(E[0])){E[0]=(G=="relative")?0:F.offsetLeft}if(isNaN(E[1])){E[1]=(G=="relative")?0:F.offsetTop}if(A[0]!==null){F.style.left=A[0]-I[0]+E[0]+"px"}if(A[1]!==null){F.style.top=A[1]-I[1]+E[1]+"px"}if(!B){var H=this.getXY(F);if((A[0]!==null&&H[0]!=A[0])||(A[1]!==null&&H[1]!=A[1])){this.setXY(F,A,true)}}};R.Dom.batch(D,C,R.Dom,true)},setX:function(A,B){R.Dom.setXY(A,[B,null])},setY:function(B,A){R.Dom.setXY(B,[null,A])},getRegion:function(B){var A=function(D){if((D.parentNode===null||D.offsetParent===null||this.getStyle(D,"display")=="none")&&D!=D.ownerDocument.body){return false}var C=R.Region.getRegion(D);return C};return R.Dom.batch(B,A,R.Dom,true)},getClientWidth:function(){return R.Dom.getViewportWidth()},getClientHeight:function(){return R.Dom.getViewportHeight()},getElementsByClassName:function(E,A,D,C){A=A||"*";D=(D)?R.Dom.get(D):null||V;if(!D){return[]}var H=[],I=D.getElementsByTagName(A),B=T(E);for(var G=0,F=I.length;G<F;++G){if(B.test(I[G].className)){H[H.length]=I[G];if(C){C.call(I[G],I[G])}}}return H},hasClass:function(B,C){var D=T(C);var A=function(E){return D.test(E.className)};return R.Dom.batch(B,A,R.Dom,true)},addClass:function(B,C){var A=function(D){if(this.hasClass(D,C)){return false}D.className=pega.lang.trim([D.className,C].join(" "));return true};return R.Dom.batch(B,A,R.Dom,true)},removeClass:function(B,C){var D=T(C);var A=function(F){if(!C||!this.hasClass(F,C)){return false}var E=F.className;F.className=E.replace(D," ");if(this.hasClass(F,C)){this.removeClass(F,C)}F.className=pega.lang.trim(F.className);return true};return R.Dom.batch(B,A,R.Dom,true)},replaceClass:function(B,D,E){if(!E||D===E){return false}var C=T(D);var A=function(F){if(!this.hasClass(F,D)){this.addClass(F,E);return true}F.className=F.className.replace(C," "+E+" ");if(this.hasClass(F,D)){this.replaceClass(F,D,E)}F.className=pega.lang.trim(F.className);return true};return R.Dom.batch(B,A,R.Dom,true)},generateId:function(C,A){A=A||"yui-gen";var B=function(E){if(E&&E.id){return E.id}var D=A+pega.env._id_counter++;if(E){E.id=D}return D};return R.Dom.batch(C,B,R.Dom,true)||B.apply(R.Dom,arguments)},isAncestor:function(B,A){B=R.Dom.get(B);A=R.Dom.get(A);if(!B||!A){return false}if(B.contains&&A.nodeType&&!W){return B.contains(A)}else{if(B.compareDocumentPosition&&A.nodeType){return !!(B.compareDocumentPosition(A)&16)}else{if(A.nodeType){return !!this.getAncestorBy(A,function(C){return C==B})}}}return false},inDocument:function(A){return this.isAncestor(V.documentElement,A)},getElementsBy:function(A,G,F,D){G=G||"*";F=(F)?R.Dom.get(F):null||V;if(!F){return[]}var E=[],B=F.getElementsByTagName(G);for(var C=0,H=B.length;C<H;++C){if(A(B[C])){E[E.length]=B[C];if(D){D(B[C])}}}return E},batch:function(D,A,B,F){D=(D&&(D.tagName||D.item))?D:R.Dom.get(D);if(!D||!A){return false}var E=(F)?B:window;if(D.tagName||D.length===undefined){return A.call(E,D,B)}var C=[];for(var G=0,H=D.length;G<H;++G){C[C.length]=A.call(E,D[G],B)}return C},getDocumentHeight:function(){var A=(V.compatMode!="CSS1Compat")?V.body.scrollHeight:V.documentElement.scrollHeight;var B=Math.max(A,R.Dom.getViewportHeight());return B},getDocumentWidth:function(){var A=(V.compatMode!="CSS1Compat")?V.body.scrollWidth:V.documentElement.scrollWidth;var B=Math.max(A,R.Dom.getViewportWidth());return B},getViewportHeight:function(){var B=self.innerHeight;var A=V.compatMode;if((A||b)&&!Q){B=(A=="CSS1Compat")?V.documentElement.clientHeight:V.body.clientHeight}return B},getViewportWidth:function(){var B=self.innerWidth;var A=V.compatMode;if(A||b){B=(A=="CSS1Compat")?V.documentElement.clientWidth:V.body.clientWidth}return B},getAncestorBy:function(B,A){while(B=B.parentNode){if(P(B,A)){return B}}return null},getAncestorByClassName:function(B,C){B=R.Dom.get(B);if(!B){return null}var A=function(D){return R.Dom.hasClass(D,C)};return R.Dom.getAncestorBy(B,A)},getAncestorByTagName:function(B,C){B=R.Dom.get(B);if(!B){return null}var A=function(D){return D.tagName&&D.tagName.toUpperCase()==C.toUpperCase()};return R.Dom.getAncestorBy(B,A)},getPreviousSiblingBy:function(B,A){while(B){B=B.previousSibling;if(P(B,A)){return B}}return null},getPreviousSibling:function(A){A=R.Dom.get(A);if(!A){return null}return R.Dom.getPreviousSiblingBy(A)},getNextSiblingBy:function(B,A){while(B){B=B.nextSibling;if(P(B,A)){return B}}return null},getNextSibling:function(A){A=R.Dom.get(A);if(!A){return null}return R.Dom.getNextSiblingBy(A)},getFirstChildBy:function(C,A){var B=(P(C.firstChild,A))?C.firstChild:null;return B||R.Dom.getNextSiblingBy(C.firstChild,A)},getFirstChild:function(B,A){B=R.Dom.get(B);if(!B){return null}return R.Dom.getFirstChildBy(B)},getLastChildBy:function(C,A){if(!C){return null}var B=(P(C.lastChild,A))?C.lastChild:null;return B||R.Dom.getPreviousSiblingBy(C.lastChild,A)},getLastChild:function(A){A=R.Dom.get(A);return R.Dom.getLastChildBy(A)},getChildrenBy:function(C,A){var B=R.Dom.getFirstChildBy(C,A);var D=B?[B]:[];R.Dom.getNextSiblingBy(B,function(E){if(!A||A(E)){D[D.length]=E}return false});return D},getChildren:function(A){A=R.Dom.get(A);if(!A){}return R.Dom.getChildrenBy(A)},getDocumentScrollLeft:function(A){A=A||V;return Math.max(A.documentElement.scrollLeft,A.body.scrollLeft)},getDocumentScrollTop:function(A){A=A||V;return Math.max(A.documentElement.scrollTop,A.body.scrollTop)},insertBefore:function(A,B){A=R.Dom.get(A);B=R.Dom.get(B);if(!A||!B||!B.parentNode){return null}return B.parentNode.insertBefore(A,B)},insertAfter:function(A,B){A=R.Dom.get(A);B=R.Dom.get(B);if(!A||!B||!B.parentNode){return null}if(B.nextSibling){return B.parentNode.insertBefore(A,B.nextSibling)}else{return B.parentNode.appendChild(A)}},getClientRegion:function(){var B=R.Dom.getDocumentScrollTop(),C=R.Dom.getDocumentScrollLeft(),A=R.Dom.getViewportWidth()+C,D=R.Dom.getViewportHeight()+B;return new R.Region(B,A,D,C)}};var a=function(){if(V.documentElement.getBoundingClientRect){return function(B){var A=B.getBoundingClientRect();var C=B.ownerDocument;return[A.left+R.Dom.getDocumentScrollLeft(C),A.top+R.Dom.getDocumentScrollTop(C)]}}else{return function(B){var A=[B.offsetLeft,B.offsetTop];var C=B.offsetParent;var D=(W&&R.Dom.getStyle(B,"position")=="absolute"&&B.offsetParent==B.ownerDocument.body);if(C!=B){while(C){A[0]+=C.offsetLeft;A[1]+=C.offsetTop;if(!D&&W&&R.Dom.getStyle(C,"position")=="absolute"){D=true}C=C.offsetParent}}if(D){A[0]-=B.ownerDocument.body.offsetLeft;A[1]-=B.ownerDocument.body.offsetTop}C=B.parentNode;while(C.tagName&&!d.ROOT_TAG.test(C.tagName)){if(C.scrollTop||C.scrollLeft){if(!d.OP_SCROLL.test(R.Dom.getStyle(C,"display"))){if(!Q||R.Dom.getStyle(C,"overflow")!=="visible"){A[0]-=C.scrollLeft;A[1]-=C.scrollTop}}}C=C.parentNode}return A}}}()})();pega.util.Region=function(G,F,E,H){this.top=G;this[1]=G;this.right=F;this.bottom=E;this.left=H;this[0]=H};pega.util.Region.prototype.contains=function(B){return(B.left>=this.left&&B.right<=this.right&&B.top>=this.top&&B.bottom<=this.bottom)};pega.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left))};pega.util.Region.prototype.intersect=function(G){var I=Math.max(this.top,G.top);var H=Math.min(this.right,G.right);var F=Math.min(this.bottom,G.bottom);var J=Math.max(this.left,G.left);if(F>=I&&H>=J){return new pega.util.Region(I,H,F,J)}else{return null}};pega.util.Region.prototype.union=function(G){var I=Math.min(this.top,G.top);var H=Math.max(this.right,G.right);var F=Math.max(this.bottom,G.bottom);var J=Math.min(this.left,G.left);return new pega.util.Region(I,H,F,J)};pega.util.Region.prototype.toString=function(){return("Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+"}")};pega.util.Region.getRegion=function(J){var H=pega.util.Dom.getXY(J);var K=H[1];var I=H[0]+J.offsetWidth;var G=H[1]+J.offsetHeight;var L=H[0];return new pega.util.Region(K,I,G,L)};pega.util.Point=function(C,D){if(pega.lang.isArray(C)){D=C[1];C=C[0]}this.x=this.right=this.left=this[0]=C;this.y=this.top=this.bottom=this[1]=D};pega.util.Point.prototype=new pega.util.Region();pega.register("dom",pega.util.Dom,{version:"2.5.2",build:"1076"});pega.util.CustomEvent=function(H,J,I,F){this.type=H;this.scope=J||window;this.silent=I;this.signature=F||pega.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var G="_YUICEOnSubscribe";if(H!==G){this.subscribeEvent=new pega.util.CustomEvent(G,this,true)}this.lastError=null};pega.util.CustomEvent.LIST=0;pega.util.CustomEvent.FLAT=1;pega.util.CustomEvent.prototype={subscribe:function(F,E,D){if(!F){throw new Error("Invalid callback for subscriber to '"+this.type+"'")}if(this.subscribeEvent){this.subscribeEvent.fire(F,E,D)}this.subscribers.push(new pega.util.Subscriber(F,E,D))},unsubscribe:function(J,H){if(!J){return this.unsubscribeAll()}var I=false;for(var L=0,G=this.subscribers.length;L<G;++L){var K=this.subscribers[L];if(K&&K.contains(J,H)){this._delete(L);I=true}}return I},fire:function(){this.lastError=null;var T=[],Z=this.subscribers.length;if(!Z&&this.silent){return true}var V=[].slice.call(arguments,0),X=true,N,U=false;if(!this.silent){}var O=this.subscribers.slice(),Q=pega.util.Event.throwErrors;for(N=0;N<Z;++N){var R=O[N];if(!R){U=true}else{if(!this.silent){}var S=R.getScope(this.scope);if(this.signature==pega.util.CustomEvent.FLAT){var P=null;if(V.length>0){P=V[0]}try{X=R.fn.call(S,P,R.obj)}catch(Y){this.lastError=Y;if(Q){throw Y}}}else{try{X=R.fn.call(S,this.type,V,R.obj)}catch(W){this.lastError=W;if(Q){throw W}}}if(false===X){if(!this.silent){}break}}}return(X!==false)},unsubscribeAll:function(){for(var B=this.subscribers.length-1;B>-1;B--){this._delete(B)}this.subscribers=[];return B},_delete:function(C){var D=this.subscribers[C];if(D){delete D.fn;delete D.obj}this.subscribers.splice(C,1)},toString:function(){return"CustomEvent: '"+this.type+"', scope: "+this.scope}};pega.util.Subscriber=function(F,E,D){this.fn=F;this.obj=pega.lang.isUndefined(E)?null:E;this.override=D};pega.util.Subscriber.prototype.getScope=function(B){if(this.override){if(this.override===true){return this.obj}else{return this.override}}return B};pega.util.Subscriber.prototype.contains=function(C,D){if(D){return(this.fn==C&&this.obj==D)}else{return(this.fn==C)}};pega.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", override: "+(this.override||"no")+" }"};if(!pega.util.Event){pega.util.Event=function(){var Q=false;var P=[];var O=[];var R=[];var T=[];var L=0;var S=[];var M=[];var N=0;var K={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9};return{POLL_RETRYS:2000,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,lastError:null,isSafari:pega.env.ua.webkit,webkit:pega.env.ua.webkit,isIE:pega.env.ua.ie,_interval:null,_dri:null,DOMReady:false,throwErrors:false,startInterval:function(){if(!this._interval){var B=this;var A=function(){B._tryPreloadAttach()};this._interval=setInterval(A,this.POLL_INTERVAL)}},onAvailable:function(D,G,C,E,F){var B=(pega.lang.isString(D))?[D]:D;for(var A=0;A<B.length;A=A+1){S.push({id:B[A],fn:G,obj:C,override:E,checkReady:F})}L=this.POLL_RETRYS;this.startInterval()},onContentReady:function(D,B,C,A){this.onAvailable(D,B,C,A,true)},onDOMReady:function(B,C,A){if(this.DOMReady){setTimeout(function(){var D=window;if(A){if(A===true){D=C}else{D=A}}B.call(D,"DOMReady",[],C)},0)}else{this.DOMReadyEvent.subscribe(B,C,A)}},addListener:function(b,d,D,I,c){if(!D||!D.call){return false}if(this._isValidCollection(b)){var C=true;for(var H=0,F=b.length;H<F;++H){C=this.on(b[H],d,D,I,c)&&C}return C}else{if(pega.lang.isString(b)){var J=this.getEl(b);if(J){b=J}else{this.onAvailable(b,function(){pega.util.Event.on(b,d,D,I,c)});return true}}}if(!b){return false}if("unload"==d&&I!==this){O[O.length]=[b,d,D,I,c];return true}var A=b;if(c){if(c===true){A=I}else{A=c}}var a=function(U){return D.call(A,pega.util.Event.getEvent(U,b),I)};var B=[b,d,D,a,A,I,c];var G=P.length;P[G]=B;if(this.useLegacyEvent(b,d)){var Z=this.getLegacyIndex(b,d);if(Z==-1||b!=R[Z][0]){Z=R.length;M[b.id+d]=Z;R[Z]=[b,d,b["on"+d]];T[Z]=[];b["on"+d]=function(U){pega.util.Event.fireLegacyEvent(pega.util.Event.getEvent(U),Z)}}T[Z].push(B)}else{try{this._simpleAdd(b,d,a,false)}catch(E){this.lastError=E;this.removeListener(b,d,D);return false}}return true},fireLegacyEvent:function(F,H){var D=true,J,B,C,A,E;B=T[H].slice();for(var I=0,G=B.length;I<G;++I){C=B[I];if(C&&C[this.WFN]){A=C[this.ADJ_SCOPE];E=C[this.WFN].call(A,F);D=(D&&E)}}J=R[H];if(J&&J[2]){J[2](F)}return D},getLegacyIndex:function(A,C){var B=this.generateId(A)+C;if(typeof M[B]=="undefined"){return -1}else{return M[B]}},useLegacyEvent:function(A,C){if(this.webkit&&("click"==C||"dblclick"==C)){var B=parseInt(this.webkit,10);if(!isNaN(B)&&B<418){return true}}return false},removeListener:function(W,X,C){var H,E,A;if(typeof W=="string"){W=this.getEl(W)}else{if(this._isValidCollection(W)){var B=true;for(H=W.length-1;H>-1;H--){B=(this.removeListener(W[H],X,C)&&B)}return B}}if(!C||!C.call){return this.purgeElement(W,false,X)}if("unload"==X){for(H=O.length-1;H>-1;H--){A=O[H];if(A&&A[0]==W&&A[1]==X&&A[2]==C){O.splice(H,1);return true}}return false}var G=null;var F=arguments[3];if("undefined"===typeof F){F=this._getCacheIndex(W,X,C)}if(F>=0){G=P[F]}if(!W||!G){return false}if(this.useLegacyEvent(W,X)){var I=this.getLegacyIndex(W,X);var J=T[I];if(J){for(H=0,E=J.length;H<E;++H){A=J[H];if(A&&A[this.EL]==W&&A[this.TYPE]==X&&A[this.FN]==C){J.splice(H,1);break}}}}else{try{this._simpleRemove(W,X,G[this.WFN],false)}catch(D){this.lastError=D;return false}}delete P[F][this.WFN];delete P[F][this.FN];P.splice(F,1);return true},getTarget:function(C,A){var B=C.target||C.srcElement;return this.resolveTextNode(B)},resolveTextNode:function(A){try{if(A&&3==A.nodeType){return A.parentNode}}catch(B){}return A},getPageX:function(A){var B=A.pageX;if(!B&&0!==B){B=A.clientX||0;if(this.isIE){B+=this._getScrollLeft()}}return B},getPageY:function(B){var A=B.pageY;if(!A&&0!==A){A=B.clientY||0;if(this.isIE){A+=this._getScrollTop()}}return A},getXY:function(A){return[this.getPageX(A),this.getPageY(A)]},getRelatedTarget:function(A){var B=A.relatedTarget;if(!B){if(A.type=="mouseout"){B=A.toElement}else{if(A.type=="mouseover"){B=A.fromElement}}}return this.resolveTextNode(B)},getTime:function(C){if(!C.time){var A=new Date().getTime();try{C.time=A}catch(B){this.lastError=B;return A}}return C.time},stopEvent:function(A){this.stopPropagation(A);this.preventDefault(A)},stopPropagation:function(A){if(A.stopPropagation){A.stopPropagation()}else{A.cancelBubble=true}},preventDefault:function(A){if(A.preventDefault){A.preventDefault()}else{A.returnValue=false}},getEvent:function(D,B){var A=D||window.event;if(!A){var C=this.getEvent.caller;while(C){A=C.arguments[0];if(A&&Event==A.constructor){break}C=C.caller}}return A},getCharCode:function(A){var B=A.keyCode||A.charCode||0;if(pega.env.ua.webkit&&(B in K)){B=K[B]}return B},_getCacheIndex:function(D,C,E){for(var F=0,A=P.length;F<A;F=F+1){var B=P[F];if(B&&B[this.FN]==E&&B[this.EL]==D&&B[this.TYPE]==C){return F}}return -1},generateId:function(B){var A=B.id;if(!A){A="yuievtautoid-"+N;++N;B.id=A}return A},_isValidCollection:function(A){try{return(A&&typeof A!=="string"&&A.length&&!A.tagName&&!A.alert&&typeof A[0]!=="undefined")}catch(B){return false}},elCache:{},getEl:function(A){return(typeof A==="string")?document.getElementById(A):A},clearCache:function(){},DOMReadyEvent:new pega.util.CustomEvent("DOMReady",this),_load:function(A){if(!Q){Q=true;var B=pega.util.Event;B._ready();B._tryPreloadAttach()}},_ready:function(A){var B=pega.util.Event;if(!B.DOMReady){B.DOMReady=true;B.DOMReadyEvent.fire();B._simpleRemove(document,"DOMContentLoaded",B._ready)}},_tryPreloadAttach:function(){if(S.length===0){L=0;clearInterval(this._interval);this._interval=null;return }if(this.locked){return }if(this.isIE){if(!this.DOMReady){this.startInterval();return }}this.locked=true;var D=!Q;if(!D){D=(L>0&&S.length>0)}var E=[];var C=function(J,I){var V=J;if(I.override){if(I.override===true){V=I.obj}else{V=I.override}}I.fn.call(V,I.obj)};var A,B,F,G,H=[];for(A=0,B=S.length;A<B;A=A+1){F=S[A];if(F){G=this.getEl(F.id);if(G){if(F.checkReady){if(Q||G.nextSibling||!D){H.push(F);S[A]=null}}else{C(G,F);S[A]=null}}else{E.push(F)}}}for(A=0,B=H.length;A<B;A=A+1){F=H[A];C(this.getEl(F.id),F)}L--;if(D){for(A=S.length-1;A>-1;A--){F=S[A];if(!F||!F.id){S.splice(A,1)}}this.startInterval()}else{clearInterval(this._interval);this._interval=null}this.locked=false},purgeElement:function(F,E,C){var H=(pega.lang.isString(F))?this.getEl(F):F;var D=this.getListeners(H,C),G,B;if(D){for(G=D.length-1;G>-1;G--){var A=D[G];this.removeListener(H,A.type,A.fn)}}if(E&&H&&H.childNodes){for(G=0,B=H.childNodes.length;G<B;++G){this.purgeElement(H.childNodes[G],E,C)}}},getListeners:function(H,J){var E=[],I;if(!J){I=[P,O]}else{if(J==="unload"){I=[O]}else{I=[P]}}var C=(pega.lang.isString(H))?this.getEl(H):H;for(var F=0;F<I.length;F=F+1){var A=I[F];if(A){for(var D=0,B=A.length;D<B;++D){var G=A[D];if(G&&G[this.EL]===C&&(!J||J===G[this.TYPE])){E.push({type:G[this.TYPE],fn:G[this.FN],obj:G[this.OBJ],adjust:G[this.OVERRIDE],scope:G[this.ADJ_SCOPE],index:D})}}}}return(E.length)?E:null},_unload:function(C){var I=pega.util.Event,F,G,H,D,E,B=O.slice();for(F=0,D=O.length;F<D;++F){H=B[F];if(H){var A=window;if(H[I.ADJ_SCOPE]){if(H[I.ADJ_SCOPE]===true){A=H[I.UNLOAD_OBJ]}else{A=H[I.ADJ_SCOPE]}}H[I.FN].call(A,I.getEvent(C,H[I.EL]),H[I.UNLOAD_OBJ]);B[F]=null;H=null;A=null}}O=null;if(P){for(G=P.length-1;G>-1;G--){H=P[G];if(H){I.removeListener(H[I.EL],H[I.TYPE],H[I.FN],G)}}H=null}R=null;I._simpleRemove(window,"unload",I._unload)},_getScrollLeft:function(){return this._getScroll()[1]},_getScrollTop:function(){return this._getScroll()[0]},_getScroll:function(){var B=document.documentElement,A=document.body;if(B&&(B.scrollTop||B.scrollLeft)){return[B.scrollTop,B.scrollLeft]}else{if(A){return[A.scrollTop,A.scrollLeft]}else{return[0,0]}}},regCE:function(){},_simpleAdd:function(){if(window.addEventListener){return function(D,C,A,B){D.addEventListener(C,A,(B))}}else{if(window.attachEvent){return function(D,C,A,B){D.attachEvent("on"+C,A)}}else{return function(){}}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(D,C,A,B){D.removeEventListener(C,A,(B))}}else{if(window.detachEvent){return function(A,C,B){A.detachEvent("on"+C,B)}}else{return function(){}}}}()}}();(function(){var A=pega.util.Event;A.on=A.addListener;if(A.isIE&&document.documentElement&&document.documentElement.doScroll){pega.util.Event.onDOMReady(pega.util.Event._tryPreloadAttach,pega.util.Event,true);var B=document.createElement("p");A._dri=setInterval(function(){try{B.doScroll("left");clearInterval(A._dri);A._dri=null;A._ready();B=null}catch(C){}},A.POLL_INTERVAL)}else{if(A.webkit&&A.webkit<525){A._dri=setInterval(function(){var C=document.readyState;if("loaded"==C||"complete"==C){clearInterval(A._dri);A._dri=null;A._ready()}},A.POLL_INTERVAL)}else{A._simpleAdd(document,"DOMContentLoaded",A._ready)}}A._simpleAdd(window,"load",A._load);A._simpleAdd(window,"unload",A._unload);A._tryPreloadAttach()})()}pega.util.EventProvider=function(){};pega.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(G,K,H,I){this.__yui_events=this.__yui_events||{};var J=this.__yui_events[G];if(J){J.subscribe(K,H,I)}else{this.__yui_subscribers=this.__yui_subscribers||{};var L=this.__yui_subscribers;if(!L[G]){L[G]=[]}L[G].push({fn:K,obj:H,override:I})}},unsubscribe:function(M,K,I){this.__yui_events=this.__yui_events||{};var H=this.__yui_events;if(M){var J=H[M];if(J){return J.unsubscribe(K,I)}}else{var N=true;for(var L in H){if(pega.lang.hasOwnProperty(H,L)){N=N&&H[L].unsubscribe(K,I)}}return N}return false},unsubscribeAll:function(B){return this.unsubscribe(B)},createEvent:function(P,J){this.__yui_events=this.__yui_events||{};var M=J||{};var N=this.__yui_events;if(N[P]){}else{var O=M.scope||this;var R=(M.silent);var L=new pega.util.CustomEvent(P,O,R,pega.util.CustomEvent.FLAT);N[P]=L;if(M.onSubscribeCallback){L.subscribeEvent.subscribe(M.onSubscribeCallback)}this.__yui_subscribers=this.__yui_subscribers||{};var Q=this.__yui_subscribers[P];if(Q){for(var K=0;K<Q.length;++K){L.subscribe(Q[K].fn,Q[K].obj,Q[K].override)}}}return N[P]},fireEvent:function(K,L,H,M){this.__yui_events=this.__yui_events||{};var I=this.__yui_events[K];if(!I){return null}var N=[];for(var J=1;J<arguments.length;++J){N.push(arguments[J])}return I.fire.apply(I,N)},hasEvent:function(B){if(this.__yui_events){if(this.__yui_events[B]){return true}}return false}};pega.util.KeyListener=function(G,H,L,K){if(!G){}else{if(!H){}else{if(!L){}}}if(!K){K=pega.util.KeyListener.KEYDOWN}var J=new pega.util.CustomEvent("keyPressed");this.enabledEvent=new pega.util.CustomEvent("enabled");this.disabledEvent=new pega.util.CustomEvent("disabled");if(typeof G=="string"){G=document.getElementById(G)}if(typeof L=="function"){J.subscribe(L)}else{J.subscribe(L.fn,L.scope,L.correctScope)}function I(A,B){if(!H.shift){H.shift=false}if(!H.alt){H.alt=false}if(!H.ctrl){H.ctrl=false}if(A.shiftKey==H.shift&&A.altKey==H.alt&&A.ctrlKey==H.ctrl){var D;if(H.keys instanceof Array){for(var C=0;C<H.keys.length;C++){D=H.keys[C];if(D==A.charCode){J.fire(A.charCode,A);break}else{if(D==A.keyCode){J.fire(A.keyCode,A);break}}}}else{D=H.keys;if(D==A.charCode){J.fire(A.charCode,A)}else{if(D==A.keyCode){J.fire(A.keyCode,A)}}}}}this.enable=function(){if(!this.enabled){pega.util.Event.addListener(G,K,I);this.enabledEvent.fire(H)}this.enabled=true};this.disable=function(){if(this.enabled){pega.util.Event.removeListener(G,K,I);this.disabledEvent.fire(H)}this.enabled=false};this.toString=function(){return"KeyListener ["+H.keys+"] "+G.tagName+(G.id?"["+G.id+"]":"")}};pega.util.KeyListener.KEYDOWN="keydown";pega.util.KeyListener.KEYUP="keyup";pega.util.KeyListener.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38};pega.register("event",pega.util.Event,{version:"2.5.2",build:"1076"});pega.util.Connect={_msxml_progid:["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],_http_headers:{},_has_http_headers:false,_use_default_post_header:true,_default_post_header:"application/x-www-form-urlencoded; charset=UTF-8",_default_form_header:"application/x-www-form-urlencoded",_use_default_xhr_header:true,_default_xhr_header:"XMLHttpRequest",_has_default_headers:true,_default_headers:{},_isFormSubmit:false,_isFileUpload:false,_formNode:null,_sFormData:null,_poll:{},_timeOut:{},_polling_interval:50,_transaction_id:0,_submitElementValue:null,_hasSubmitListener:(function(){if(pega.util.Event){pega.util.Event.addListener(document,"click",function(D){var C=pega.util.Event.getTarget(D);if(C.nodeName.toLowerCase()=="input"&&(C.type&&C.type.toLowerCase()=="submit")){pega.util.Connect._submitElementValue=encodeURIComponent(C.name)+"="+encodeURIComponent(C.value)}});return true}return false})(),startEvent:new pega.util.CustomEvent("start"),completeEvent:new pega.util.CustomEvent("complete"),successEvent:new pega.util.CustomEvent("success"),failureEvent:new pega.util.CustomEvent("failure"),uploadEvent:new pega.util.CustomEvent("upload"),abortEvent:new pega.util.CustomEvent("abort"),_customEvents:{onStart:["startEvent","start"],onComplete:["completeEvent","complete"],onSuccess:["successEvent","success"],onFailure:["failureEvent","failure"],onUpload:["uploadEvent","upload"],onAbort:["abortEvent","abort"]},setProgId:function(B){this._msxml_progid.unshift(B);pega.log("ActiveX Program Id  "+B+" added to _msxml_progid.","info","Connection")},setDefaultPostHeader:function(B){if(typeof B=="string"){this._default_post_header=B;pega.log("Default POST header set to  "+B,"info","Connection")}else{if(typeof B=="boolean"){this._use_default_post_header=B}}},setDefaultXhrHeader:function(B){if(typeof B=="string"){this._default_xhr_header=B;pega.log("Default XHR header set to  "+B,"info","Connection")}else{this._use_default_xhr_header=B}},setPollingInterval:function(B){if(typeof B=="number"&&isFinite(B)){this._polling_interval=B;pega.log("Default polling interval set to "+B+"ms","info","Connection")}},createXhrObject:function(G){var H,F;try{F=new XMLHttpRequest();H={conn:F,tId:G};pega.log("XHR object created for transaction "+G,"info","Connection")}catch(I){for(var J=0;J<this._msxml_progid.length;++J){try{F=new ActiveXObject(this._msxml_progid[J]);H={conn:F,tId:G};pega.log("ActiveX XHR object created for transaction "+G,"info","Connection");break}catch(I){}}}finally{return H}},getConnectionObject:function(E){var G;var F=this._transaction_id;try{if(!E){G=this.createXhrObject(F)}else{G={};G.tId=F;G.isUpload=true}if(G){this._transaction_id++}}catch(H){}finally{return G}},asyncRequest:function(H,K,I,G){var J=(this._isFileUpload)?this.getConnectionObject(true):this.getConnectionObject();var L=(I&&I.argument)?I.argument:null;if(!J){pega.log("Unable to create connection object.","error","Connection");return null}else{if(I&&I.customevents){this.initCustomEvents(J,I)}if(this._isFormSubmit){if(this._isFileUpload){this.uploadFile(J,I,K,G);return J}if(H.toUpperCase()=="GET"){if(this._sFormData.length!==0){K+=((K.indexOf("?")==-1)?"?":"&")+this._sFormData}}else{if(H.toUpperCase()=="POST"){G=G?this._sFormData+"&"+G:this._sFormData}}}if(H.toUpperCase()=="GET"&&(I&&I.cache===false)){K+=((K.indexOf("?")==-1)?"?":"&")+"rnd="+new Date().valueOf().toString()}J.conn.open(H,K,true);if(this._use_default_xhr_header){if(!this._default_headers["X-Requested-With"]){this.initHeader("X-Requested-With",this._default_xhr_header,true);pega.log("Initialize transaction header X-Request-Header to XMLHttpRequest.","info","Connection")}}if((H.toUpperCase()=="POST"&&this._use_default_post_header)&&this._isFormSubmit===false){this.initHeader("Content-Type",this._default_post_header);pega.log("Initialize header Content-Type to application/x-www-form-urlencoded; UTF-8 for POST transaction.","info","Connection")}if(this._has_default_headers||this._has_http_headers){this.setHeader(J)}this.handleReadyState(J,I);J.conn.send(G||"");pega.log("Transaction "+J.tId+" sent.","info","Connection");if(this._isFormSubmit===true){this.resetFormState()}this.startEvent.fire(J,L);if(J.startEvent){J.startEvent.fire(J,L)}return J}},initCustomEvents:function(D,E){for(var F in E.customevents){if(this._customEvents[F][0]){D[this._customEvents[F][0]]=new pega.util.CustomEvent(this._customEvents[F][1],(E.scope)?E.scope:null);pega.log("Transaction-specific Custom Event "+D[this._customEvents[F][1]]+" created.","info","Connection");D[this._customEvents[F][0]].subscribe(E.customevents[F]);pega.log("Transaction-specific Custom Event "+D[this._customEvents[F][1]]+" subscribed.","info","Connection")}}},handleReadyState:function(G,F){var H=this;var E=(F&&F.argument)?F.argument:null;if(F&&F.timeout){this._timeOut[G.tId]=window.setTimeout(function(){H.abort(G,F,true)},F.timeout)}this._poll[G.tId]=window.setInterval(function(){if(G.conn&&G.conn.readyState===4){window.clearInterval(H._poll[G.tId]);delete H._poll[G.tId];if(F&&F.timeout){window.clearTimeout(H._timeOut[G.tId]);delete H._timeOut[G.tId]}H.completeEvent.fire(G,E);if(G.completeEvent){G.completeEvent.fire(G,E)}H.handleTransactionResponse(G,F)}},this._polling_interval)},handleTransactionResponse:function(J,I,H){var L,M;var N=(I&&I.argument)?I.argument:null;try{if(J.conn.status!==undefined&&J.conn.status!==0){L=J.conn.status}else{L=13030}}catch(K){L=13030}if(L>=200&&L<300||L===1223){M=this.createResponseObject(J,N);if(I&&I.success){if(!I.scope){I.success(M);pega.log("Success callback. HTTP code is "+L,"info","Connection")}else{I.success.apply(I.scope,[M]);pega.log("Success callback with scope. HTTP code is "+L,"info","Connection")}}this.successEvent.fire(M);if(J.successEvent){J.successEvent.fire(M)}}else{switch(L){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:M=this.createExceptionObject(J.tId,N,(H?H:false));if(I&&I.failure){if(!I.scope){I.failure(M);pega.log("Failure callback. Exception detected. Status code is "+L,"warn","Connection")}else{I.failure.apply(I.scope,[M]);pega.log("Failure callback with scope. Exception detected. Status code is "+L,"warn","Connection")}}break;default:M=this.createResponseObject(J,N);if(I&&I.failure){if(!I.scope){I.failure(M);pega.log("Failure callback. HTTP status code is "+L,"warn","Connection")}else{I.failure.apply(I.scope,[M]);pega.log("Failure callback with scope. HTTP status code is "+L,"warn","Connection")}}}this.failureEvent.fire(M);if(J.failureEvent){J.failureEvent.fire(M)}}this.releaseObject(J);M=null},createResponseObject:function(M,P){var J={};var N={};try{var K=M.conn.getAllResponseHeaders();var Q=K.split("\n");for(var R=0;R<Q.length;R++){var L=Q[R].indexOf(":");if(L!=-1){N[Q[R].substring(0,L)]=Q[R].substring(L+2)}}}catch(O){}J.tId=M.tId;J.status=(M.conn.status==1223)?204:M.conn.status;J.statusText=(M.conn.status==1223)?"No Content":M.conn.statusText;J.getResponseHeader=N;J.getAllResponseHeaders=K;J.responseText=M.conn.responseText;J.responseXML=M.conn.responseXML;if(P){J.argument=P}return J},createExceptionObject:function(J,N,I){var L=0;var K="communication failure";var O=-1;var P="transaction aborted";var M={};M.tId=J;if(I){M.status=O;M.statusText=P}else{M.status=L;M.statusText=K}if(N){M.argument=N}return M},initHeader:function(E,F,G){var H=(G)?this._default_headers:this._http_headers;H[E]=F;if(G){this._has_default_headers=true}else{this._has_http_headers=true}},setHeader:function(C){if(this._has_default_headers){for(var D in this._default_headers){if(pega.lang.hasOwnProperty(this._default_headers,D)){C.conn.setRequestHeader(D,this._default_headers[D]);pega.log("Default HTTP header "+D+" set with value of "+this._default_headers[D],"info","Connection")}}}if(this._has_http_headers){for(var D in this._http_headers){if(pega.lang.hasOwnProperty(this._http_headers,D)){C.conn.setRequestHeader(D,this._http_headers[D]);pega.log("HTTP header "+D+" set with value of "+this._http_headers[D],"info","Connection")}}delete this._http_headers;this._http_headers={};this._has_http_headers=false}},resetDefaultHeaders:function(){delete this._default_headers;this._default_headers={};this._has_default_headers=false},setForm:function(R,X,O){this.resetFormState();var S;if(typeof R=="string"){S=(document.getElementById(R)||document.forms[R])}else{if(typeof R=="object"){S=R}else{pega.log("Unable to create form object "+R,"warn","Connection");return }}if(X){var W=this.createFrame((window.location.href.toLowerCase().indexOf("https")===0||O)?true:false);this._isFormSubmit=true;this._isFileUpload=true;this._formNode=S;return }var P,T,V,Q;var U=false;for(var M=0;M<S.elements.length;M++){P=S.elements[M];Q=P.disabled;T=P.name;V=P.value;if(!Q&&T){switch(P.type){case"select-one":case"select-multiple":for(var N=0;N<P.options.length;N++){if(P.options[N].selected){if(window.ActiveXObject){this._sFormData+=encodeURIComponent(T)+"="+encodeURIComponent(P.options[N].attributes.value.specified?P.options[N].value:P.options[N].text)+"&"}else{this._sFormData+=encodeURIComponent(T)+"="+encodeURIComponent(P.options[N].hasAttribute("value")?P.options[N].value:P.options[N].text)+"&"}}}break;case"radio":case"checkbox":if(P.checked){this._sFormData+=encodeURIComponent(T)+"="+encodeURIComponent(V)+"&"}break;case"file":case undefined:case"reset":case"button":break;case"submit":if(U===false){if(this._hasSubmitListener&&this._submitElementValue){this._sFormData+=this._submitElementValue+"&"}else{this._sFormData+=encodeURIComponent(T)+"="+encodeURIComponent(V)+"&"}U=true}break;default:this._sFormData+=encodeURIComponent(T)+"="+encodeURIComponent(V)+"&"}}}this._isFormSubmit=true;this._sFormData=this._sFormData.substr(0,this._sFormData.length-1);pega.log("Form initialized for transaction. HTML form POST message is: "+this._sFormData,"info","Connection");this.initHeader("Content-Type",this._default_form_header);pega.log("Initialize header Content-Type to application/x-www-form-urlencoded for setForm() transaction.","info","Connection");return this._sFormData},resetFormState:function(){this._isFormSubmit=false;this._isFileUpload=false;this._formNode=null;this._sFormData=""},createFrame:function(D){var G="yuiIO"+this._transaction_id;var F;var E;if(window.ActiveXObject){E=document.documentMode?document.documentMode:false;if(E>=9){F=document.createElement("iframe");F.id=G;F.name=G}else{F=document.createElement('<iframe id="'+G+'" name="'+G+'" />')}if(typeof D=="boolean"){F.src="javascript:false"}}else{F=document.createElement("iframe");F.id=G;F.name=G}F.style.position="absolute";F.style.top="-1000px";F.style.left="-1000px";document.body.appendChild(F);pega.log("File upload iframe created. Id is:"+G,"info","Connection")},appendPostData:function(F){var H=[];var J=F.split("&");for(var I=0;I<J.length;I++){var G=J[I].indexOf("=");if(G!=-1){H[I]=document.createElement("input");H[I].type="hidden";H[I].name=J[I].substring(0,G);H[I].value=J[I].substring(G+1);this._formNode.appendChild(H[I])}}return H},uploadFile:function(O,T,b,P){var S=this;var Y="yuiIO"+O.tId;var X="multipart/form-data";var V=document.getElementById(Y);var W=(T&&T.argument)?T.argument:null;var Q={action:this._formNode.getAttribute("action"),method:this._formNode.getAttribute("method"),target:this._formNode.getAttribute("target")};this._formNode.setAttribute("action",b);this._formNode.setAttribute("method","POST");this._formNode.setAttribute("target",Y);if(pega.env.ua.ie){this._formNode.setAttribute("encoding",X)}else{this._formNode.setAttribute("enctype",X)}if(P){var U=this.appendPostData(P)}this._formNode.submit();this.startEvent.fire(O,W);if(O.startEvent){O.startEvent.fire(O,W)}if(T&&T.timeout){this._timeOut[O.tId]=window.setTimeout(function(){S.abort(O,T,true)},T.timeout)}if(U&&U.length>0){for(var Z=0;Z<U.length;Z++){this._formNode.removeChild(U[Z])}}for(var R in Q){if(pega.lang.hasOwnProperty(Q,R)){if(Q[R]){this._formNode.setAttribute(R,Q[R])}else{this._formNode.removeAttribute(R)}}}this.resetFormState();var a=function(){if(T&&T.timeout){window.clearTimeout(S._timeOut[O.tId]);delete S._timeOut[O.tId]}S.completeEvent.fire(O,W);if(O.completeEvent){O.completeEvent.fire(O,W)}var A={};A.tId=O.tId;A.argument=T.argument;try{A.responseText=V.contentWindow.document.body?V.contentWindow.document.body.innerHTML:V.contentWindow.document.documentElement.textContent;A.responseXML=V.contentWindow.document.XMLDocument?V.contentWindow.document.XMLDocument:V.contentWindow.document}catch(B){}if(T&&T.upload){if(!T.scope){T.upload(A);pega.log("Upload callback.","info","Connection")}else{T.upload.apply(T.scope,[A]);pega.log("Upload callback with scope.","info","Connection")}}S.uploadEvent.fire(A);if(O.uploadEvent){O.uploadEvent.fire(A)}pega.util.Event.removeListener(V,"load",a);setTimeout(function(){document.body.removeChild(V);S.releaseObject(O);pega.log("File upload iframe destroyed. Id is:"+Y,"info","Connection")},100)};pega.util.Event.addListener(V,"load",a)},abort:function(K,I,H){var L;var N=(I&&I.argument)?I.argument:null;if(K&&K.conn){if(this.isCallInProgress(K)){K.conn.abort();window.clearInterval(this._poll[K.tId]);delete this._poll[K.tId];if(H){window.clearTimeout(this._timeOut[K.tId]);delete this._timeOut[K.tId]}L=true}}else{if(K&&K.isUpload===true){var M="yuiIO"+K.tId;var J=document.getElementById(M);if(J){pega.util.Event.removeListener(J,"load");document.body.removeChild(J);pega.log("File upload iframe destroyed. Id is:"+M,"info","Connection");if(H){window.clearTimeout(this._timeOut[K.tId]);delete this._timeOut[K.tId]}L=true}}else{L=false}}if(L===true){this.abortEvent.fire(K,N);if(K.abortEvent){K.abortEvent.fire(K,N)}this.handleTransactionResponse(K,I,true);pega.log("Transaction "+K.tId+" aborted.","info","Connection")}return L},isCallInProgress:function(D){if(D&&D.conn){return D.conn.readyState!==4&&D.conn.readyState!==0}else{if(D&&D.isUpload===true){var C="yuiIO"+D.tId;return document.getElementById(C)?true:false}else{return false}}},releaseObject:function(B){if(B&&B.conn){B.conn=null;pega.log("Connection object for transaction "+B.tId+" destroyed.","info","Connection");B=null}}};pega.register("connection",pega.util.Connect,{version:"2.5.2",build:"1076"});(function(){var D=pega.util;var C=function(G,H,B,A){if(!G){}this.init(G,H,B,A)};C.NAME="Anim";C.prototype={toString:function(){var B=this.getEl()||{};var A=B.id||B.tagName;return(this.constructor.NAME+": "+A)},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(F,A,B){return this.method(this.currentFrame,A,B-A,this.totalFrames)},setAttribute:function(F,A,B){if(this.patterns.noNegatives.test(F)){A=(A>0)?A:0}D.Dom.setStyle(this.getEl(),F,A+B)},getAttribute:function(L){var J=this.getEl();var B=D.Dom.getStyle(J,L);if(B!=="auto"&&!this.patterns.offsetUnit.test(B)){return parseFloat(B)}var K=this.patterns.offsetAttribute.exec(L)||[];var A=!!(K[3]);var I=!!(K[2]);if(I||(D.Dom.getStyle(J,"position")=="absolute"&&A)){B=J["offset"+K[0].charAt(0).toUpperCase()+K[0].substr(1)]}else{B=0}return B},getDefaultUnit:function(A){if(this.patterns.defaultUnit.test(A)){return"px"}return""},setRuntimeAttribute:function(M){var A;var L;var K=this.attributes;this.runtimeAttributes[M]={};var B=function(E){return(typeof E!=="undefined")};if(!B(K[M]["to"])&&!B(K[M]["by"])){return false}A=(B(K[M]["from"]))?K[M]["from"]:this.getAttribute(M);if(B(K[M]["to"])){L=K[M]["to"]}else{if(B(K[M]["by"])){if(A.constructor==Array){L=[];for(var J=0,N=A.length;J<N;++J){L[J]=A[J]+K[M]["by"][J]*1}}else{L=A+K[M]["by"]*1}}}this.runtimeAttributes[M].start=A;this.runtimeAttributes[M].end=L;this.runtimeAttributes[M].unit=(B(K[M].unit))?K[M]["unit"]:this.getDefaultUnit(M);return true},init:function(T,O,P,B){var A=false;var S=null;var Q=0;T=D.Dom.get(T);this.attributes=O||{};this.duration=!pega.lang.isUndefined(P)?P:1;this.method=B||D.Easing.easeNone;this.useSeconds=true;this.currentFrame=0;this.totalFrames=D.AnimMgr.fps;this.setEl=function(E){T=D.Dom.get(E)};this.getEl=function(){return T};this.isAnimated=function(){return A};this.getStartTime=function(){return S};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated()){return false}this.currentFrame=0;this.totalFrames=(this.useSeconds)?Math.ceil(D.AnimMgr.fps*this.duration):this.duration;if(this.duration===0&&this.useSeconds){this.totalFrames=1}D.AnimMgr.registerElement(this);return true};this.stop=function(E){if(!this.isAnimated()){return false}if(E){this.currentFrame=this.totalFrames;this._onTween.fire()}D.AnimMgr.stop(this)};var M=function(){this.onStart.fire();this.runtimeAttributes={};for(var E in this.attributes){this.setRuntimeAttribute(E)}A=true;Q=0;S=new Date()};var N=function(){var E={duration:new Date()-this.getStartTime(),currentFrame:this.currentFrame};E.toString=function(){return("duration: "+E.duration+", currentFrame: "+E.currentFrame)};this.onTween.fire(E);var F=this.runtimeAttributes;for(var G in F){this.setAttribute(G,this.doMethod(G,F[G].start,F[G].end),F[G].unit)}Q+=1};var R=function(){var F=(new Date()-S)/1000;var E={duration:F,frames:Q,fps:Q/F};E.toString=function(){return("duration: "+E.duration+", frames: "+E.frames+", fps: "+E.fps)};A=false;Q=0;this.onComplete.fire(E)};this._onStart=new D.CustomEvent("_start",this,true);this.onStart=new D.CustomEvent("start",this);this.onTween=new D.CustomEvent("tween",this);this._onTween=new D.CustomEvent("_tween",this,true);this.onComplete=new D.CustomEvent("complete",this);this._onComplete=new D.CustomEvent("_complete",this,true);this._onStart.subscribe(M);this._onTween.subscribe(N);this._onComplete.subscribe(R)}};D.Anim=C})();pega.util.AnimMgr=new function(){var I=null;var J=[];var F=0;this.fps=1000;this.delay=1;this.registerElement=function(A){J[J.length]=A;F+=1;A._onStart.fire();this.start()};this.unRegister=function(A,B){B=B||G(A);if(!A.isAnimated()||B==-1){return false}A._onComplete.fire();J.splice(B,1);F-=1;if(F<=0){this.stop()}return true};this.start=function(){if(I===null){I=setInterval(this.run,this.delay)}};this.stop=function(A){if(!A){clearInterval(I);for(var B=0,C=J.length;B<C;++B){this.unRegister(J[0],0)}J=[];I=null;F=0}else{this.unRegister(A)}};this.run=function(){for(var A=0,C=J.length;A<C;++A){var B=J[A];if(!B||!B.isAnimated()){continue}if(B.currentFrame<B.totalFrames||B.totalFrames===null){B.currentFrame+=1;if(B.useSeconds){H(B)}B._onTween.fire()}else{pega.util.AnimMgr.stop(B,A)}}};var G=function(A){for(var B=0,C=J.length;B<C;++B){if(J[B]==A){return B}}return -1};var H=function(E){var B=E.totalFrames;var C=E.currentFrame;var D=(E.currentFrame*E.duration*1000/E.totalFrames);var L=(new Date()-E.getStartTime());var A=0;if(L<E.duration*1000){A=Math.round((L/D-1)*E.currentFrame)}else{A=B-(C+1)}if(A>0&&isFinite(A)){if(E.currentFrame+A>=B){A=B-(C+1)}E.currentFrame+=A}}};pega.util.Bezier=new function(){this.getPosition=function(I,J){var H=I.length;var K=[];for(var L=0;L<H;++L){K[L]=[I[L][0],I[L][1]]}for(var G=1;G<H;++G){for(L=0;L<H-G;++L){K[L][0]=(1-J)*K[L][0]+J*K[parseInt(L+1,10)][0];K[L][1]=(1-J)*K[L][1]+J*K[parseInt(L+1,10)][1]}}return[K[0][0],K[0][1]]}};(function(){var E=function(C,D,B,A){E.superclass.constructor.call(this,C,D,B,A)};E.NAME="ColorAnim";var G=pega.util;pega.extend(E,G.Anim);var F=E.superclass;var H=E.prototype;H.patterns.color=/color$/i;H.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;H.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;H.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;H.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/;H.parseColor=function(B){if(B.length==3){return B}var A=this.patterns.hex.exec(B);if(A&&A.length==4){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}A=this.patterns.rgb.exec(B);if(A&&A.length==4){return[parseInt(A[1],10),parseInt(A[2],10),parseInt(A[3],10)]}A=this.patterns.hex3.exec(B);if(A&&A.length==4){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}return null};H.getAttribute=function(D){var B=this.getEl();if(this.patterns.color.test(D)){var A=pega.util.Dom.getStyle(B,D);if(this.patterns.transparent.test(A)){var C=B.parentNode;A=G.Dom.getStyle(C,D);while(C&&this.patterns.transparent.test(A)){C=C.parentNode;A=G.Dom.getStyle(C,D);if(C.tagName.toUpperCase()=="HTML"){A="#fff"}}}}else{A=F.getAttribute.call(this,D)}return A};H.doMethod=function(K,A,D){var B;if(this.patterns.color.test(K)){B=[];for(var C=0,L=A.length;C<L;++C){B[C]=F.doMethod.call(this,K,A[C],D[C])}B="rgb("+Math.floor(B[0])+","+Math.floor(B[1])+","+Math.floor(B[2])+")"}else{B=F.doMethod.call(this,K,A,D)}return B};H.setRuntimeAttribute=function(K){F.setRuntimeAttribute.call(this,K);if(this.patterns.color.test(K)){var C=this.attributes;var A=this.parseColor(this.runtimeAttributes[K].start);var D=this.parseColor(this.runtimeAttributes[K].end);if(typeof C[K]["to"]==="undefined"&&typeof C[K]["by"]!=="undefined"){D=this.parseColor(C[K].by);for(var B=0,L=A.length;B<L;++B){D[B]=A[B]+D[B]}}this.runtimeAttributes[K].start=A;this.runtimeAttributes[K].end=D}};G.ColorAnim=E})();pega.util.Easing={easeNone:function(H,E,F,G){return F*H/G+E},easeIn:function(H,E,F,G){return F*(H/=G)*H+E},easeOut:function(H,E,F,G){return -F*(H/=G)*(H-2)+E},easeBoth:function(H,E,F,G){if((H/=G/2)<1){return F/2*H*H+E}return -F/2*((--H)*(H-2)-1)+E},easeInStrong:function(H,E,F,G){return F*(H/=G)*H*H*H+E},easeOutStrong:function(H,E,F,G){return -F*((H=H/G-1)*H*H*H-1)+E},easeBothStrong:function(H,E,F,G){if((H/=G/2)<1){return F/2*H*H*H*H+E}return -F/2*((H-=2)*H*H*H-2)+E},elasticIn:function(M,H,I,J,N,K){if(M==0){return H}if((M/=J)==1){return H+I}if(!K){K=J*0.3}if(!N||N<Math.abs(I)){N=I;var L=K/4}else{var L=K/(2*Math.PI)*Math.asin(I/N)}return -(N*Math.pow(2,10*(M-=1))*Math.sin((M*J-L)*(2*Math.PI)/K))+H},elasticOut:function(M,H,I,J,N,K){if(M==0){return H}if((M/=J)==1){return H+I}if(!K){K=J*0.3}if(!N||N<Math.abs(I)){N=I;var L=K/4}else{var L=K/(2*Math.PI)*Math.asin(I/N)}return N*Math.pow(2,-10*M)*Math.sin((M*J-L)*(2*Math.PI)/K)+I+H},elasticBoth:function(M,H,I,J,N,K){if(M==0){return H}if((M/=J/2)==2){return H+I}if(!K){K=J*(0.3*1.5)}if(!N||N<Math.abs(I)){N=I;var L=K/4}else{var L=K/(2*Math.PI)*Math.asin(I/N)}if(M<1){return -0.5*(N*Math.pow(2,10*(M-=1))*Math.sin((M*J-L)*(2*Math.PI)/K))+H}return N*Math.pow(2,-10*(M-=1))*Math.sin((M*J-L)*(2*Math.PI)/K)*0.5+I+H},backIn:function(J,F,G,H,I){if(typeof I=="undefined"){I=1.70158}return G*(J/=H)*J*((I+1)*J-I)+F},backOut:function(J,F,G,H,I){if(typeof I=="undefined"){I=1.70158}return G*((J=J/H-1)*J*((I+1)*J+I)+1)+F},backBoth:function(J,F,G,H,I){if(typeof I=="undefined"){I=1.70158}if((J/=H/2)<1){return G/2*(J*J*(((I*=(1.525))+1)*J-I))+F}return G/2*((J-=2)*J*(((I*=(1.525))+1)*J+I)+2)+F},bounceIn:function(H,E,F,G){return F-pega.util.Easing.bounceOut(G-H,0,F,G)+E},bounceOut:function(H,E,F,G){if((H/=G)<(1/2.75)){return F*(7.5625*H*H)+E}else{if(H<(2/2.75)){return F*(7.5625*(H-=(1.5/2.75))*H+0.75)+E}else{if(H<(2.5/2.75)){return F*(7.5625*(H-=(2.25/2.75))*H+0.9375)+E}}}return F*(7.5625*(H-=(2.625/2.75))*H+0.984375)+E},bounceBoth:function(H,E,F,G){if(H<G/2){return pega.util.Easing.bounceIn(H*2,0,F,G)*0.5+E}return pega.util.Easing.bounceOut(H*2-G,0,F,G)*0.5+F*0.5+E}};(function(){var G=function(C,D,B,A){if(C){G.superclass.constructor.call(this,C,D,B,A)}};G.NAME="Motion";var I=pega.util;pega.extend(G,I.ColorAnim);var H=G.superclass;var K=G.prototype;K.patterns.points=/^points$/i;K.setAttribute=function(C,A,B){if(this.patterns.points.test(C)){B=B||"px";H.setAttribute.call(this,"left",A[0],B);H.setAttribute.call(this,"top",A[1],B)}else{H.setAttribute.call(this,C,A,B)}};K.getAttribute=function(B){if(this.patterns.points.test(B)){var A=[H.getAttribute.call(this,"left"),H.getAttribute.call(this,"top")]}else{A=H.getAttribute.call(this,B)}return A};K.doMethod=function(E,A,D){var B=null;if(this.patterns.points.test(E)){var C=this.method(this.currentFrame,0,100,this.totalFrames)/100;B=I.Bezier.getPosition(this.runtimeAttributes[E],C)}else{B=H.doMethod.call(this,E,A,D)}return B};K.setRuntimeAttribute=function(A){if(this.patterns.points.test(A)){var S=this.getEl();var Q=this.attributes;var T;var E=Q.points["control"]||[];var R;var D,B;if(E.length>0&&!(E[0] instanceof Array)){E=[E]}else{var F=[];for(D=0,B=E.length;D<B;++D){F[D]=E[D]}E=F}if(I.Dom.getStyle(S,"position")=="static"){I.Dom.setStyle(S,"position","relative")}if(J(Q.points["from"])){I.Dom.setXY(S,Q.points["from"])}else{I.Dom.setXY(S,I.Dom.getXY(S))}T=this.getAttribute("points");if(J(Q.points["to"])){R=L.call(this,Q.points["to"],T);var C=I.Dom.getXY(this.getEl());for(D=0,B=E.length;D<B;++D){E[D]=L.call(this,E[D],T)}}else{if(J(Q.points["by"])){R=[T[0]+Q.points["by"][0],T[1]+Q.points["by"][1]];for(D=0,B=E.length;D<B;++D){E[D]=[T[0]+E[D][0],T[1]+E[D][1]]}}}this.runtimeAttributes[A]=[T];if(E.length>0){this.runtimeAttributes[A]=this.runtimeAttributes[A].concat(E)}this.runtimeAttributes[A][this.runtimeAttributes[A].length]=R}else{H.setRuntimeAttribute.call(this,A)}};var L=function(C,A){var B=I.Dom.getXY(this.getEl());C=[C[0]-B[0]+A[0],C[1]-B[1]+A[1]];return C};var J=function(A){return(typeof A!=="undefined")};I.Motion=G})();(function(){var F=function(C,D,B,A){if(C){F.superclass.constructor.call(this,C,D,B,A)}};F.NAME="Scroll";var H=pega.util;pega.extend(F,H.ColorAnim);var G=F.superclass;var E=F.prototype;E.doMethod=function(D,A,C){var B=null;if(D=="scroll"){B=[this.method(this.currentFrame,A[0],C[0]-A[0],this.totalFrames),this.method(this.currentFrame,A[1],C[1]-A[1],this.totalFrames)]}else{B=G.doMethod.call(this,D,A,C)}return B};E.getAttribute=function(C){var A=null;var B=this.getEl();if(C=="scroll"){A=[B.scrollLeft,B.scrollTop]}else{A=G.getAttribute.call(this,C)}return A};E.setAttribute=function(D,A,B){var C=this.getEl();if(D=="scroll"){C.scrollLeft=A[0];C.scrollTop=A[1]}else{G.setAttribute.call(this,D,A,B)}};H.Scroll=F})();pega.register("animation",pega.util.Anim,{version:"2.5.2",build:"1076"});if(!pega.util.DragDropMgr){pega.util.DragDropMgr=function(){var B=pega.util.Event;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,interactionInfo:null,init:function(){this.initialized=true},POINT:0,INTERSECT:1,STRICT_INTERSECT:2,mode:0,_execOnAll:function(H,I){for(var G in this.ids){for(var J in this.ids[G]){var A=this.ids[G][J];if(!this.isTypeOfDD(A)){continue}A[H].apply(A,I)}}},_onLoad:function(){this.init();B.on(document,"mouseup",this.handleMouseUp,this,true);B.on(document,"mousemove",this.handleMouseMove,this,true);B.on(window,"unload",this._onUnload,this,true);B.on(window,"resize",this._onResize,this,true)},_onResize:function(A){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:1000,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,fromTimeout:false,regDragDrop:function(A,D){if(!this.initialized){this.init()}if(!this.ids[D]){this.ids[D]={}}this.ids[D][A.id]=A},removeDDFromGroup:function(A,F){if(!this.ids[F]){this.ids[F]={}}var E=this.ids[F];if(E&&E[A.id]){delete E[A.id]}},_remove:function(A){for(var D in A.groups){if(D&&this.ids[D][A.id]){delete this.ids[D][A.id]}}delete this.handleIds[A.id]},regHandle:function(A,D){if(!this.handleIds[A]){this.handleIds[A]={}}this.handleIds[A][D]=D},isDragDrop:function(A){return(this.getDDById(A))?true:false},getRelated:function(A,K){var H=[];for(var I in A.groups){for(var J in this.ids[I]){var L=this.ids[I][J];if(!this.isTypeOfDD(L)){continue}if(!K||L.isTarget){H[H.length]=L}}}return H},isLegalTarget:function(A,G){var I=this.getRelated(A,true);for(var H=0,J=I.length;H<J;++H){if(I[H].id==G.id){return true}}return false},isTypeOfDD:function(A){return(A&&A.__ygDragDrop)},isHandle:function(A,D){return(this.handleIds[A]&&this.handleIds[A][D])},getDDById:function(A){for(var D in this.ids){if(this.ids[D][A]){return this.ids[D][A]}}return null},handleMouseDown:function(A,E){this.currentTarget=pega.util.Event.getTarget(A);this.dragCurrent=E;var F=E.getEl();this.startX=pega.util.Event.getPageX(A);this.startY=pega.util.Event.getPageY(A);this.deltaX=this.startX-F.offsetLeft;this.deltaY=this.startY-F.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var C=pega.util.DDM;C.startDrag(C.startX,C.startY);C.fromTimeout=true},this.clickTimeThresh)},startDrag:function(F,A){clearTimeout(this.clickTimeout);var E=this.dragCurrent;if(E&&E.events.b4StartDrag){E.b4StartDrag(F,A);E.fireEvent("b4StartDragEvent",{x:F,y:A})}if(E&&E.events.startDrag){E.startDrag(F,A);E.fireEvent("startDragEvent",{x:F,y:A})}this.dragThreshMet=true},handleMouseUp:function(A){if(this.dragCurrent){clearTimeout(this.clickTimeout);if(this.dragThreshMet){if(this.fromTimeout){this.fromTimeout=false;this.handleMouseMove(A)}this.fromTimeout=false;this.fireEvents(A,true)}else{}this.stopDrag(A);this.stopEvent(A)}},stopEvent:function(A){if(this.stopPropagation){pega.util.Event.stopPropagation(A)}if(this.preventDefault){pega.util.Event.preventDefault(A)}},stopDrag:function(A,E){var F=this.dragCurrent;if(F&&!E){if(this.dragThreshMet){if(F.events.b4EndDrag){F.b4EndDrag(A);F.fireEvent("b4EndDragEvent",{e:A})}if(F.events.endDrag){F.endDrag(A);F.fireEvent("endDragEvent",{e:A})}}if(F.events.mouseUp){F.onMouseUp(A);F.fireEvent("mouseUpEvent",{e:A})}}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(A){var H=this.dragCurrent;if(H){if(pega.util.Event.isIE&&!A.button){this.stopEvent(A);return this.handleMouseUp(A)}else{if(A.clientX<0||A.clientY<0){}}if(!this.dragThreshMet){var F=Math.abs(this.startX-pega.util.Event.getPageX(A));var G=Math.abs(this.startY-pega.util.Event.getPageY(A));if(F>this.clickPixelThresh||G>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){if(H&&H.events.b4Drag){H.b4Drag(A);H.fireEvent("b4DragEvent",{e:A})}if(H&&H.events.drag){H.onDrag(A);H.fireEvent("dragEvent",{e:A})}if(H){this.fireEvents(A,false)}}this.stopEvent(A)}},fireEvents:function(g,q){var A=this.dragCurrent;if(!A||A.isLocked()||A.dragOnly){return }var o=pega.util.Event.getPageX(g),p=pega.util.Event.getPageY(g),m=new pega.util.Point(o,p),r=A.getTargetCoord(m.x,m.y),w=A.getDragEl(),x=["out","over","drop","enter"],h=new pega.util.Region(r.y,r.x+w.offsetWidth,r.y+w.offsetHeight,r.x),t=[],y={},l=[],AB={outEvts:[],overEvts:[],dropEvts:[],enterEvts:[]};for(var j in this.dragOvers){var AA=this.dragOvers[j];if(!this.isTypeOfDD(AA)){continue}if(!this.isOverTarget(m,AA,this.mode,h)){AB.outEvts.push(AA)}t[j]=true;delete this.dragOvers[j]}for(var k in A.groups){if("string"!=typeof k){continue}for(j in this.ids[k]){var v=this.ids[k][j];if(!this.isTypeOfDD(v)){continue}if(v.isTarget&&!v.isLocked()&&v!=A){if(this.isOverTarget(m,v,this.mode,h)){y[k]=true;if(q){AB.dropEvts.push(v)}else{if(!t[v.id]){AB.enterEvts.push(v)}else{AB.overEvts.push(v)}this.dragOvers[v.id]=v}}}}}this.interactionInfo={out:AB.outEvts,enter:AB.enterEvts,over:AB.overEvts,drop:AB.dropEvts,point:m,draggedRegion:h,sourceRegion:this.locationCache[A.id],validDrop:q};for(var z in y){l.push(z)}if(q&&!AB.dropEvts.length){this.interactionInfo.validDrop=false;if(A.events.invalidDrop){A.onInvalidDrop(g);A.fireEvent("invalidDropEvent",{e:g})}}for(j=0;j<x.length;j++){var d=null;if(AB[x[j]+"Evts"]){d=AB[x[j]+"Evts"]}if(d&&d.length){var u=x[j].charAt(0).toUpperCase()+x[j].substr(1),e="onDrag"+u,s="b4Drag"+u,n="drag"+u+"Event",f="drag"+u;if(this.mode){if(A.events[s]){A[s](g,d,l);A.fireEvent(s+"Event",{event:g,info:d,group:l})}if(A.events[f]){A[e](g,d,l);A.fireEvent(n,{event:g,info:d,group:l})}}else{for(var b=0,i=d.length;b<i;++b){if(A.events[s]){A[s](g,d[b].id,l[0]);A.fireEvent(s+"Event",{event:g,info:d[b].id,group:l[0]})}if(A.events[f]){A[e](g,d[b].id,l[0]);A.fireEvent(n,{event:g,info:d[b].id,group:l[0]})}}}}}},getBestMatch:function(H){var A=null;var I=H.length;if(I==1){A=H[0]}else{for(var G=0;G<I;++G){var J=H[G];if(this.mode==this.INTERSECT&&J.cursorIsOver){A=J;break}else{if(!A||!A.overlap||(J.overlap&&A.overlap.getArea()<J.overlap.getArea())){A=J}}}}return A},refreshCache:function(K){var I=K||this.ids;for(var L in I){if("string"!=typeof L){continue}for(var J in this.ids[L]){var H=this.ids[L][J];if(this.isTypeOfDD(H)){var A=this.getLocation(H);if(A){this.locationCache[H.id]=A}else{delete this.locationCache[H.id]}}}}},verifyEl:function(E){try{if(E){var F=E.offsetParent;if(F){return true}}}catch(A){}return false},getLocation:function(V){if(!this.isTypeOfDD(V)){return null}var X=V.getEl(),S,A,N,Q,R,P,O,T,W;try{S=pega.util.Dom.getXY(X)}catch(U){}if(!S){return null}A=S[0];N=A+X.offsetWidth;Q=S[1];R=Q+X.offsetHeight;P=Q-V.padding[0];O=N+V.padding[1];T=R+V.padding[2];W=A-V.padding[3];return new pega.util.Region(P,O,T,W)},isOverTarget:function(M,L,A,R){var Q=this.locationCache[L.id];if(!Q||!this.useCache){Q=this.getLocation(L);this.locationCache[L.id]=Q}if(!Q){return false}L.cursorIsOver=Q.contains(M);var N=this.dragCurrent;if(!N||(!A&&!N.constrainX&&!N.constrainY)){return L.cursorIsOver}L.overlap=null;if(!R){var P=N.getTargetCoord(M.x,M.y);var K=N.getDragEl();R=new pega.util.Region(P.y,P.x+K.offsetWidth,P.y+K.offsetHeight,P.x)}var O=R.intersect(Q);if(O){L.overlap=O;return(A)?true:L.cursorIsOver}else{return false}},_onUnload:function(A,D){this.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);this.ids={}},elementCache:{},getElWrapper:function(A){var D=this.elementCache[A];if(!D||!D.el){D=this.elementCache[A]=new this.ElementWrapper(pega.util.Dom.get(A))}return D},getElement:function(A){return pega.util.Dom.get(A)},getCss:function(A){var D=pega.util.Dom.get(A);return(D)?D.style:null},ElementWrapper:function(A){this.el=A||null;this.id=this.el&&A.id;this.css=this.el&&A.style},getPosX:function(A){return pega.util.Dom.getX(A)},getPosY:function(A){return pega.util.Dom.getY(A)},swapNode:function(F,H){if(F.swapNode){F.swapNode(H)}else{var A=H.parentNode;var G=H.nextSibling;if(G==F){A.insertBefore(F,H)}else{if(H==F.nextSibling){A.insertBefore(H,F)}else{F.parentNode.replaceChild(H,F);A.insertBefore(F,G)}}}},getScroll:function(){var F,H,A=document.documentElement,G=document.body;if(A&&(A.scrollTop||A.scrollLeft)){F=A.scrollTop;H=A.scrollLeft}else{if(G){F=G.scrollTop;H=G.scrollLeft}else{}}return{top:F,left:H}},getStyle:function(A,D){return pega.util.Dom.getStyle(A,D)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(F,A){var E=pega.util.Dom.getXY(A);pega.util.Dom.setXY(F,E)},getClientHeight:function(){return pega.util.Dom.getViewportHeight()},getClientWidth:function(){return pega.util.Dom.getViewportWidth()},numericSort:function(A,D){return(A-D)},_timeoutCount:0,_addListeners:function(){var A=pega.util.DDM;if(pega.util.Event&&document){A._onLoad()}else{if(A._timeoutCount>2000){}else{setTimeout(A._addListeners,10);if(document&&document.body){A._timeoutCount+=1}}}},handleWasClicked:function(F,A){if(this.isHandle(A,F.id)){return true}else{var E=F.parentNode;while(E){if(this.isHandle(A,E.id)){return true}else{E=E.parentNode}}}return false}}}();pega.util.DDM=pega.util.DragDropMgr;pega.util.DDM._addListeners()}(function(){var C=pega.util.Event;var D=pega.util.Dom;pega.util.DragDrop=function(A,F,B){if(A){this.init(A,F,B)}};pega.util.DragDrop.prototype={events:null,on:function(){this.subscribe.apply(this,arguments)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},unlock:function(){this.locked=false},isTarget:true,padding:null,dragOnly:false,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,deltaX:0,deltaY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,cursorIsOver:false,overlap:null,b4StartDrag:function(B,A){},startDrag:function(B,A){},b4Drag:function(A){},onDrag:function(A){},onDragEnter:function(B,A){},b4DragOver:function(A){},onDragOver:function(B,A){},b4DragOut:function(A){},onDragOut:function(B,A){},b4DragDrop:function(A){},onDragDrop:function(B,A){},onInvalidDrop:function(A){},b4EndDrag:function(A){},endDrag:function(A){},b4MouseDown:function(A){},onMouseDown:function(A){},onMouseUp:function(A){},onAvailable:function(){},getEl:function(){if(!this._domRef){this._domRef=D.get(this.id)}return this._domRef},getDragEl:function(){return D.get(this.dragElId)},init:function(A,H,G){this.initTarget(A,H,G);C.on(this._domRef||this.id,"mousedown",this.handleMouseDown,this,true);for(var B in this.events){this.createEvent(B+"Event")}},initTarget:function(A,F,B){this.config=B||{};this.events={};this.DDM=pega.util.DDM;this.groups={};if(typeof A!=="string"){this._domRef=A;A=D.generateId(A)}this.id=A;this.addToGroup((F)?F:"default");this.handleElId=A;C.onAvailable(A,this.handleOnAvailable,this,true);this.setDragElId(A);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig()},applyConfig:function(){this.events={mouseDown:true,b4MouseDown:true,mouseUp:true,b4StartDrag:true,startDrag:true,b4EndDrag:true,endDrag:true,drag:true,b4Drag:true,invalidDrop:true,b4DragOut:true,dragOut:true,dragEnter:true,b4DragOver:true,dragOver:true,b4DragDrop:true,dragDrop:true};if(this.config.events){for(var A in this.config.events){if(this.config.events[A]===false){this.events[A]=false}}}this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false);this.dragOnly=((this.config.dragOnly===true)?true:false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(B,H,A,G){if(!H&&0!==H){this.padding=[B,B,B,B]}else{if(!A&&0!==A){this.padding=[B,H,B,H]}else{this.padding=[B,H,A,G]}}},setInitPosition:function(I,J){var B=this.getEl();if(!this.DDM.verifyEl(B)){if(B&&B.style&&(B.style.display=="none")){}else{}return }var K=I||0;var L=J||0;var A=D.getXY(B);this.initPageX=A[0]-K;this.initPageY=A[1]-L;this.lastPageX=A[0];this.lastPageY=A[1];this.setStartPosition(A)},setStartPosition:function(A){var B=A||D.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=B[0];this.startPageY=B[1]},addToGroup:function(A){this.groups[A]=true;this.DDM.regDragDrop(this,A)},removeFromGroup:function(A){if(this.groups[A]){delete this.groups[A]}this.DDM.removeDDFromGroup(this,A)},setDragElId:function(A){this.dragElId=A},setHandleElId:function(A){if(typeof A!=="string"){A=D.generateId(A)}this.handleElId=A;this.DDM.regHandle(this.id,A)},setOuterHandleElId:function(A){if(typeof A!=="string"){A=D.generateId(A)}C.on(A,"mousedown",this.handleMouseDown,this,true);this.setHandleElId(A);this.hasOuterHandles=true},unreg:function(){C.removeListener(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},isLocked:function(){return(this.DDM.isLocked()||this.locked)},handleMouseDown:function(A,B){var K=A.which||A.button;if(this.primaryButtonOnly&&K>1){return }if(this.isLocked()){return }var L=this.b4MouseDown(A);if(this.events.b4MouseDown){L=this.fireEvent("b4MouseDownEvent",A)}var J=this.onMouseDown(A);if(this.events.mouseDown){J=this.fireEvent("mouseDownEvent",A)}if((L===false)||(J===false)){return }this.DDM.refreshCache(this.groups);var I=new pega.util.Point(C.getPageX(A),C.getPageY(A));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(I,this)){}else{if(this.clickValidator(A)){this.setStartPosition();this.DDM.handleMouseDown(A,this);this.DDM.stopEvent(A)}else{}}},clickValidator:function(A){var B=pega.util.Event.getTarget(A);return(this.isValidHandleChild(B)&&(this.id==this.handleElId||this.DDM.handleWasClicked(B,this.id)))},getTargetCoord:function(B,G){var H=B-this.deltaX;var A=G-this.deltaY;if(this.constrainX){if(H<this.minX){H=this.minX}if(H>this.maxX){H=this.maxX}}if(this.constrainY){if(A<this.minY){A=this.minY}if(A>this.maxY){A=this.maxY}}H=this.getTick(H,this.xTicks);A=this.getTick(A,this.yTicks);return{x:H,y:A}},addInvalidHandleType:function(B){var A=B.toUpperCase();this.invalidHandleTypes[A]=A},addInvalidHandleId:function(A){if(typeof A!=="string"){A=D.generateId(A)}this.invalidHandleIds[A]=A},addInvalidHandleClass:function(A){this.invalidHandleClasses.push(A)},removeInvalidHandleType:function(B){var A=B.toUpperCase();delete this.invalidHandleTypes[A]},removeInvalidHandleId:function(A){if(typeof A!=="string"){A=D.generateId(A)}delete this.invalidHandleIds[A]},removeInvalidHandleClass:function(B){for(var A=0,F=this.invalidHandleClasses.length;A<F;++A){if(this.invalidHandleClasses[A]==B){delete this.invalidHandleClasses[A]}}},isValidHandleChild:function(I){var J=true;var A;try{A=I.nodeName.toUpperCase()}catch(B){A=I.nodeName}J=J&&!this.invalidHandleTypes[A];J=J&&!this.invalidHandleIds[I.id];for(var K=0,L=this.invalidHandleClasses.length;J&&K<L;++K){J=!D.hasClass(I,this.invalidHandleClasses[K])}return J},setXTicks:function(A,H){this.xTicks=[];this.xTickSize=H;var B={};for(var G=this.initPageX;G>=this.minX;G=G-H){if(!B[G]){this.xTicks[this.xTicks.length]=G;B[G]=true}}for(G=this.initPageX;G<=this.maxX;G=G+H){if(!B[G]){this.xTicks[this.xTicks.length]=G;B[G]=true}}this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(A,H){this.yTicks=[];this.yTickSize=H;var B={};for(var G=this.initPageY;G>=this.minY;G=G-H){if(!B[G]){this.yTicks[this.yTicks.length]=G;B[G]=true}}for(G=this.initPageY;G<=this.maxY;G=G+H){if(!B[G]){this.yTicks[this.yTicks.length]=G;B[G]=true}}this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(A,B,F){this.leftConstraint=parseInt(A,10);this.rightConstraint=parseInt(B,10);this.minX=this.initPageX-this.leftConstraint;this.maxX=this.initPageX+this.rightConstraint;if(F){this.setXTicks(this.initPageX,F)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(F,A,B){this.topConstraint=parseInt(F,10);this.bottomConstraint=parseInt(A,10);this.minY=this.initPageY-this.topConstraint;this.maxY=this.initPageY+this.bottomConstraint;if(B){this.setYTicks(this.initPageY,B)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var A=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var B=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(A,B)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(A,K){if(!K){return A}else{if(K[0]>=A){return K[0]}else{for(var M=0,N=K.length;M<N;++M){var L=M+1;if(K[L]&&K[L]>=A){var B=A-K[M];var J=K[L]-A;return(J>B)?K[M]:K[L]}}return K[K.length-1]}}},toString:function(){return("DragDrop "+this.id)}};pega.augment(pega.util.DragDrop,pega.util.EventProvider)})();pega.util.DD=function(E,D,F){if(E){this.init(E,D,F)}};pega.extend(pega.util.DD,pega.util.DragDrop,{scroll:true,autoOffset:function(G,H){var E=G-this.startPageX;var F=H-this.startPageY;this.setDelta(E,F)},setDelta:function(D,C){this.deltaX=D;this.deltaY=C},setDragElPos:function(E,F){var D=this.getDragEl();this.alignElWithMouse(D,E,F)},alignElWithMouse:function(O,K,L){var M=this.getTargetCoord(K,L);if(!this.deltaSetXY){var J=[M.x,M.y];pega.util.Dom.setXY(O,J);var N=parseInt(pega.util.Dom.getStyle(O,"left"),10);var P=parseInt(pega.util.Dom.getStyle(O,"top"),10);this.deltaSetXY=[N-M.x,P-M.y]}else{pega.util.Dom.setStyle(O,"left",(M.x+this.deltaSetXY[0])+"px");pega.util.Dom.setStyle(O,"top",(M.y+this.deltaSetXY[1])+"px")}this.cachePosition(M.x,M.y);var I=this;setTimeout(function(){I.autoScroll.call(I,M.x,M.y,O.offsetHeight,O.offsetWidth)},0)},cachePosition:function(F,D){if(F){this.lastPageX=F;this.lastPageY=D}else{var E=pega.util.Dom.getXY(this.getEl());this.lastPageX=E[0];this.lastPageY=E[1]}},autoScroll:function(W,X,b,V){if(this.scroll){var U=this.DDM.getClientHeight();var Q=this.DDM.getClientWidth();var S=this.DDM.getScrollTop();var O=this.DDM.getScrollLeft();var Y=b+X;var T=V+W;var Z=(U+S-X-this.deltaY);var a=(Q+O-W-this.deltaX);var P=40;var R=(document.all)?80:30;if(Y>U&&Z<P){window.scrollTo(O,S+R)}if(X<S&&S>0&&X-S<P){window.scrollTo(O,S-R)}if(T>Q&&a<P){window.scrollTo(O+R,S)}if(W<O&&O>0&&W-O<P){window.scrollTo(O-R,S)}}},applyConfig:function(){pega.util.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(B){this.setStartPosition();this.autoOffset(pega.util.Event.getPageX(B),pega.util.Event.getPageY(B))},b4Drag:function(B){this.setDragElPos(pega.util.Event.getPageX(B),pega.util.Event.getPageY(B))},toString:function(){return("DD "+this.id)}});pega.util.DDProxy=function(E,D,F){if(E){this.init(E,D,F);this.initFrame()}};pega.util.DDProxy.dragElId="ygddfdiv";pega.extend(pega.util.DDProxy,pega.util.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var N=this,H=document.body;if(!H||!H.firstChild){setTimeout(function(){N.createFrame()},50);return }var I=this.getDragEl(),K=pega.util.Dom;if(!I){I=document.createElement("div");I.id=this.dragElId;var L=I.style;L.position="absolute";L.visibility="hidden";L.cursor="move";L.border="2px solid #aaa";L.zIndex=999;L.height="25px";L.width="25px";var M=document.createElement("div");K.setStyle(M,"height","100%");K.setStyle(M,"width","100%");K.setStyle(M,"background-color","#ccc");K.setStyle(M,"opacity","0");I.appendChild(M);if(pega.env.ua.ie){var J=document.createElement("iframe");J.setAttribute("src","javascript:");J.setAttribute("scrolling","no");J.setAttribute("frameborder","0");I.insertBefore(J,I.firstChild);K.setStyle(J,"height","100%");K.setStyle(J,"width","100%");K.setStyle(J,"position","absolute");K.setStyle(J,"top","0");K.setStyle(J,"left","0");K.setStyle(J,"opacity","0");K.setStyle(J,"zIndex","-1");K.setStyle(J.nextSibling,"zIndex","2")}H.insertBefore(I,H.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){pega.util.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||pega.util.DDProxy.dragElId)},showFrame:function(G,H){var I=this.getEl();var F=this.getDragEl();var J=F.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(J.width,10)/2),Math.round(parseInt(J.height,10)/2))}this.setDragElPos(G,H);pega.util.Dom.setStyle(F,"visibility","visible")},_resizeProxy:function(){if(this.resizeFrame){var O=pega.util.Dom;var L=this.getEl();var K=this.getDragEl();var P=parseInt(O.getStyle(K,"borderTopWidth"),10);var N=parseInt(O.getStyle(K,"borderRightWidth"),10);var Q=parseInt(O.getStyle(K,"borderBottomWidth"),10);var J=parseInt(O.getStyle(K,"borderLeftWidth"),10);if(isNaN(P)){P=0}if(isNaN(N)){N=0}if(isNaN(Q)){Q=0}if(isNaN(J)){J=0}var R=Math.max(0,L.offsetWidth-N-J);var M=Math.max(0,L.offsetHeight-P-Q);O.setStyle(K,"width",R+"px");O.setStyle(K,"height",M+"px")}},b4MouseDown:function(F){this.setStartPosition();var D=pega.util.Event.getPageX(F);var E=pega.util.Event.getPageY(F);this.autoOffset(D,E)},b4StartDrag:function(C,D){this.showFrame(C,D)},b4EndDrag:function(B){pega.util.Dom.setStyle(this.getDragEl(),"visibility","hidden")},endDrag:function(F){var G=pega.util.Dom;var H=this.getEl();var E=this.getDragEl();G.setStyle(E,"visibility","");G.setStyle(H,"visibility","hidden");pega.util.DDM.moveToEl(H,E);G.setStyle(E,"visibility","hidden");G.setStyle(H,"visibility","")},toString:function(){return("DDProxy "+this.id)}});pega.util.DDTarget=function(E,D,F){if(E){this.initTarget(E,D,F)}};pega.extend(pega.util.DDTarget,pega.util.DragDrop,{toString:function(){return("DDTarget "+this.id)}});pega.register("dragdrop",pega.util.DragDropMgr,{version:"2.5.2",build:"1076"});pega.util.Attribute=function(D,C){if(C){this.owner=C;this.configure(D,true)}};pega.util.Attribute.prototype={name:undefined,value:null,owner:null,readOnly:false,writeOnce:false,_initialConfig:null,_written:false,method:null,validator:null,getValue:function(){return this.value},setValue:function(H,L){var I;var G=this.owner;var K=this.name;var J={type:K,prevValue:this.getValue(),newValue:H};if(this.readOnly||(this.writeOnce&&this._written)){return false}if(this.validator&&!this.validator.call(G,H)){return false}if(!L){I=G.fireBeforeChangeEvent(J);if(I===false){return false}}if(this.method){this.method.call(G,H)}this.value=H;this._written=true;J.type=K;if(!L){this.owner.fireChangeEvent(J)}return true},configure:function(F,E){F=F||{};this._written=false;this._initialConfig=this._initialConfig||{};for(var D in F){if(D&&pega.lang.hasOwnProperty(F,D)){this[D]=F[D];if(E){this._initialConfig[D]=F[D]}}}},resetValue:function(){return this.setValue(this._initialConfig.value)},resetConfig:function(){this.configure(this._initialConfig)},refresh:function(B){this.setValue(this.value,B)}};(function(){var B=pega.util.Lang;pega.util.AttributeProvider=function(){};pega.util.AttributeProvider.prototype={_configs:null,get:function(A){this._configs=this._configs||{};var D=this._configs[A];if(!D){return undefined}return D.value},set:function(F,A,H){this._configs=this._configs||{};var G=this._configs[F];if(!G){return false}return G.setValue(A,H)},getAttributeKeys:function(){this._configs=this._configs;var A=[];var F;for(var E in this._configs){F=this._configs[E];if(B.hasOwnProperty(this._configs,E)&&!B.isUndefined(F)){A[A.length]=E}}return A},setAttributes:function(A,F){for(var E in A){if(B.hasOwnProperty(A,E)){this.set(E,A[E],F)}}},resetValue:function(A,D){this._configs=this._configs||{};if(this._configs[A]){this.set(A,this._configs[A]._initialConfig.value,D);return true}return false},refresh:function(A,G){this._configs=this._configs;A=((B.isString(A))?[A]:A)||this.getAttributeKeys();for(var F=0,H=A.length;F<H;++F){if(this._configs[A[F]]&&!B.isUndefined(this._configs[A[F]].value)&&!B.isNull(this._configs[A[F]].value)){this._configs[A[F]].refresh(G)}}},register:function(D,A){this.setAttributeConfig(D,A)},getAttributeConfig:function(E){this._configs=this._configs||{};var F=this._configs[E]||{};var A={};for(E in F){if(B.hasOwnProperty(F,E)){A[E]=F[E]}}return A},setAttributeConfig:function(F,E,A){this._configs=this._configs||{};E=E||{};if(!this._configs[F]){E.name=F;this._configs[F]=this.createAttribute(E)}else{this._configs[F].configure(E,A)}},configureAttribute:function(F,E,A){this.setAttributeConfig(F,E,A)},resetAttributeConfig:function(A){this._configs=this._configs||{};this._configs[A].resetConfig()},subscribe:function(D,A){this._events=this._events||{};if(!(D in this._events)){this._events[D]=this.createEvent(D)}pega.util.EventProvider.prototype.subscribe.apply(this,arguments)},on:function(){this.subscribe.apply(this,arguments)},addListener:function(){this.subscribe.apply(this,arguments)},fireBeforeChangeEvent:function(A){var D="before";D+=A.type.charAt(0).toUpperCase()+A.type.substr(1)+"Change";A.type=D;return this.fireEvent(A.type,A)},fireChangeEvent:function(A){A.type+="Change";return this.fireEvent(A.type,A)},createAttribute:function(A){return new pega.util.Attribute(A,this)}};pega.augment(pega.util.AttributeProvider,pega.util.EventProvider)})();(function(){var J=pega.util.Dom,H=pega.util.AttributeProvider;pega.util.Element=function(B,A){if(arguments.length){this.init(B,A)}};pega.util.Element.prototype={DOM_EVENTS:null,appendChild:function(A){A=A.get?A.get("element"):A;this.get("element").appendChild(A)},getElementsByTagName:function(A){return this.get("element").getElementsByTagName(A)},hasChildNodes:function(){return this.get("element").hasChildNodes()},insertBefore:function(B,A){B=B.get?B.get("element"):B;A=(A&&A.get)?A.get("element"):A;this.get("element").insertBefore(B,A)},removeChild:function(A){A=A.get?A.get("element"):A;this.get("element").removeChild(A);return true},replaceChild:function(B,A){B=B.get?B.get("element"):B;A=A.get?A.get("element"):A;return this.get("element").replaceChild(B,A)},initAttributes:function(A){},addListener:function(B,C,A,D){var E=this.get("element");D=D||this;E=this.get("id")||E;var F=this;if(!this._events[B]){if(this.DOM_EVENTS[B]){pega.util.Event.addListener(E,B,function(N){if(N.srcElement&&!N.target){N.target=N.srcElement}F.fireEvent(B,N)},A,D)}this.createEvent(B,this)}pega.util.EventProvider.prototype.subscribe.apply(this,arguments)},on:function(){this.addListener.apply(this,arguments)},subscribe:function(){this.addListener.apply(this,arguments)},removeListener:function(A,B){this.unsubscribe.apply(this,arguments)},addClass:function(A){J.addClass(this.get("element"),A)},getElementsByClassName:function(A,B){return J.getElementsByClassName(A,B,this.get("element"))},hasClass:function(A){return J.hasClass(this.get("element"),A)},removeClass:function(A){return J.removeClass(this.get("element"),A)},replaceClass:function(A,B){return J.replaceClass(this.get("element"),A,B)},setStyle:function(A,B){var C=this.get("element");if(!C){return this._queue[this._queue.length]=["setStyle",arguments]}return J.setStyle(C,A,B)},getStyle:function(A){return J.getStyle(this.get("element"),A)},fireQueue:function(){var B=this._queue;for(var A=0,C=B.length;A<C;++A){this[B[A][0]].apply(this,B[A][1])}},appendTo:function(B,A){B=(B.get)?B.get("element"):J.get(B);this.fireEvent("beforeAppendTo",{type:"beforeAppendTo",target:B});A=(A&&A.get)?A.get("element"):J.get(A);var C=this.get("element");if(!C){return false}if(!B){return false}if(C.parent!=B){if(A){B.insertBefore(C,A)}else{B.appendChild(C)}}this.fireEvent("appendTo",{type:"appendTo",target:B})},get:function(C){var A=this._configs||{};var B=A.element;if(B&&!A[C]&&!pega.lang.isUndefined(B.value[C])){return B.value[C]}return H.prototype.get.call(this,C)},setAttributes:function(A,E){var B=this.get("element");for(var C in A){if(!this._configs[C]&&!pega.lang.isUndefined(B[C])){this.setAttributeConfig(C)}}for(var D=0,F=this._configOrder.length;D<F;++D){if(A[this._configOrder[D]]!==undefined){this.set(this._configOrder[D],A[this._configOrder[D]],E)}}},set:function(C,A,D){var B=this.get("element");if(!B){this._queue[this._queue.length]=["set",arguments];if(this._configs[C]){this._configs[C].value=A}return }if(!this._configs[C]&&!pega.lang.isUndefined(B[C])){K.call(this,C)}return H.prototype.set.apply(this,arguments)},setAttributeConfig:function(D,B,A){var C=this.get("element");if(C&&!this._configs[D]&&!pega.lang.isUndefined(C[D])){K.call(this,D,B)}else{H.prototype.setAttributeConfig.apply(this,arguments)}this._configOrder.push(D)},getAttributeKeys:function(){var B=this.get("element");var A=H.prototype.getAttributeKeys.call(this);for(var C in B){if(!this._configs[C]){A[C]=A[C]||B[C]}}return A},createEvent:function(A,B){this._events[A]=true;H.prototype.createEvent.apply(this,arguments)},init:function(A,B){G.apply(this,arguments)}};var G=function(B,C){this._queue=this._queue||[];this._events=this._events||{};this._configs=this._configs||{};this._configOrder=[];C=C||{};C.element=C.element||B||null;this.DOM_EVENTS={click:true,dblclick:true,keydown:true,keypress:true,keyup:true,mousedown:true,mousemove:true,mouseout:true,mouseover:true,mouseup:true,focus:true,blur:true,submit:true};var A=false;if(pega.lang.isString(B)){K.call(this,"id",{value:C.element})}if(J.get(B)){A=true;I.call(this,C);L.call(this,C)}pega.util.Event.onAvailable(C.element,function(){if(!A){I.call(this,C)}this.fireEvent("available",{type:"available",target:C.element})},this,true);pega.util.Event.onContentReady(C.element,function(){if(!A){L.call(this,C)}this.fireEvent("contentReady",{type:"contentReady",target:C.element})},this,true)};var I=function(A){this.setAttributeConfig("element",{value:J.get(A.element),readOnly:true})};var L=function(A){this.initAttributes(A);this.setAttributes(A,true);this.fireQueue()};var K=function(C,A){var B=this.get("element");A=A||{};A.name=C;A.method=A.method||function(D){B[C]=D};A.value=A.value||B[C];this._configs[C]=new pega.util.Attribute(A,this)};pega.augment(pega.util.Element,H)})();pega.register("element",pega.util.Element,{version:"2.5.2",build:"1076"});pega.register("utilities",pega,{version:"2.5.2",build:"1076"});var getElementsByQuery=function(b,a){b=b.querySelectorAll(a);if(0==b.length)return null;a=[];for(var c=0;c<b.length;c++)a.push(b[c]);return a};pega.util.Dom.getFrames=function(b){var a=function(b,d){d||(d=[]);d.push(b);for(var c=0;c<b.frames.length;c++)a(b.frames[c],d);return d};return a(b)};
pega.util.Dom.getElementsById=function(b,a,c){if(!b||/^[0-9]/.test(b))return null;var d=b.toUpperCase();a||(a=document);var e=[],g=!1,f="";null!=c&&"undefined"!=typeof c&&(g=!0,f=pega.util.Event.isSafari?c.toLowerCase():c.toUpperCase());try{if(0<navigator.userAgent.indexOf("iPad")&&0<navigator.userAgent.indexOf("OS 7_0_4")){if(document.evaluate)for(var k=document.evaluate(g?".//"+f+"[@id]":".//*[@id]",a,null,0,null),h=k.iterateNext();h;)h.getAttribute("id").toUpperCase()==d&&(e[e.length]=h),h=k.iterateNext();
return 0==e.length?null:e}if("undefined"!=typeof a.querySelectorAll)return c=[],a.getElementById&&!a.getElementById(b)?null:c=b&&-1==b.indexOf(".")&&-1==b.indexOf("$")&&-1==b.indexOf("@")?getElementsByQuery(a,f+"#"+b):getElementsByQuery(a,f+"[id\x3d'"+b+"']");throw"undefined";}catch(l){console.log("Exception caught in getElementsById")}};
pega.util.Dom.getElementsByAttribute=function(b,a,c,d){if(!a)return null;d||(d=document);var e="";null!=c&&"undefined"!=typeof c&&(e=pega.util.Event.isSafari?c.toLowerCase():c.toUpperCase());try{if("undefined"!=typeof d.querySelectorAll)return c=[],c="*"==a?getElementsByQuery(d,e+"["+b+"]"):getElementsByQuery(d,e+"["+b+"\x3d'"+a+"']"),c=null==c?[]:c}catch(g){console.log("Exception caught in getElementsByAttribute")}};
pega.util.Dom.getInnerText=function(b){return b.innerText&&!window.opera?b.innerText:pega.util.Dom.findInnerText(b)};pega.util.Dom.setInnerText=function(b,a){void 0===b.textContent?b.innerText=a:b.textContent=a};
pega.util.Dom.getCoords=function(b){var a=!0;"none"==b.style.display&&(a=!1);for(var c={left:2,top:2,right:b.offsetWidth,bottom:b.offsetHeight};b&&"unknown"!=typeof b.offsetParent&&a;)c.left+=b.offsetLeft,c.top+=b.offsetTop,(b=b.offsetParent)&&(a=a&&"none"!=b.style.display);a?(c.right+=c.left,c.bottom+=c.top):(c.right=c.left,c.bottom=c.top);return c};
pega.util.Dom.getOuterHTML=function(b){if(pega.util.Event.isIE)return b.outerHTML;for(var a=b.attributes,c="\x3c"+b.tagName,d=0;d<a.length;d++)c+=" "+a[d].name+'\x3d"'+a[d].value+'"';return{IMG:!0,BR:!0,INPUT:!0,META:!0,LINK:!0,PARAM:!0,HR:!0}[b.tagName]?c+"\x3e":c+"\x3e"+b.innerHTML+"\x3c/"+b.tagName+"\x3e"};
pega.util.Event.fireEvent=function(b,a,c){"on"==a.substring(0,2).toLowerCase()&&(a=a.substring(2));if(b.addEventListener){c||(c=window);if("click"==a||"mousedown"==a||"mouseup"==a||"mouseover"==a||"mousemove"==a||"mouseout"==a||"dblclick"==a){var d=c.document.createEvent("MouseEvents");d.initMouseEvent(a,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}else if("focusin"==a||"focusout"==a)d=c.document.createEvent("Events"),d.initEvent(a,!0,!0,window,null);else if("load"==a||"unload"==a||"abort "==a||"error"==
a||"select"==a||"change"==a||"submit"==a||"reset"==a||"resize"==a||"scroll"==a||"focus"==a||"blur"==a)d=c.document.createEvent("Events"),d.initEvent(a,!1,!1);else if("DOMFocusIn"==a||"DOMFocusOut"==a||"DOMActivate"==a)d=c.document.createEvent("UIEvents"),d.initUIEvent(a,!1,!1,window,1);b.dispatchEvent(d)}else b.attachEvent&&b.fireEvent("on"+a)};
pega.util.Dom.getElementsByName=function(b,a,c){if(!b)return null;a||(a=document);var d="";null!=c&&"undefined"!=typeof c&&(d=pega.util.Event.isSafari?c.toLowerCase():c.toUpperCase());try{if("undefined"!=typeof a.querySelectorAll)return c=[],c=getElementsByQuery(a,d+'[name\x3d"'+b+'"]')}catch(e){console.log("Exception caught in getElementsByName")}};
pega.util.Dom.getElementsByIdOrName=function(b,a,c){if(!b)return null;a||(a=document);var d=[],e="";null!=c&&"undefined"!=typeof c&&(e=pega.util.Event.isSafari?c.toLowerCase():c.toUpperCase());try{if("undefined"!=typeof a.querySelectorAll)return d=[],d=getElementsByQuery(a,e+"[id\x3d'"+b+"'],"+e+"[name\x3d'"+b+"']")}catch(g){console.log("Exception caught in getElementsByIdOrName")}};
pega.util.Dom.selectSingleNode=function(b,a){if("undefined"==typeof XPathEvaluator){if((b=b.selectNodes(a))&&0<b.length)return b[0]}else if(b=b.evaluate(a,b,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null),null!=b)return b.singleNodeValue;return null};
pega.util.Dom.changeStyle=function(b,a,c){var d={focusevent:{add:"focus",remove:"blur"},iefocusevent:{add:"focusin",remove:"focusout"},mouseevent:{add:"mouseover",remove:"mouseout"}};b.styleArr=b.styleArr||[];0==b.styleArr.length&&b.styleArr.push({eventGroup:"default",style:b.style.cssText});var e=!1,g=!1,f;for(f in d)if(d[f].add==a){e=!0;break}else if(d[f].remove==a){g=!0;break}if(e)b.styleArr.push({eventGroup:f,style:c});else if(g){c=-1;d=b.styleArr.length;for(a=0;a<d;a++)if(b.styleArr[a].eventGroup==
f){c=a;break}-1!=c&&b.styleArr.splice(c,1)}else return!1;f="";for(a=0;a<b.styleArr.length;a++)f+=";"+b.styleArr[a].style;b.style.cssText=f;return!0};pega.util.Dom.removeNode=function(b){b.removeNode?b.removeNode(!0):b.parentNode.removeChild(b)};
pega.util.Event.getDragData=function(b){b=b.dataTransfer;var a=pega.desktop.support.getDesktopWindow();if(b){var c=b.getData("Text"),d,e=b.dropEffect;try{d=b.effectAllowed}catch(g){}c||(c=a.dragData);d&&"none"!=d.toLowerCase()||(d=a.effectAllowed);e&&"none"!=e.toLowerCase()||(e=a.dropEffect);return{dragData:c,effectAllowed:d,dropEffect:e}}};
pega.util.Event.setDragData=function(b,a){var c,d=pega.desktop.support.getDesktopWindow();b&&(c=b.dataTransfer);a?c&&(void 0!==a.dragData&&(c.setData("Text",a.dragData),d.dragData=a.dragData),a.effectAllowed&&(c.effectAllowed=a.effectAllowed,d.effectAllowed=a.effectAllowed),a.dropEffect&&(c.dropEffect=a.dropEffect,d.dropEffect=a.dropEffect)):(d.dragData=null,d.effectAllowed=null,d.dropEffect=null)};pega.namespace("pega.tools");pega.tools.Hashtable=function(a){this.hashtable=a?a:{}};pega.tools.Hashtable.prototype.clear=function(){this.hashtable={}};pega.tools.Hashtable.prototype.containsKey=function(a){var b=!1,c;for(c in this.hashtable)if(c==a&&null!=this.hashtable[c]){b=!0;break}return b};pega.tools.Hashtable.prototype.containsValue=function(a){var b=!1;if(null!=a)for(var c in this.hashtable)if(this.hashtable[c]==a){b=!0;break}return b};pega.tools.Hashtable.prototype.get=function(a){return this.hashtable[a]};
pega.tools.Hashtable.prototype.isEmpty=function(){return 0==this.size()?!0:!1};pega.tools.Hashtable.prototype.keys=function(){var a=[],b;for(b in this.hashtable)null!=this.hashtable[b]&&a.push(b);return a};pega.tools.Hashtable.prototype.put=function(a,b){if(null==a||null==b)throw"NullPointerException {"+a+"}, {"+b+"}";this.hashtable[a]=b;return!0};pega.tools.Hashtable.prototype.remove=function(a){var b=this.hashtable[a];this.hashtable[a]=null;return b};
pega.tools.Hashtable.prototype.size=function(){var a=0,b;for(b in this.hashtable)null!=this.hashtable[b]&&a++;return a};pega.tools.Hashtable.prototype.toString=function(){var a="",b;for(b in this.hashtable)null!=this.hashtable[b]&&(a+="{"+b+"},{"+this.hashtable[b]+"}\n");return a};pega.tools.Hashtable.prototype.values=function(){var a=[],b;for(b in this.hashtable)null!=this.hashtable[b]&&a.push(this.hashtable[b]);return a};var Hashtable=function(){Hashtable.superclass.constructor.call(this)};
pega.lang.extend(Hashtable,pega.tools.Hashtable);SafeURL.prototype=new Hashtable;function SafeURL(a,b){this.hashtable={};this.name="safeURL";void 0!=a&&null!=a&&""!=a&&this.setActivityAction(a);1<arguments.length&&""!=b&&this.put("pxReqURI",b)}SafeURL.prototype.copy=function(a,b){if(1<arguments.length&&b)for(var c in a.hashtable){var d=a.get(c);null!=d&&"undefined"!=typeof d&&this.put(c,d)}for(c in a.hashtable)d=a.get(c),null!=d&&"undefined"!=typeof d&&this.put(c,d)};SafeURL.prototype.toQueryStringWithEscape=function(){return this.toQueryString(!1)};
SafeURL.prototype.toQueryStringWithoutEscape=function(){return this.toQueryString(!0)};SafeURL.prototype.nullify=function(){for(var a=this.size(),b=this.keys(),c=0;c<a;c++)this.hashtable[b[c]]=null};
SafeURL.prototype.mayBeEscaped=function(a){return null==a||""==a?!1:-1!=a.indexOf("%20")||-1!=a.indexOf("%22")||-1!=a.indexOf("%23")||-1!=a.indexOf("%24")||-1!=a.indexOf("%25")||-1!=a.indexOf("%26")||-1!=a.indexOf("%27")||-1!=a.indexOf("%2B")||-1!=a.indexOf("%2C")||-1!=a.indexOf("%2F")||-1!=a.indexOf("%3A")||-1!=a.indexOf("%3B")||-1!=a.indexOf("%3C")||-1!=a.indexOf("%3D")||-1!=a.indexOf("%3E")||-1!=a.indexOf("%3F")||-1!=a.indexOf("%40")||-1!=a.indexOf("%5B")||-1!=a.indexOf("%5C")||-1!=a.indexOf("%5D")||
-1!=a.indexOf("%5E")||-1!=a.indexOf("%60")||-1!=a.indexOf("%7B")||-1!=a.indexOf("%7C")||-1!=a.indexOf("%7D")||-1!=a.indexOf("%7E")?!0:!1};SafeURL.prototype.toEncodedPostBody=function(){return this.toQueryString(!1,!1)};SafeURL.prototype.toEncodedQueryString=function(){return this.toQueryString(!1,!1)};SafeURL.prototype.toUnencodedQueryString=function(){return this.toQueryString(!0,!1)};
SafeURL.prototype.toQueryString=function(a,b){var c="",d="",e=!0,g=!0;0<arguments.length&&(e=!a);1<arguments.length&&(g=b);if(document&&("pyActivity"in this.hashtable||"pyStream"in this.hashtable)){var f=this.hashtable.pxReqURI;(!f||" "==f[0]||"/"==f[0]||-1<f.indexOf(document.location.host))&&(f=document.getElementById("pzHarnessID"))&&!this.hashtable.pzHarnessID&&(this.hashtable.pzHarnessID=f.value)}for(var h in this.hashtable)"pxReqURI"!=h&&(f=this.hashtable[h],"string"==typeof f&&(g&&(f=unescape(f)),
e&&(f=encodeURIComponent(f))),"pyActivity"==h||"pyStream"==h?c=h+"\x3d"+f:null!=this.hashtable[h]&&("object"==typeof f&&"safeURL"==f.name&&(f=f.toURL()),d+="\x26"+h+"\x3d"+f));return""==c?""==d?"":d.substring(1,d.length):c+d};SafeURL.prototype.toEncryptedURL=function(){return this.toURL(!1,!1)};
SafeURL.prototype.toAbsoluteURL=function(){var a=document.location.href,b=a.indexOf("?pyActivity\x3d"),c=a.indexOf("?pyStream\x3d");if(0<b)return a.substr(0,b);if(0<c)return a.substr(0,c);for(b=a.length-1;0<=b;--b)if("/"==a.charAt(b))return a.substr(0,b);return"ABSOLUTE_URL_NOT_FOUND"};
SafeURL.prototype.toURL=function(a,b){var c=!1,d=!0,e=window.pega&&pega.ctx&&pega.ctx.bEncryptURLs;0<arguments.length&&(c=a);1<arguments.length&&(d=b);var g="";this.hashtable.pxReqURI?g=this.hashtable.pxReqURI:"undefined"!=typeof pega.ctx.pxReqURI&&""!==pega.ctx.pxReqURI?g=pega.ctx.pxReqURI:"undefined"!=typeof safeUrlRequestURI?g=safeUrlRequestURI:"undefined"!=typeof gRuleFormManager&&"object"==typeof gRuleFormManager.wrapperAPI&&"undefined"!=typeof gRuleFormManager.wrapperAPI.safeUrlRequestURI&&
(g=gRuleFormManager.wrapperAPI.safeUrlRequestURI);c=this.toQueryString(c,d);if(null==c||""==c)return g;d="?";-1<g.indexOf("?")&&"undefined"!=typeof pega&&"undefined"!=typeof pega.d&&"undefined"!=typeof pega.d.isPortlet&&1==pega.d.isPortlet&&(d="\x26");return e&&(-1<c.indexOf("pyActivity")||-1<c.indexOf("pyStream"))?g+d+URLObfuscation.encrypt(c):g+d+c};
SafeURL.prototype.put=function(a,b){try{if(void 0==a||null==a||void 0==b||null==b)throw"NullPointerException in SafeURL.put(key,value) {"+a+"}, {"+b+"}";this.hashtable[a]=b;return!0}catch(c){return window.alert(c),!1}};SafeURL.prototype.get=function(a,b){return this.hashtable[a]};SafeURL.prototype.setStreamAction=function(a){this.put("pyStream",a)};SafeURL.prototype.setActivityAction=function(a){this.put("pyActivity",a)};
function SafeURL_createFromURL(a){a||(a=window.pega&&pega.ctx&&pega.ctx.url);var b=a.indexOf("pyactivitypzZZZ\x3d");if(-1!=b){var c=a.substr(0,b);a=a.substr(b+16);var b=a.indexOf("*"),d=a.substr(b+1);a=URLObfuscation.decrypt(a.substr(0,b));a=c+a+d}b=a.indexOf("?");c=new SafeURL;-1<b&&(d=a.substr(0,b),c.put("pxReqURI",d));var b=SafeURL_getNameValuePairsAsObject(a.substr(b+1,a.length)),e;for(e in b)"NoNVFound"==b[e]?c.put("pxReqURI",a):c.put(e,b[e]);return c}
function SafeURL_createFromEncryptedURL(a){return SafeURL_createFromURL(a)}
function SafeURL_createFromEncryptedURLwithQueryString(a){var b="";if(-1!=a.indexOf("pyactivitypzZZZ\x3d"))if(-1!=a.indexOf("*\x26")){var c=a.lastIndexOf("*\x26");if(-1<c){var b=a.substr(c+1,a.length-(c+2)),d=a.lastIndexOf("pyactivitypzZZZ\x3d");-1<d&&(a=a.substr(d+16,c-(d+16)),a=URLObfuscation.decrypt(a))}}else d=a.lastIndexOf("\x3d"),-1<d&&(a=URLObfuscation.decrypt(a.substr(d+1,a.length-(d+2))));""!=b&&(a+=b);d=a.indexOf("?");b=new SafeURL;-1<d&&(c=a.substr(0,d),b.put("pxReqURI",c));a=SafeURL_getNameValuePairsAsObject(a.substr(d+
1,a.length));for(var e in a)null==a[e]?b.put("pxReqURI",e):b.put(e,a[e]);return b}function SafeURL_getParameterParamNameList(a){var b=[];try{var c=SafeURL_getNameValuePairsAsObject(a);a=0;for(var d in c)b[a++]=d}catch(e){}return b}function SafeURL_getParameterParamValueList(a){var b=[];try{var c=SafeURL_getNameValuePairsAsObject(a);a=0;for(var d in c)b[a++]=c[d]}catch(e){}return b}
function SafeURL_getNameValuePairsAsObject(a){var b={};try{var c="",d="";if(null==a||""==a)return b;for(var e=a.split("\x26"),g=0;g<e.length;++g){var f=e[g];if(""!=f){var h=f.indexOf("\x3d");-1!=h?(c=f.substring(0,h),d=f.substring(h+1,f.length),b[c]=d):a==f?b[f]="NoNVFound":b[c]=("undefined"!=typeof b[c]?b[c].toString():"")+"\x26"+f}}}catch(k){}return b}
function SafeURL_clone(a){var b=new SafeURL,c;for(c in a.hashtable)null!=a.hashtable[c]&&("object"==typeof a.hashtable[c]&&"safeURL"==a.hashtable[c].name&&(a.hashtable[c]=SafeURL_clone(a.hashtable[c])),b.put(c,a.hashtable[c]));return b}
function serializeSafeURL(a){var b="\x3cSafeURL\x3e",c;for(c in a.hashtable){var d=a.hashtable[c];"object"==typeof d&&"safeURL"==d.name?(d=serializeSafeURL(d),b+="\x3cparam name\x3d'safeURL' key\x3d'"+c+"'\x3e"+d+"\x3c/param\x3e"):b+="\x3cparam key\x3d'"+c+"'\x3e"+d+"\x3c/param\x3e"}return b+"\x3c/SafeURL\x3e"}
function deserializeSafeURL(a){var b=new SafeURL,c=new ActiveXObject("microsoft.xmldom");if(c.loadXML(a)){a=c.firstChild.childNodes;for(var c=a.length,d=0;d<c;d++){var e=a[d].getAttribute("key"),g=a[d].getAttribute("name"),f=a[d].text;"safeURL"==g&&(f=deserializeSafeURL(a[d].firstChild.xml));null!=f&&"undefined"!=typeof f&&b.put(e,f)}return b}return null}
function Hashtable(){this.clear=hashtable_clear;this.containsKey=hashtable_containsKey;this.containsValue=hashtable_containsValue;this.get=hashtable_get;this.isEmpty=hashtable_isEmpty;this.keys=hashtable_keys;this.put=hashtable_put;this.remove=hashtable_remove;this.size=hashtable_size;this.toString=hashtable_toString;this.values=hashtable_values;this.hashtable={}}function hashtable_clear(){this.hashtable={}}
function hashtable_containsKey(a){var b=!1,c;for(c in this.hashtable)if(c==a&&null!=this.hashtable[c]){b=!0;break}return b}function hashtable_containsValue(a){var b=!1;if(null!=a)for(var c in this.hashtable)if(this.hashtable[c]==a){b=!0;break}return b}function hashtable_get(a){return this.hashtable[a]}function hashtable_isEmpty(){return 0==this.size()?!0:!1}function hashtable_keys(){var a=[],b;for(b in this.hashtable)null!=this.hashtable[b]&&a.push(b);return a}
function hashtable_put(a,b){if(null==a||null==b)throw"NullPointerException {"+a+"}, {"+b+"}";this.hashtable[a]=b;return!0}function hashtable_remove(a){var b=this.hashtable[a];this.hashtable[a]=null;return b}function hashtable_size(){var a=0,b;for(b in this.hashtable)null!=this.hashtable[b]&&a++;return a}function hashtable_toString(){var a="",b;for(b in this.hashtable)null!=this.hashtable[b]&&(a+="{"+b+"},{"+this.hashtable[b]+"}\n");return a}
function hashtable_values(){var a=[],b;for(b in this.hashtable)null!=this.hashtable[b]&&a.push(this.hashtable[b]);return a}
var URLObfuscation={_keyStr:"-_0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ[",encrypt:function(a){var b=getObfuscationKey();if(null==b)return URLObfuscation.encode(a);b=stringToByteArray(b);a=rijndaelEncrypt(a,formatKey(b));return"pyactivitypzZZZ\x3d"+byteArrayToHex(a)+"*"},decrypt:function(a){var b=getObfuscationKey();if(null==b)return URLObfuscation.decode(a);b=stringToByteArray(b);a=rijndaelDecrypt(hexToByteArray(a),formatKey(b));return byteArrayToString(a)},encode:function(a){if(0==
a.indexOf("pyactivitypzZZZ\x3d"))return a;var b="",c,d,e,g,f,h,k=0;for(a=URLObfuscation._utf8_encode(a);k<a.length;)c=a.charCodeAt(k++)^90,d=a.charCodeAt(k++)^90,e=a.charCodeAt(k++)^90,g=c>>2,c=(c&3)<<4|d>>4,f=(d&15)<<2|e>>6,h=e&63,isNaN(d)?f=h=64:isNaN(e)&&(h=64),b=b+this._keyStr.charAt(g)+this._keyStr.charAt(c)+this._keyStr.charAt(f)+this._keyStr.charAt(h);return"pyactivitypzZZZ\x3d"+b+"*"},decode:function(a){var b="",c,d,e,g,f,h=0;for(a=a.replace(/[^\-\_0-9a-zA-Z\[]/g,"");h<a.length;)c=this._keyStr.indexOf(a.charAt(h++)),
d=this._keyStr.indexOf(a.charAt(h++)),g=this._keyStr.indexOf(a.charAt(h++)),f=this._keyStr.indexOf(a.charAt(h++)),c=c<<2|d>>4,d=(d&15)<<4|g>>2,e=(g&3)<<6|f,c^=90,b+=String.fromCharCode(c),64!=g&&(d^=90,b+=String.fromCharCode(d)),64!=f&&(e^=90,b+=String.fromCharCode(e));return b=URLObfuscation._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=
String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d,e,g;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):191<d&&224>d?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),g=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|g&63),c+=3);return b}},BS=128,BB=128,RA=[,null,null,null,[,null,null,null,10,null,12,null,14],null,[,null,null,
null,12,null,12,null,14],null,[,null,null,null,14,null,14,null,14]],SO=[,null,null,null,[,1,2,3],null,[,1,2,3],null,[,1,3,4]],RC=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],SB=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,
214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,
14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],SBI=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,
144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,
83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],xorMask=[226,200,245,50,92,38,185,101,55,65,48,82,245,164,137,213,115,22,204,69,175,142,22,63,241,39,28,231,134,7,60,170,222,140,92,237,69,228,230,220,124,240,0,240,231,1,72,78,246,34,15,247,86,17,185,200,88,144,232,207,254,107,213,4,177,11,238,14,12,45,35,58,100,18,89,155,85,228,118,204,47,236,21,206,52,19,193,80,128,230,246,119,233,16,3,142,252,237,228,120,50,67,88,39,114,7,10,30,65,153,128,136,145,49,146,215,54,58,230,38,13,27,149,
90,194,45,15,85,32,101,107,214,172,188,253,138,143,240,251,137,65,48,137,241,145,131,142,10,248,194,42,86,75,1,41,187,218,209,62,56,199,255,209,32,99,253,91,252,135,215,247,71,255,185,228,239,39,224,237,110,80,35,204,245,167,127,164,27,211,138,221,109,89,142,28,239,178,129,212,221,138,103,94,233,184,214,166,111,80,95,146,116,193,124,181,9,51,80,31,46,38,91,167,251,136,23,151,191,235,248,248,234,172,53,205,215,190,148,37,127,142,239,252,162,8,223,221,146,38,81,184,202,158,0,11,12];
function cSL(a,b){var c=a.slice(0,b);return a=a.slice(b).concat(c)}var Nk=BS/32,Nb=BB/32,Nr=RA[Nk][Nb];function XT(a){a<<=1;return a&256?a^283:a}function GF(a,b){var c,d=0;for(c=1;256>c;c*=2,b=XT(b))a&c&&(d^=b);return d}function bS(a,b){b="e"==b?SB:SBI;for(var c=0;4>c;c++)for(var d=0;d<Nb;d++)a[c][d]=b[a[c][d]]}function sR(a,b){for(var c=1;4>c;c++)a[c]="e"==b?cSL(a[c],SO[Nb][c]):cSL(a[c],Nb-SO[Nb][c])}
function mC(a,b){for(var c=[],d=0;d<Nb;d++){for(var e=0;4>e;e++)c[e]="e"==b?GF(a[e][d],2)^GF(a[(e+1)%4][d],3)^a[(e+2)%4][d]^a[(e+3)%4][d]:GF(a[e][d],14)^GF(a[(e+1)%4][d],11)^GF(a[(e+2)%4][d],13)^GF(a[(e+3)%4][d],9);for(e=0;4>e;e++)a[e][d]=c[e]}}function aRK(a,b){for(var c=0;c<Nb;c++)a[0][c]^=b[c]&255,a[1][c]^=b[c]>>8&255,a[2][c]^=b[c]>>16&255,a[3][c]^=b[c]>>24&255}
function OY(a){var b=a.length,c=[],d=b%256,e;for(e=0;e<d;e++)c[e]=a[e]^xorMask[e];for(;e<b;)for(d=0;256>d;d++)c[e]=a[e]^xorMask[d],e++;return c}
function YE(a){var b=[];Nk=BS/32;Nb=BB/32;Nr=RA[Nk][Nb];for(var c=0;c<Nk;c++)b[c]=a[4*c]|a[4*c+1]<<8|a[4*c+2]<<16|a[4*c+3]<<24;for(c=Nk;c<Nb*(Nr+1);c++)a=b[c-1],0==c%Nk?a=(SB[a>>8&255]|SB[a>>16&255]<<8|SB[a>>24&255]<<16|SB[a&255]<<24)^RC[Math.floor(c/Nk)-1]:6<Nk&&4==c%Nk&&(a=SB[a>>24&255]<<24|SB[a>>16&255]<<16|SB[a>>8&255]<<8|SB[a&255]),b[c]=b[c-Nk]^a;return b}function Rd(a,b){bS(a,"e");sR(a,"e");mC(a,"e");aRK(a,b)}function iRd(a,b){aRK(a,b);mC(a,"d");sR(a,"d");bS(a,"d")}
function FRd(a,b){bS(a,"e");sR(a,"e");aRK(a,b)}function iFRd(a,b){aRK(a,b);sR(a,"d");bS(a,"d")}function encrypt(a,b){var c;if(a&&8*a.length==BB&&b){a=pB(a);aRK(a,b);for(c=1;c<Nr;c++)Rd(a,b.slice(Nb*c,Nb*(c+1)));FRd(a,b.slice(Nb*Nr));return uPB(a)}}function decrypt(a,b){var c;if(a&&8*a.length==BB&&b){a=pB(a);iFRd(a,b.slice(Nb*Nr));for(c=Nr-1;0<c;c--)iRd(a,b.slice(Nb*c,Nb*(c+1)));aRK(a,b);return uPB(a)}}
function pB(a){var b=[];if(a&&!(a.length%4)){b[0]=[];b[1]=[];b[2]=[];b[3]=[];for(var c=0;c<a.length;c+=4)b[0][c/4]=a[c],b[1][c/4]=a[c+1],b[2][c/4]=a[c+2],b[3][c/4]=a[c+3];return b}}function uPB(a){for(var b=[],c=0;c<a[0].length;c++)b[b.length]=a[0][c],b[b.length]=a[1][c],b[b.length]=a[2][c],b[b.length]=a[3][c];return b}
function fPT(a){var b=BB/8,c;if("string"==typeof a||a.indexOf)for(a=a.split(""),c=0;c<a.length;c++)a[c]=a[c].charCodeAt(0)&255;for(c=b-a.length%b;0<c&&c<b;c--)a[a.length]=0;return a}function rijndaelEncrypt(a,b){var c,d=BB/8,e;if(a&&b&&8*b.length==BS){e=[];a=fPT(a);b=OY(b);b=YE(b);for(var g=0;g<a.length/d;g++)c=a.slice(g*d,(g+1)*d),e=e.concat(encrypt(c,b));return e}}
function rijndaelDecrypt(a,b){var c=BB/8,d=[],e,g;if(a&&b&&"string"!=typeof a&&8*b.length==BS){b=OY(b);b=YE(b);for(g=a.length/c-1;0<g;g--)e=decrypt(a.slice(g*c,(g+1)*c),b),d=e.concat(d);return d=decrypt(a.slice(0,c),b).concat(d)}}function stringToByteArray(a){for(var b=[],c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}function byteArrayToString(a){var b="";if(a){for(var c=0;c<a.length;c++)0!=a[c]&&(b+=String.fromCharCode(a[c]));return b}}
function byteArrayToHex(a){var b="";if(a){for(var c=0;c<a.length;c++)b+=(16>a[c]?"0":"")+a[c].toString(16);return b}}function hexToByteArray(a){var b=[];if(!(a.length%2)){if(0==a.indexOf("0x")||0==a.indexOf("0X"))a=a.substring(2);for(var c=0;c<a.length;c+=2)b[Math.floor(c/2)]=parseInt(a.slice(c,c+2),16);return b}}function formatKey(a){var b,c=0,d=BS/8,e=[];for(b=a.length-1;-1<b&&(e[c++]=a[b],c!=d);b--);if(c<d)for(a=c;a<d;a++)e[a]=c+60;return e}
function getCookie(){try{var a="";if("undefined"!=typeof pega&&pega&&pega.web&&pega.web.mgr&&!pega.web.mgr._bDirectPRPC)return pega.web.mgr.getCookie();for(var b=window.document.cookie.split("; "),c=0;c<b.length;c++){var d=b[c].split("\x3d");if("prGatewaySESSIONID"==d[0])return d[1].toLowerCase();"JSESSIONID"==d[0]&&(a=d[1].toLowerCase())}}catch(e){}return a}
function getObfuscationKey(){try{var a="";if("undefined"!=typeof pega&&pega&&pega.web&&pega.web.mgr&&!pega.web.mgr._bDirectPRPC)return pega.web.mgr.getCookie();a=pega.d.obfuscateKey}catch(b){}if(null==a||""==a)a=pega.web.mgr.getCookie().toLowerCase();return a};try{if(typeof (pega.web.mgr)=="undefined"){var bPegaIacInitialOnLoad=true}else{var bPegaIacInitialOnLoad=false}}catch(e){var bPegaIacInitialOnLoad=true}if(typeof (pega.ctx.bEncryptURLs)=="undefined"){pega.ctx.bEncryptURLs=true}var bPegaIacGadgetsInitialized=false;if(bPegaIacInitialOnLoad){var p_w_window=null;function _initAllPegaObjects(){if(pega&&pega.web&&pega.web.isWebMashup){if(!bPegaIacInitialOnLoad){pega.web.mgr._updateGadgets();return }bPegaIacInitialOnLoad=false;pega.web.mgr._initLog();pega.web.mgr._logMsg("info","","Manager","Started Pega IAC manager intialization.");pega.web.mgr._ut._setCookie("PegaIAC","IACtest",1);if(pega.web.mgr._ut._readCookie("PegaIAC")!="IACtest"){pega.web.mgr.cookiesDisabled=true;pega.web.mgr._logMsg("error","","Manager","error: Browser cookies must be enabled for Pega IAC to function.")}pega.ctx.bEncryptURLs=false;pega.web.mgr._initGadgets(window);bPegaIacGadgetsInitialized=true;return }try{if(!bPegaIacInitialOnLoad){pega.web.mgr._updateGadgets();return }bPegaIacInitialOnLoad=false;if(typeof (bUseOriginalResize)!="undefined"){pega.web.mgr._bUseHarnessResizeAPI=false}pega.web.mgr._initLog();pega.web.mgr._logMsg("info","","Manager","Started Pega IAC manager intialization.");if(pega.web.config.encrypt){pega.web.mgr._ut._setCookie("PegaIAC","IACtest",1);if(pega.web.mgr._ut._readCookie("PegaIAC")!="IACtest"){pega.web.mgr.cookiesDisabled=true;pega.web.mgr._logMsg("error","","Manager","error: Browser cookies must be enabled for Pega IAC to function.");pega.web.mgr._initGadgets(window);return }else{pega.web.mgr._logMsg("info","","Manager","Passed test: client browser cookies enabled.");pega.web.mgr._ut._setCookie("PegaIAC","",0)}}if(typeof pega.ui.property=="function"){pega.web.mgr._prop=new pega.ui.property()}else{pega.web.mgr._prop=pega.ui.property}pega.web.mgr._sPegaCookie=pega.web.mgr._ut._readCookie("JSESSIONID");pega.web.mgr._pingGateway()}catch(A){}}function _completePegaObjectsInit(){if(pega.web.mgr._bIsProxy){pega.web.mgr._oMgrImpl=oWin.pega.web.mgr;pega.web.mgr._oMgrImpl._initGadgets(window)}else{pega.web.mgr._initConfig();pega.web.mgr._initGadgets(window)}bPegaIacGadgetsInitialized=true}var _executeFunction=function(G,A,F,E,B){var D=G.split(".");var A=A||window;for(var C=0;C<D.length-1;C++){if(C==0&&D[C]==="this"){A=B;continue}A=A[D[C]]}E=E||A;return A[D[C]].apply(E,F)};try{pega.t=pega.namespace("pega.tools");pega.web=pega.namespace("pega.web");pega.ui=pega.namespace("pega.ui");if(typeof (pega.u)!="undefined"&&typeof (pega.u.d)!="undefined"){pega.u.d.attachOnload(_initAllPegaObjects,true)}else{pega.util.Event.addListener(window,"load",_initAllPegaObjects,null,false)}}catch(e){}pega.web.apiSingleton=function(){};pega.web.DataBinder=function(){var A=0;var D,C,B;this.incrementMsgCounter=function(){A++};this.decrementMsgCounter=function(){A--;this.executeCallback()};this.registerCallback=function(E,F,G){D=E;C=F;B=G};this.executeCallback=function(){if(A==0&&D){D.call(C,B)}}};pega.web.apiSingleton.prototype={doAction:function(B,A){var C=pega.web.mgr._getGadgetByID(B);if(C==null){return }return C._doApiAction(A,arguments)},setAuthenticationHeaders:function(A,B){B=JSON.parse(JSON.stringify(B));this.headersObj=this.headersObj||{};this.headersObj[A]=B},setAuthenticationParameters:function(A,B){B=JSON.parse(JSON.stringify(B));this.paramsObj=this.paramsObj||{};this.paramsObj[A]=JSON.stringify(B)},doGatewayAction:function(B,C,A){pega.web.mgr._cmdGateway(B,C,A)},removeGadget:function(A){pega.web.mgr._removeGadget(A)},addGadget:function(B,A){pega.web.mgr._addGadget(B,A)},updateGadgets:function(){pega.web.mgr._updateGadgets()}};pega.web.manager=function(){this._htGadgets=new pega.tools.Hashtable();this._htPopups=new pega.tools.Hashtable();this._htInitDivs=null;this._sPegaCookie="NA_xxx";this._iPopupTimerID=-1;this._ut=new pega.web.utils();this._bDirectPRPC=true;this._bIsProxy=false;this._oMgrImpl=null;this.gatewayURL="";this.systemID="";this.thread="";this.appName="";this.cookiesDisabled=false;this._logMgr=null;this._fLogoffCallback=null;this._bUseHarnessResizeAPI=true};pega.web.serverURLsMap={};pega.web.manager.prototype={_initLog:function(){if(typeof (pega.web.logMgr)=="undefined"){return }this._logMgr=new pega.web.logMgr();this._logMgr._logInit();this._logMsg=this._logMgr._logMsg},_logMsg:function(D,C,A,B){},_initConfig:function(){try{var B=pega.web.config.thread;var C=pega.web.config.gatewayURL;if(this._bDirectPRPC){var A=C.search(RegExp("!"));if(A>-1){pega.web.config.gatewayURL=C.substr(0,A);if(B==""){pega.web.config.thread=C.substring(A)}}}if(!pega.web.config.encrypt){pega.ctx.bEncryptURLs=false}else{pega.ctx.bEncryptURLs=true}}catch(D){}},_resizeCallback:function(A){try{var C=pega.web.mgr._getGadgetByID(A);if(C!=null){C._resizeCallback()}var B=C._oFrame;if(B){var E=B.contentWindow||B.contentDocument;E.pega.ui.d.avoidedScrollBars=false}}catch(D){}},_addGadget:function(D,B){try{var C=D;if(typeof (D)=="string"){var A=B.document;C=A.getElementById(D)}this._initGadget(C,B);this._logMsg("info",C.getAttribute("PegaGadget")||C.getAttribute("data-pega-gadgetname"),"Manager","Gadget added for DIV "+C.id)}catch(E){}},_removeGadget:function(A){try{var D=pega.web.mgr._getGadgetByID(A);if(D!=null){var E=this._htGadgets.keys();for(var C=0;C<E.length;++C){var G=this._htGadgets.get(E[C]);if(G._id==A){var B=G._oDiv;B.removeChild(B.firstElementChild);G.removeGadget();this._htGadgets.remove(G._id);this._logMsg("info",D._id,"Manager","Gadget removed")}}}}catch(F){}},_initGadget:function(C,B){if(C==null){return }var A=C.getAttribute("PegaGadget")||C.getAttribute("data-pega-gadgetname");if(A==null){return }if(this.cookiesDisabled){var D=B.document.createElement("div");D.innerHTML=pega.web.config.cookiesDisabled;C.appendChild(D);return }this._logMsg("info",A,"Manager","start gadget '"+A+"' initialization");if(this._htGadgets.containsKey(A)){this._logMsg("error","","Manager","error: duplicate PegaGadget attribute '"+A+"' for DIV '"+C.getAttribute("id")+"'");return }try{this._htGadgets.put(A,new pega.web.gadget(C,B));this._logMsg("info",A,"Manager","completed gadget '"+A+"' initialization")}catch(E){}},isCookieConsentRequired:function(H){var C=false;var G=document.createElement("a");G.href=H._oConfigDefs.serverURL;var B=false;if(H._oDivAttrs&&H._oDivAttrs.params){if(H._oDivAttrs.params.pySkipCookieConsent=="true"){B=true}delete H._oDivAttrs.params.pySkipCookieConsent}var F=false;try{var D=G.host.split(".");var A=window.location.host.split(".");F=(D[D.length-1]==A[A.length-1]&&D[D.length-2]==A[A.length-2])}catch(E){F=false}C=navigator.userAgent.indexOf("AppleWebKit")!=-1&&navigator.userAgent.indexOf("Chrome")==-1&&sessionStorage.getItem(H._oConfigDefs.serverURL)!="true"&&H._oDivAttrs.targetType!="_popup"&&G.host!==window.location.host&&!F;if(C&&B){pega.web.mgr.openCookieConsent(H._id);C=false}return C},addCookieAcceptanceMessage:function(D){var A=document.createElement("div");A.className="pega-mashup–cookieconsent";var C="";if(pega.web.config.fnCookieConsentMessage){C=pega.web.config.fnCookieConsentMessage(D._id)}else{var B="";if(pega.web.config.strCookieConsentMessage){B=pega.web.config.strCookieConsentMessage}else{B="This page displays information that requires cookies to be set. Confirm to continue."}C=B+"<button onclick='pega.web.mgr.openCookieConsent(\""+D._id+"\")'> Confirm </button>"}A.innerHTML=C;D._oDiv.appendChild(A)},_initGadgets:function(H){p_w_window=H;var J=H.document;var B;if(typeof $=="undefined"){B=window.document.getElementsByTagName("DIV")}else{B=$("DIV[PegaGadget],DIV[data-pega-gadgetname]")}var C=new pega.tools.Hashtable();for(var D=0;D<B.length;++D){var E=B[D];var I=E.getAttribute("PegaGadget")||E.getAttribute("data-pega-gadgetname");if(I!=null){var F=I;try{var A=this._htGadgets.get(F);if(A!=null&&A._oWin==H){continue}}catch(G){}this._initGadget(E,p_w_window);C.put(F,F)}}var K=C.keys();K.forEach(function(M){var N=this._htGadgets.get(M);if(pega.web.isWebMashup){if(N._oConfigDefs.tenantID==""&&N._oConfigDefs.redirectGuests=="false"){N._oConfigDefs.serverURLWithHash=N._oConfigDefs.serverURL;if(N._oDivAttrs.action!=""){if(N._oDivAttrs.defer=="false"){N._doAttrAction()}}}else{if(pega.web.serverURLsMap[N._oConfigDefs.serverURL]&&pega.web.serverURLsMap[N._oConfigDefs.serverURL][N._oConfigDefs.tenantID]){N._oConfigDefs.serverURLWithHash=pega.web.serverURLsMap[N._oConfigDefs.serverURL][N._oConfigDefs.tenantID];if(N._oDivAttrs.action!=""){if(N._oDivAttrs.defer=="false"){N._doAttrAction()}}}else{var L=(N._oConfigDefs.serverURL||pega.web.config.gatewayURL)+"?pyActivity=pzGetURLHashes&TenantName="+N._oConfigDefs.tenantID;this._loadScript(L,function(){pega.web.serverURLsMap[N._oConfigDefs.serverURL]=pega.web.serverURLsMap[N._oConfigDefs.serverURL]||{};pega.web.serverURLsMap[N._oConfigDefs.serverURL][N._oConfigDefs.tenantID]=N._oConfigDefs.serverURL+pega.web.config.tempAGHash;N._oConfigDefs.serverURLWithHash=N._oConfigDefs.serverURL+pega.web.config.tempAGHash;delete pega.web.config.tempAGHash;if(N._oDivAttrs.action!=""){if(N._oDivAttrs.defer=="false"){N._doAttrAction()}}})}}}else{if(N._oDivAttrs.action!=""){if(N._oDivAttrs.defer=="false"){N._doAttrAction()}}}},this)},doAction:function(){var D=arguments;var C=D[0];if(C.pyStreamName){pega.ui.pyStreamName=C.pyStreamName}var E=null;if(typeof (C)=="string"){var B=C;if(this._htPopups.containsKey(C)){B=this._htPopups.get(C)}if(this._htGadgets.containsKey(B)){E=this._htGadgets.get(B)}}else{if(typeof (C)=="object"){E=this._getGadgetFromDiv(C)}}if(E==null){return }var A=D[1];return E._doGdtAction(A,D)},_cmdGateway:function(E,D,A){try{var B={success:this._cmdGatewayCallback,failure:this._cmdGatewayCallback};switch(E.toLowerCase()){case"logoff":pega.util.Connect.asyncRequest("Post",pega.web.config.gatewayURL,B,"pyActivity=PRGatewayLogoff");pega.web.mgr._logMsg("info","","Manager","Sent Logoff command to gateway.");this._fLogoffCallback=A;break}}catch(C){}},_getDocGatewayCookie:function(){try{var B=null;var C=window.document.cookie.split("; ");for(var D=0;D<C.length;D++){var A=C[D].split("=");if("prGatewaySESSIONID"==A[0]){return A[1].toLowerCase()}else{if("JSESSIONID"==A[0]){B=A[1].toLowerCase()}}}if(B!=null){return B}else{return""}}catch(E){return""}},_buildURLForPing:function(B){var C=B;if(B.indexOf("$")==-1){return B}try{var A=B.indexOf("!");A=B.lastIndexOf("/",A-2);B=B.substring(0,A);return B}catch(D){return C}},isSameDomain:function(){var A=window.location.href.replace(window.location.pathname,"");if(pega.web.config.gatewayURL.indexOf("/")==0){return true}if(pega.web.config.gatewayURL.indexOf(A)==0){return true}return false},_pingGateway:function(){if(!this.isSameDomain()){this._pingGatewayCallback();return }try{var C={success:this._pingGatewayCallback,failure:this._pingGatewayCallback};var B="";if(pega.web.config.gatewayURL.indexOf("!")>-1||pega.web.config.gatewayURL.indexOf("$")>-1){B=pega.web.mgr._buildURLForPing(pega.web.config.gatewayURL)}else{if(pega.web.config.gatewayURL.substring(pega.web.config.gatewayURL.length-1,pega.web.config.gatewayURL.length)=="/"){B=pega.web.config.gatewayURL.substring(0,pega.web.config.gatewayURL.length-1)}else{B=pega.web.config.gatewayURL.substring(0,pega.web.config.gatewayURL.length)}}if(!(B.indexOf("!")>-1)){if((B.indexOf("http")>-1)||(B.indexOf("https")>-1)){var E=B.split("/");if(E.length>5){var F=E[5];if(F!=""){if(E.length>6){if(E[6]==""){B=B+"!STANDARD"}}else{if(B.toLowerCase().indexOf("!standard")==-1){B=B+"/!STANDARD"}}}}}else{var E=B.split("/");if(E.length>3){var F=E[3];if(F!=""){if(E.length>4){var A=E[4];if(A==""){B=B+"!STANDARD"}}else{if(B.toLowerCase().indexOf("!standard")==-1){B=B+"/!STANDARD"}}}}}}pega.util.Connect.asyncRequest("Post",B,C,"pyActivity=PRGatewayPing&dartmouth=true");pega.web.mgr._logMsg("info","","Manager","Pinged gateway to find gateway session cookie")}catch(D){}},_cmdGatewayCallback:function(D){try{var B=D.responseText;var A=B=="LOGOFF";if(pega.web.mgr._fLogoffCallback!=null){pega.web.mgr._fLogoffCallback(A)}pega.web.mgr._logMsg("info","","Gateway","Completed logoff command.")}catch(C){}},_pingGatewayCallback:function(C){try{var E=pega.web.mgr._getDocGatewayCookie();if(E!=""){pega.web.mgr._sPegaCookie=E}var B=C.getAllResponseHeaders;var P=B.indexOf("prGatewaySESSIONID=");if(P>=0){pega.web.mgr._bDirectPRPC=false;var K=B.indexOf("=",P+1)+1;var F=B.indexOf(";",K);pega.web.mgr._sPegaCookie=(F>0)?B.substring(K,F):B.substr(K);pega.web.mgr._logMsg("info","","Manager","Gateway is present in configuration. Found session cookie.")}else{if(B.indexOf("prGateway:")>-1){pega.web.mgr._bDirectPRPC=false;var N=C.getResponseHeader.prGateway;var H=N.length;if(N.charCodeAt(H-1)=="13"){N=N.substring(0,H-1)}pega.web.mgr._sPegaCookie=N}else{if(B.indexOf("Prgateway:")>-1){pega.web.mgr._bDirectPRPC=false;var N=C.getResponseHeader.Prgateway;var H=N.length;if(N.charCodeAt(H-1)=="13"){N=N.substring(0,H-1)}pega.web.mgr._sPegaCookie=N}else{pega.web.mgr._bDirectPRPC=true;var O="";var L=B.toLowerCase().indexOf("iac-nongateway:");if(L>=0&&pega.web.config.encrypt){var M=B.indexOf(":",L+1)+1;var A=B.indexOf("\r\n",M);O=(A>0)?B.substring(M,A):B.substr(M).substr(16);if(!(O==""||O=="%22%22"||O=='""')){pega.web.mgr._sPegaCookie=O;pega.web.mgr._ut._setCookie("IAC-NonGateway",pega.web.mgr._sPegaCookie,1)}}if(O==""||O=="%22%22"||O=='""'){var L=B.indexOf("Pega-RULES=");if(L>=0){var M=B.indexOf("=",L+1)+1;var A=B.indexOf(";",M);pega.web.mgr._sPegaCookie=(A>0)?B.substring(M,A):B.substr(M);pega.web.mgr._ut._setCookie("Pega-RULES",pega.web.mgr._sPegaCookie,1)}}if(pega.web.mgr._sPegaCookie=="NA_xxx"){pega.web.mgr._logMsg("error","","Manager","error: did not find JSESSION to use as the default session cookie.");return }pega.web.mgr._logMsg("info","","Manager","Gateway is not present in configuration. Use JSESSION for session cookie.")}}}}catch(J){}_completePegaObjectsInit()},_loadScript:function(B,C){var A=document.createElement("script");A.type="text/javascript";if(A.readyState){A.onreadystatechange=function(){if(A.readyState=="loaded"||A.readyState=="complete"){A.onreadystatechange=null;C()}}}else{A.onload=function(){C()}}A.src=B;document.body.appendChild(A)},getCookie:function(){if(this._sPegaCookie=="NA_xxx"){this._sPegaCookie=this._getDocGatewayCookie()}return this._sPegaCookie},_getGadgetByID:function(A){if(this._htGadgets.containsKey(A)){return this._htGadgets.get(A)}else{return null}},_getGadgetFromDiv:function(B){if(B==null){return }var A=B.getAttribute("PegaGadget")||B.getAttribute("data-pega-gadgetname");if(A==null){return null}var C=pega.web.mgr._htGadgets.get(A);if(typeof (C)=="undefined"&&window!==window.parent&&window.parent.pega&&window.parent.pega.web&&window.parent.pega.web.mgr&&window.parent.pega.web.mgr._htGadgets&&window.parent.pega.web.mgr._htGadgets.get){C=window.parent.pega.web.mgr._htGadgets.get(A)}if(typeof (C)=="undefined"){this._logMsg("error",A,"Manager","Gadget not found.");return null}return C},_updateGadgets:function(){if(!bPegaIacGadgetsInitialized){return }try{this._logMsg("info","","Manager","Start re-synchronizing gadgets.");var C=this._htGadgets.keys();for(var B=0;B<C.length;++B){var E=this._htGadgets.get(C[B]);var A=E._oDiv.getAttribute("PegaGadget")||E._oDiv.getAttribute("data-pega-gadgetname");if(E._oDiv.parentNode==null){this._logMsg("info",E._id,"Manager","Removing gadget no longer valid or present in the document.");this._removeGadget(E._id)}else{if(A==null){this._logMsg("info",E._id,"Manager","Removing gadget with missing 'PegaGadget' attribute.");this._removeGadget(E._id)}}}pega.web.mgr._initGadgets(window);this._logMsg("info","","Manager","Done re-synchronizing gadgets.")}catch(D){}},_iPopupTracker:function(){var C=this._htPopups.keys();for(var B=0;B<C.length;++B){var A=this._htPopups.get(C[B]);var E=this._htGadgets.get(A);if(E==null){return }try{if(E._oPopWin.closed){this._htPopups.remove(C[B]);if(C.length==1){window.clearInterval(this._iPopupTimerID);this._iPopupTimerID=-1}E._doGdtAction("closed","")}}catch(D){}}},_getActionMappingName:function(A){switch(A.toLowerCase()){case"openbyassignment":return"openAssignment";break;case"openbyworkhandle":return"openWorkByHandle";break;case"openbyworkitem":return"openWorkItem";break;case"enternewworkfromflow":return"createNewWork";break;case"getnextwork":return"getNextWorkItem";break;default:return""}},openCookieConsent:function(A){var D=pega.web.mgr._getGadgetByID(A);var C=window.open(D._oConfigDefs.serverURLWithHash+"?pyActivity=pzGetURLHashes&showConsent=true","CookieConsent","width=1,height=1");if(D._oDivAttrs.action!=""){setTimeout(function(){D._processGadget()},3000)}sessionStorage.setItem(D._oConfigDefs.serverURL,true);var B=D._oDiv.querySelector("div.pega-mashup–cookieconsent");if(B){B.remove()}C=undefined}};pega.web.gadget=function(B,A){this._id;this._oApiAction={action:"",activityQuery:""};this._oActRefresh={action:"refresh",activityQuery:"",baseURI:""};this._oGdtActions=null;this._oConfigDefs={gatewayURL:"",appName:"",systemID:"",serverURL:"",serverURLWithHash:"",tenantID:"",thread:""};this._oConfigDyno={appName:"",systemID:"",thread:""};this._oDivAttrs={action:"",activityQuery:"",params:{},targetType:"_self",popupOptions:"",defer:"false"};this._oDivProps=null;this._oEvents={onBeforeLoad:"",onLoad:"",onConfirm:"",onCustom:"",onPageData:"",onClose:"",onError:"",onDomReady:"",onResize:""};this._bMaxIframeSize=true;this._bFillSpace=false;this._sizeInPercentage=false;this._scrollWidth=25;this._divOffsetWidth=null;this._divOffsetHeight=null;this._htInsElements=null;this._htCamelCaseMap=null;this._oFrame=null;this._iFrPrevHt=0;this._oPopWin=null;this._oWin=A;this._oDoc=A.document;this._oDiv=this._init(B);this._sErrNum="";this._sErrDescr="";this._bLoaded=false;this._bAddedOnLoadListener=false;this._oActionModel={action:"",actionMapping:"",target:{type:"_self",name:""},params:{},activityQuery:"",pageURL:"",popup:{options:"",gadgetReference:""}}};pega.web.gadget.prototype={_init:function(B){this._camelCaseMapBuild();this._oDiv=B;this._id=B.getAttribute("PegaGadget")||B.getAttribute("data-pega-gadgetname");this._getProps();if(pega.web.isWebMashup==true){var A=(this._oConfigDefs.serverURL||this._oConfigDefs.gatewayURL).split("/");if(A.length>0){var C=B.getAttribute("data-pega-targettype"),D="Ifr";if(C=="_popup"){D=""}pega.Mashup.Communicator.addDomainToWhiteList(this._id+D,A[0]+"//"+A[2])}}return B},removeGadget:function(){this._oFrame=null;this._iFrPrevHt=0;this._oPopWin=null;this._oWin=null;this._oDoc=null;this._oDiv=null},_postActionToGadget:function(C){var B={},D={},E,F;var A=function(){var G=function(I){if(!I){return }if(I.callback){B.callback=I.callback;B.scope=I.scope}};D.gadgetName=C[0];E=C[1];D.name=E;B.target=C[0]+"Ifr";var H=pega.web.mgr._getGadgetByID(C[0]);if(H&&H._oDivAttrs&&H._oDivAttrs.targetType=="_popup"){B.target=C[0]}switch(E.toLowerCase()){case"getgadgetdata":D.propRef=C[2];F=C[3];break;case"setgadgetdata":D.propRef=C[2];D.propValue=C[3];F=C[4];break;case"getgadgetinfo":F=C[2];break}G(F)};A();pega.Mashup.Communicator.send(D,B)},_isGadgetAction:function(A){switch(A.toLowerCase()){case"getgadgetdata":case"setgadgetdata":case"getgadgetinfo":case"print":case"restretch":case"reload":return true;default:return false}},_doApiAction:function(A,B){if(!this._validatePageAPI(A)){pega.web.mgr._logMsg("error",this._id,"Page API","error: IAC does not support Page API action: "+A);return }pega.web.mgr._logMsg("action",this._id,"Page API","action '"+A+"'");if(pega.web.isWebMashup==true&&this._isGadgetAction(A)){this._postActionToGadget(B);return }switch(A.toLowerCase()){case"setgadgettitle":return this._setGadgetTitle(B[2]);case"getgadgetinfo":return this._getGadgetInfo();case"getgadgetdata":return this._getGadgetData(B[2]);case"setgadgetdata":return this._setGadgetData(B[2],B[3]);case"load":if(this._oDivAttrs.action!=""){return this._doAttrAction()}return ;case"logoff":break;case"refresh":break;case"reload":break;case"restretch":this._restretchGadgetDiv();return ;case"getuidoc":return this._detUIDoc();case"print":this._oFrame.contentWindow.focus();this._oFrame.contentWindow.print();return ;case"blank":this._removeGdtResizeListener();this._oFrame.src="blank.htm";return }var C=pega.web.mgr._ut._clone(this._oApiAction);C.action=A;this._buildActionParams(C,B);this._navigateGadgetFrame(C)},_doAttrAction:function(){if(pega.web.mgr.isCookieConsentRequired(this)){pega.web.mgr.addCookieAcceptanceMessage(this)}else{this._processGadget()}},_processGadget:function(){var C=pega.web.mgr._ut._clone(this._oDivAttrs);var A=new pega.web.DataBinder();var B=function(I){try{if(I.action.toLowerCase()=="openworkbyurl"){var E={};var G=E;var K=SafeURL_createFromURL(I.params.query);for(var H in I.params){if(H!="query"){K.put(H,I.params[H])}}for(var H in K.hashtable){var D=K.get(H);var F=D;G[H]=F}I.params=E}}catch(J){}switch(I.targetType){case"_self":this._navigateGadgetFrame(I);break;case"_popup":this._navigateSelfPopup(I);break}};A.registerCallback(B,this,C);this._objectRefBind(C,A);A.executeCallback()},_restretchGadgetDiv:function(){try{if(this._oFrame==null){return }this._resizeGadgetIframe()}catch(A){}},_resizeGadgetDiv:function(){var A=window.event.srcElement;var B=pega.web.mgr._getGadgetFromDiv(window.event.srcElement);if(B!=null&&B._oFrame!=null&&B._oFrame.src!=""){}},_resizeCallback:function(){try{var P,J=0;if(pega&&pega.u&&pega.u.d){P=pega.u.d._isDC();if(P&&!pega.u.d._isJSResizeEnabled()){return }}if(this._oFrame.contentWindow.pega){if(P){this._oFrame.contentWindow.pega.u.d.stretchHarness=false}J=this._oFrame.contentWindow.pega.ui.d.getDocumentHeight(P)}if(!J||J==0){if(this._divOffsetHeight>0){J=pega.ui.d.getDocumentHeight()-this._divOffsetHeight}else{J=pega.ui.d.getDocumentHeight()-this._oDiv.offsetHeight}}var O=this._oFrame.contentWindow.document.body;var B=(O.className.indexOf("yui-layout")>=0);var U=this._oFrame.style.width;var S=this._oFrame.style.height;if(U=="auto"||U==""||typeof this._divOffsetWidth!="number"||this._divOffsetWidth==0||U.indexOf("%")>0){this._divOffsetWidth=this._oDiv.offsetWidth}if(S=="auto"||S==""||typeof this._divOffsetHeight!="number"||S.indexOf("%")>0){this._divOffsetHeight=this._oDiv.offsetHeight}var M=new pega.util.Element(this._oDiv);var D=false;var W=parseInt(M.getStyle("padding-top"));W=isNaN(W)?0:W;var I=parseInt(M.getStyle("padding-bottom"));I=isNaN(I)?0:I;var N=parseInt(M.getStyle("border-top-width"));N=isNaN(N)?0:N;var H=parseInt(M.getStyle("border-bottom-width"));H=isNaN(H)?0:H;var Q=(pega.util.Event.isIE)?10:0;var G=W+I+N+H;var T=this._divOffsetHeight-G;if(this._bFillSpace&&J<=T-Q){D=true;J=T}if(D){this._oFrame.height="100%";this._oFrame.style.height="100%";if(!B){O.style.overflowY="visible"}}else{if(J){this._oFrame.height=J;this._oFrame.style.height=(J+"px")}this._oFrame.contentWindow.document.body.style.overflowY="auto";if(!B){O.style.overflowY="auto";if(!P){O.style.overflowY="auto"}else{O.style.overflowY="hidden"}}}if(!P){var L=-1;if(this._sizeInPercentage==true){this._oFrame.width="100%";this._oFrame.style.width="100%";O.style.overflowX="auto"}else{try{L=this._oFrame.contentWindow.pega.ui.d.getDocumentWidth(!this._bFillSpace)}catch(V){}if(L!=-1){var R=false;var Z=parseInt(M.getStyle("padding-left"));Z=isNaN(Z)?0:Z;var A=parseInt(M.getStyle("padding-right"));A=isNaN(A)?0:A;var C=parseInt(M.getStyle("border-left-width"));C=isNaN(C)?0:C;var E=parseInt(M.getStyle("border-right-width"));E=isNaN(E)?0:E;var Y=Z+A+C+E;var X=this._divOffsetWidth-Y;if(L<=X){L=X}else{R=true}if(R){this._oFrame.width="100%";this._oFrame.style.width="100%";if(!B){O.style.overflowX="auto"}}else{this._oFrame.width=L;this._oFrame.style.width=(L+"px");if(this._oFrame.offsetHeight<this._oFrame.contentWindow.document.body.scrollHeight){this._oFrame.contentWindow.document.body.style.overflowY="auto"}else{this._oFrame.contentWindow.document.body.style.overflowX="auto"}}}}}this._oFrame.style.visibility="visible";if(this._oEvents.onResize!=""){this._handleTimedEvent(this._oEvents.onResize)}var F=null;for(var K=this._getContainerGadget();K!=null&&F!=K;K=K._getContainerGadget()){var J=K._oFrame.contentWindow.pega.ui.d.getDocumentHeight();K._oFrame.height=J;K._oFrame.style.height=J+"px";var L=-1;try{L=K._oFrame.contentWindow.pega.ui.d.getDocumentWidth()}catch(V){}if(L!=-1){K._oFrame.width=L}F=K}}catch(V){}},_resizeGadgetIframe:function(){if(pega.web.mgr._bUseHarnessResizeAPI){this._resizeCallback()}return ;try{if(!this._bMaxIframeSize){return }var B=this._oFrame.contentWindow;if(B==null){return null}var C=B.document;var D=C.body;if(D==null){return }var K=this._oFrame;var E=C.getElementById("HARNESS_CONTENT");if(E==null){for(var J=0;J<D.childNodes.length;++J){var O=D.childNodes[J];if(O.tagName=="FRAME"){if(O.contentWindow==null){continue}C=O.contentWindow.document;D=C.body;E=C.getElementById("HARNESS_CONTENT");if(E!=null){break}}}}var M=C.getElementById("HARNESS_BUTTONS");var G=(M==null)?0:M.offsetHeight;if((pega.util.Event.isIE!=null)&&(pega.util.Event.isIE[0]=="MSIE")){var H=(E==null)?0:E.scrollHeight;var A=C.body.offsetWidth;var L=this._oDiv.offsetWidth}else{var H=(E==null)?0:E.scrollHeight;var A=C.body.clientWidth;var L=this._oDiv.clientWidth}if(H+G==0){var F=D.scrollHeight}else{var F=H+G}if(F<100){F=100}if((F>this._iFrPrevHt)||((this._iFrPrevHt-F)>150)){this._oFrame.height=F}this._iFrPrevHt=F;if(E!=null){if(A>L){this._oFrame.width=L}if(E.offsetWidth>5000||E.offsetWidth<225){K.style.pixelWidth=window.document.body.clientWidth-30;K.width="100%"}E.style.overflow="hidden";if(typeof (E.parentElement)!="undefined"){E.parentElement.style.overflow="hidden";if(typeof (E.parentElement)!="undefined"){E.parentElement.parentElement.style.overflow="hidden"}}}D.style.overflow="hidden";var I=this._getContainerGadget();if(I!=null){I._resizeGadgetIframe()}}catch(N){}},_getContainerGadget:function(){try{var A=this._oFrame.contentWindow;if(A==null){return null}var I=A.parent;var B=I.frameElement;if(B==null){return null}if(typeof (B.PegaWebGadget)=="undefined"){return null}var C=typeof (B.parentElement)!="undefined"?B.parentElement.getAttribute("PegaGadget")||B.parentElement.getAttribute("data-pega-gadgetname"):B.parentNode.getAttribute("PegaGadget")||B.parentNode.getAttribute("data-pega-gadgetname");var G=pega.web.mgr;if(I.parent&&I.parent.pega&&I.parent.pega.web&&I.parent.pega.web.mgr){var F=I.parent.pega;G=F.web.mgr;var H;if(F.u&&F.u.d){H=F.u.d._isDC();if(H&&!F.u.d._isJSResizeEnabled()){return null}}}var E=G._getGadgetByID(C);return E}catch(D){return null}},_windowResizeCallback:function(){this.resizeCallbackPooled=false;var A=this;setTimeout(function(){A._oFrame.style.visibility="hidden";var B=A._id;pega.web.mgr._resizeCallback(B);A._oFrame.style.visibility="visible"},0)},_poolResizeCallback:function(){if(this.resizeCallbackPooled){clearTimeout(this.resizeCallbackPooled)}var A=this;this.resizeCallbackPooled=setTimeout(function(){A._windowResizeCallback()},100)},_removeGdtResizeListener:function(){pega.util.Event.removeListener(window,"resize",this._tmpResizeCallback);this._tmpResizeCallback=null;delete this._tmpResizeCallback;var B=null;try{B=this._oFrame.contentWindow.pega.ui.d.unregisterResize;B(this._gadgetResizeCall(this._id));if(pega.ui.d){B=pega.ui.d.unregisterResize;B(this._gadgetResizeCall(this._id))}this._tmpGadgetResizeCall=null;B=null}catch(A){}},_gadgetResizeCall:function(A){if(!this._tmpGadgetResizeCall){this._tmpGadgetResizeCall=function(){pega.web.mgr._resizeCallback(A)}}return this._tmpGadgetResizeCall},_doGdtAction:function(O,M){if(!this._validateGadgetAPI(O)){pega.web.mgr._logMsg("error",this._id,"Gadget API","error: IAC does not support Gadget API action: "+O);return }pega.web.mgr._logMsg("action",this._id,"Gadget API","action '"+O+"'");var A="";switch(O){case"loaded":if(!pega.Mashup){if((pega&&pega.u&&pega.u.d&&pega.u.d.isPortal()&&!pega.util.Dom.hasClass(document.body,"with-fixed-header"))){var I=this;if(this._tmpResizeCallback){this._removeGdtResizeListener()}this._tmpResizeCallback=function(){I._poolResizeCallback()};pega.util.Event.addListener(window,"resize",this._tmpResizeCallback)}try{if(pega.web.mgr._bUseHarnessResizeAPI&&this._bMaxIframeSize){var B=this._oFrame.contentWindow.pega.ui.d.registerResize;if(this._bFillSpace){this._oFrame.contentWindow.pega.ui.d.stretchHarness=true}B(this._gadgetResizeCall(this._id));if(pega.ui.d){B=pega.ui.d.registerResize;B(this._gadgetResizeCall())}B=null}}catch(L){}var Q=this._oFrame.contentWindow.document;this._htInsElements=new pega.tools.Hashtable();if(Q){var D=Q?Q.getElementsByTagName("INS"):null;for(var G=0;G<D.length;++G){var F=D[G];if(F.getAttribute("dataBindName")!=null){this._htInsElements.put(F.getAttribute("dataBindName"),F)}}var K=Q.getElementsByTagName("iframe");for(var G=0;G<K.length;++G){var H=K[G];if(K[G].name=="actionIFrame"){Q=K[G].contentWindow.document;if(Q){D=Q?Q.getElementsByTagName("INS"):null;for(var E=0;E<D.length;++E){var F=D[E];if(F.getAttribute("dataBindName")!=null){this._htInsElements.put(F.getAttribute("dataBindName"),F)}}}}}}}this._bLoaded=true;A="onLoad";this._doEvent(A);break;case"confirm":A="onConfirm";this._doEvent(A);break;case"closed":A="onClose";this._doEvent(A);break;case"custom":A="onCustom";this._doEvent(A,M[2]);break;case"error":this._sErrNum=(typeof (M[2])!="undefined")?M[2]:"";this._sErrDescr=(typeof (M[3])!="undefined")?M[3]:"";pega.web.mgr._logMsg("error",this._id,"Manager","event 'error': number='"+this._sErrNum+"', description='"+this._sErrDescr+"'");A="onError";this._doEvent(A);break;case"resize":if(pega.Mashup){if(this._oEvents&&this._oEvents.onResize!=""){this._handleTimedEvent(this._oEvents.onResize)}return }this._resizeGadgetIframe();return ;case"blank":this._removeGdtResizeListener();this._oFrame.src="about:blank";return }var J=this._getActionDefs(O);if(J==null){if(A!=""){return }var N=pega.web.mgr._ut._clone(this._oActionModel);N.action=O;this._buildActionParams(N,M);var P=new pega.web.DataBinder();var C=function(R){switch(this._oDivAttrs.targetType){case"_self":this._navigateGadgetFrame(R);break;case"_popup":this._navigateSelfPopup(R);break}};P.registerCallback(C,this,N);this._objectRefBind(N,P);P.executeCallback();return }for(var G=0;G<J.length;++G){var N=J[G];N=pega.web.mgr._ut._clone(N);if(typeof (N.actionMapping)!="undefined"&&N.actionMapping!=""){if(!this._validateGadgetAPI(N.actionMapping)){pega.web.mgr._logMsg("error",this._id,"Gadget API","error: IAC does not support actionDefinitions.actionMapping: "+N.actionMapping);continue}pega.web.mgr._logMsg("info",this._id,"Manager","mapping action '"+N.action+"' into action '"+N.actionMapping+"'");N.action=N.actionMapping}this._buildActionParams(N,M);var C=function(U){if(!U.target){return }var T=null;if(typeof (U.target)=="undefined"){U.target={}}if(typeof (U.target.type)=="undefined"){U.target.type="_self"}if(U.target.type=="_self"||U.target.type==""){U.target.type="_gadget";T=this}switch(U.target.type){case"_gadget":if(T==null){T=pega.web.mgr._htGadgets.get(U.target.name)}if(typeof (T)=="undefined"||T==null){return }if(pega.web.isWebMashup&&U.action=="print"&&U.target.name){pega.Mashup.Communicator.send({name:"print"},{target:U.target.name+"Ifr"});return }if(U.action=="print"&&T._oFrame!=null){T._oFrame.contentWindow.focus();T._oFrame.contentWindow.print();return }if(U.action=="load"){if(T._oDivAttrs.action!=""){T._doAttrAction();return }}var S=this._oConfigDyno;var R=T._oConfigDyno;if(S.systemID!=""){R.systemID=S.systemID;S.systemID=""}if(S.appName!=""){R.appName=S.appName;S.appName=""}if(S.thread!=""){R.thread=S.thread;S.thread=""}pega.web.mgr._logMsg("info",this._id,"Manager","target gadget '"+T._id+"'");T._navigateGadgetFrame(U);break;case"_popup":this._navigateSelfPopup(U);break;case"_top":pega.web.mgr._logMsg("info",this._id,"Manager","target is '"+U.target.type+"'");this._navigateTopPopup(U);break;case"_page":pega.web.mgr._logMsg("info",this._id,"Manager","target page '"+U.pageURL+"'");this._navigatePortalPage(U);break}};var P=new pega.web.DataBinder();P.registerCallback(C,this,N);this._objectRefBind(N,P);P.executeCallback()}},_buildActionParams:function(oAct,args){var oArgPars={};var oParObj=null;var oConfObj=null;var sAction=oAct.action;switch(sAction.toLowerCase()){case"openwizard":oArgPars.className=args[2].className;oArgPars.action=args[1];if(typeof args[5]!="undefined"){oArgPars.tabIndex=args[5]}if(typeof args[6]!="undefined"){oArgPars.contentID=args[6]}if(typeof args[7]!="undefined"){oArgPars.dynamicContainerID=args[7]}if(typeof args[8]!="undefined"){oArgPars.wizardLabel=args[8]}var tempQuery=args[2].sQuery,keyValueArray=null;try{if(typeof tempQuery==="object"||JSON.parse(tempQuery)){var temp=JSON.parse(tempQuery)}for(var param in temp){if(temp.hasOwnProperty(param)){oArgPars[param]=temp[param]}}}catch(e){var queryStringArray=tempQuery.split("&");var wizardParams=undefined;for(var num in queryStringArray){keyValueArray=queryStringArray[num].split("=");if(!wizardParams){wizardParams=keyValueArray[0]}else{wizardParams=wizardParams+"&"+keyValueArray[0]}oArgPars[keyValueArray[0]]=keyValueArray[1]}if(wizardParams){oArgPars.wizardParams=wizardParams}}break;case"getgadgetdata":oArgPars=args[2];break;case"display":if(typeof (args[2])!="undefined"){oArgPars.harnessName=args[2]}if(typeof (args[3])!="undefined"){oArgPars.className=args[3]}if(typeof (args[5])!="undefined"){oArgPars.readOnly=args[5]}if(typeof (args[6])!="undefined"){oArgPars.model=args[6]}oParObj=args[7];oConfObj=args[8];if(typeof (args[9])!="undefined"){oArgPars.preActivity=args[9]}if(typeof (args[10])!="undefined"){oArgPars.preActivityParams=args[10]}if(typeof (args[11])!="undefined"){oArgPars.key=args[11]}if(typeof (args[12])!="undefined"){oArgPars.readOnly=args[12]}if(typeof (args[13])!="undefined"){oArgPars.label=args[13]}if(typeof (args[14])!="undefined"){oArgPars.pyActivity=args[14]}if(typeof (args[15])!="undefined"){oArgPars.pyPreActivity=args[15]}if(typeof (args[16])!="undefined"){oArgPars.pzPrimaryPage=args[16]}if(typeof (args[18])!="undefined"){oArgPars.contentID=args[18]}if(typeof (args[19])!="undefined"){oArgPars.dynamicContainerID=args[19]}if(typeof (args[20])!="undefined"){oArgPars.tabIndex=args[20]}if(typeof (args[21])!="undefined"){oArgPars.replaceCurrent=args[21]}break;case"displayonpage":oArgPars.renderAction="displayOnPage";if(typeof (args[2])!="undefined"){oArgPars.harnessName=args[2]}if(typeof (args[3])!="undefined"){oArgPars.pzPrimaryPage=args[3]}if(typeof (args[4])!="undefined"){for(var i in args[4].hashtable){oArgPars[i]=args[4].hashtable[i]}}if(typeof (args[5])!="undefined"){oArgPars.contentID=args[5]}if(typeof (args[6])!="undefined"){oArgPars.dynamicContainerID=args[6]}if(typeof (args[7])!="undefined"){oArgPars.tabIndex=args[7]}if(typeof (args[8])!="undefined"){oArgPars.className=args[8]}if(typeof (args[9])!="undefined"){oArgPars.label=args[9]}if(typeof (args[10])!="undefined"){oArgPars.key=args[10]}oParObj=args[11];break;case"openlanding":if(typeof (args[2])!="undefined"){oArgPars.harnessName=args[2]}if(typeof (args[3])!="undefined"){oArgPars.className=args[3]}if(typeof (args[4])!="undefined"){oArgPars.pzPrimaryPageName=args[4]}if(typeof (args[5])!="undefined"){oArgPars.readOnly=args[5]}if(typeof (args[6])!="undefined"){oArgPars.model=args[6]}if(typeof (args[7])!="undefined"){oArgPars.action=args[7]}if(typeof (args[8])!="undefined"){oArgPars.levelA=args[8]}if(typeof (args[9])!="undefined"){oArgPars.levelB=args[9]}if(typeof (args[10])!="undefined"){oArgPars.levelC=args[10]}oParObj=args[11];oConfObj=args[12];if(typeof (args[13])!="undefined"){oArgPars.label=args[13]}if(typeof (args[14])!="undefined"){oArgPars.contentID=args[14]}if(typeof (args[15])!="undefined"){oArgPars.dynamicContainerID=args[15]}if(typeof (args[16])!="undefined"){for(var i in args[16]){oArgPars[i]=args[16][i]}}if(typeof (args[17])!="undefined"){for(var i in args[17]){oArgPars[i]=args[17][i]}}if(typeof (args[18])!="undefined"){oArgPars.paramKeys=args[18]}break;case"reportdefinition":if(typeof (args[4])!="undefined"){oArgPars.pyReportClass=args[4]}if(typeof (args[5])!="undefined"){oArgPars.pyReportName=args[5]}if(typeof (args[6])!="undefined"){oArgPars.pyReportDisplay=args[6]}if(typeof (args[7])!="undefined"){oArgPars.label=args[7]}if(typeof (args[8])!="undefined"){oArgPars.pyShortcutHandle=args[8]}if(typeof (args[9])!="undefined"){oArgPars.ReportAction=args[9]}if(typeof (args[10])!="undefined"){for(var i in args[10]){oArgPars[i]=args[10][i]}}if(typeof (args[11])!="undefined"){oArgPars.contentID=args[11]}if(typeof (args[12])!="undefined"){oArgPars.dynamicContainerID=args[12]}if(typeof (args[14])!="undefined"){oArgPars.tabIndex=args[14]}break;case"openworkbyhandle":if(typeof (args[2])!="undefined"){oArgPars.key=args[2]}oParObj=args[3];oConfObj=args[4];if(typeof (args[5])!="undefined"){oArgPars.contentID=args[5]}if(typeof (args[6])!="undefined"){oArgPars.dynamicContainerID=args[6]}if(typeof (args[7])!="undefined"){oArgPars.tabIndex=args[7]}break;case"openrulebykeys":if(typeof (args[2])!="undefined"){if(args[2].key==undefined){for(var i in args[2].hash){oArgPars[i]=args[2].hash[i]}}else{oArgPars.openHandle=args[2].key;oArgPars.Format=args[2].format}}oParObj=args[3];oConfObj=args[4];if(typeof (args[5])!="undefined"){oArgPars.contentID=args[5]}if(typeof (args[6])!="undefined"){oArgPars.dynamicContainerID=args[6]}if(typeof (args[7])!="undefined"){oArgPars.tabIndex=args[7]}break;case"openrulebyclassandname":if(typeof (args[2])!="undefined"){oArgPars.insName=args[2].insName;oArgPars.objClass=args[2].objClass;oArgPars.Format=args[2].format}oParObj=args[3];oConfObj=args[4];if(typeof (args[5])!="undefined"){oArgPars.contentID=args[5]}if(typeof (args[6])!="undefined"){oArgPars.dynamicContainerID=args[6]}if(typeof (args[7])!="undefined"){oArgPars.tabIndex=args[7]}break;case"openrulespecific":if(typeof (args[2])!="undefined"){oArgPars.openHandle=args[2].key;oArgPars.Format=args[2].format}oParObj=args[3];oConfObj=args[4];if(typeof (args[5])!="undefined"){oArgPars.contentID=args[5]}if(typeof (args[6])!="undefined"){oArgPars.dynamicContainerID=args[6]}if(typeof (args[7])!="undefined"){oArgPars.tabIndex=args[7]}break;case"openassignment":if(typeof (args[2])!="undefined"){oArgPars.key=args[2]}oParObj=args[3];oConfObj=args[4];if(typeof (args[5])!="undefined"){oArgPars.contentID=args[5]}if(typeof (args[6])!="undefined"){oArgPars.dynamicContainerID=args[6]}if(typeof (args[7])!="undefined"){oArgPars.tabIndex=args[7]}break;case"createnewwork":if(typeof (args[2])!="undefined"){oArgPars.className=args[2]}if(typeof (args[3])!="undefined"){oArgPars.flowName=args[3]}oParObj=args[4];oConfObj=args[5];if(typeof (args[6])!="undefined"){for(var i in args[6]){oArgPars[i]=args[6][i]}}break;case"openworkitem":if(typeof (args[2])!="undefined"){oArgPars.workID=args[2]}oParObj=args[3];oConfObj=args[4];if(typeof (args[5])!="undefined"){oArgPars.contentID=args[5]}if(typeof (args[6])!="undefined"){oArgPars.dynamicContainerID=args[6]}if(typeof (args[7])!="undefined"){oArgPars.tabIndex=args[7]}break;case"logoff":if(typeof (args[2])!="undefined"){oArgPars.harnessName=args[2]}if(typeof (args[3])!="undefined"){oArgPars.className=args[3]}oParObj=args[4];oConfObj=args[5];break;case"openworkbyurl":if(typeof (args[2])!="undefined"){var p_w_eval_1=oArgPars;var oURL=SafeURL_createFromURL(args[2]);for(var i in oURL.hashtable){var sV=oURL.get(i);var p_w_eval_2=sV;p_w_eval_1[i]=p_w_eval_2}}oParObj=args[3];oConfObj=args[4];if(typeof (args[5])!="undefined"){oArgPars.tabIndex=args[5]}break;case"getnextworkitem":pega.web.mgr._logMsg("action",this._id,"Manager","Translating action '"+sAction+"' into action 'getNextWork'");sAction="getNextWork";oAct.action="getNextWork";case"getnextwork":oParObj=args[2];oConfObj=args[3];if(typeof (args[4])!="undefined"){oArgPars.contentID=args[4]}if(typeof (args[5])!="undefined"){oArgPars.dynamicContainerID=args[5]}if(typeof (args[6])!="undefined"){oArgPars.tabIndex=args[6]}break;case"print":return }if(typeof (oParObj)!="undefined"){try{if(typeof (oParObj)=="string"){eval("oParObj="+oParObj)}}catch(e){pega.web.mgr._logMsg("error",this._id,"Manager","error: invalid Javascript object literal syntax in parameter 'paramObject' value "+oParObj)}var p_w_eval_1=oArgPars;for(var i in oParObj){var p_w_eval_2=oParObj[i];if(typeof (p_w_eval_2)!="function"){p_w_eval_1[i]=p_w_eval_2}}}var oCfAct={};if(typeof (oAct.params)!="undefined"){try{p_w_eval_1=oArgPars;for(var i in oAct.params){p_w_eval_2=oAct.params[i];if(typeof (p_w_eval_2)=="object"){if(typeof (p_w_eval_2.systemID)=="string"){oCfAct.systemID=p_w_eval_2.systemID}if(typeof (p_w_eval_2.appName)=="string"){oCfAct.appName=p_w_eval_2.appName}if(typeof (p_w_eval_2.thread)=="string"){oCfAct.thread=p_w_eval_2.thread}}else{p_w_eval_1[i]=p_w_eval_2}}}catch(e){pega.web.mgr._logMsg("error",this._id,"Manager","error: invalid Javascript object literal syntax in parameter '"+i+"', value '"+p_w_eval_1)}}if(pega&&pega.u&&pega.u.d&&pega.u.d.isPortal()){oArgPars.portalThreadName=pega.u.d.getThreadName();oArgPars.portalName=pega.ui.HarnessContextMgr.getCurrentHarnessContext().getProperty("portalName")}oAct.params=oArgPars;if(typeof (oConfObj)!="undefined"&&oConfObj!=null){try{if(typeof (oConfObj)=="string"){eval("oConfObj="+oConfObj)}}catch(e){pega.web.mgr._logMsg("error",this._id,"Manager","error: invalid Javascript object literal syntax in parameter 'systemObject' value "+oConfObj)}if(typeof (oConfObj)=="object"){for(var key in oConfObj){if(key!=="paramsObj"&&key!=="tenantData"){continue}var paramObj=oConfObj[key];if(typeof (paramObj)=="object"){for(var key2 in paramObj){oArgPars[key2]=paramObj[key2]}delete oArgPars.paramObj}}}var oCfDyno=this._oConfigDyno;if(typeof (oConfObj.systemID)!="undefined"){oCfDyno.systemID=oConfObj.systemID}if(typeof (oConfObj.appName)!="undefined"){oCfDyno.appName=oConfObj.appName}if(typeof (oConfObj.thread)!="undefined"){oCfDyno.thread=oConfObj.thread}if(typeof (oCfAct.systemID)!="undefined"&&oCfAct.systemID!=""){if(oCfAct.systemID.toLowerCase()=="$inherit"){var sysID=this._oConfigDefs.systemID;if(sysID!=""&&oCfDyno.systemID==""){oCfDyno.systemID=sysID}}else{oCfDyno.systemID=oCfAct.systemID}}if(typeof (oCfAct.appName)!="undefined"&&oCfAct.appName!=""){if(oCfAct.appName.toLowerCase()=="$inherit"){var sAppName=this._oConfigDefs.appName;if(sAppName!=""&&oCfDyno.appName==""){oCfDyno.appName=sAppName}}else{oCfDyno.appName=oCfAct.appName}}if(typeof (oCfAct.thread)!="undefined"&&oCfAct.thread!=""){if(oCfAct.thread.toLowerCase()=="$inherit"){var sThread=this._oConfigDefs.thread;if(sThread!=""&&oCfDyno.thread==""){oCfDyno.thread=sThread}}else{oCfDyno.thread=oCfAct.thread}}}},_doEvent:function(C,B){var A=this._oEvents;switch(C){case"onBeforeLoad":this._handleTimedEvent(A.onBeforeLoad);break;case"onLoad":this._handleTimedEvent(A.onLoad);break;case"onCustom":this._handleTimedEvent(A.onCustom,B);break;case"onConfirm":this._handleTimedEvent(A.onConfirm);break;case"onClose":this._handleTimedEvent(A.onClose);break;case"onDomReady":this._handleTimedEvent(A.onDomReady);break;case"onError":this._handleTimedError(A.onError);break}},_getActionDefs:function(A){if(A==""){return null}var E=null;var B=this._oGdtActions;for(var C in B){var D=B[C];if(!this._validateGadgetAPI(D.action)){pega.web.mgr._logMsg("error",this._id,"Gadget API","error: IAC does not support actionDefinitions.action: "+D.action);continue}if(D.action==A){if(E==null){E=new Array()}E[E.length]=D}}return E},_navigateGadgetFrame:function(O){if(this._oFrame==null){this._setIFrame()}var A=this._oEvents.onBeforeLoad;if(!this._invokeEvent(A)){return true}if(O.action=="refresh"){var U=this._oActRefresh;if(this._oFrame!=null&&this._oFrame.src!=""&&U.activityQuery!=""){var D=this._queryDataBind(U.activityQuery);var K=SafeURL_createFromURL(U.baseURI+D);var G=K.toURL()}}else{if(O.action=="reload"){var K="";var S=this._oFrame.contentWindow.document;var X=S.getElementById("PEGA_HARNESS");var R=false;if(X==null&&typeof (this._oFrame.contentWindow.frames[0])!="undefined"){R=true;X=this._oFrame.contentWindow.frames[0].document.getElementById("PEGA_HARNESS")}if(X!=null){var J=X.getElementsByTagName("form");if(!J||J.length==0){return false}var C=J[0]}var L="";if(R){L=this._oFrame.contentWindow.frames[0].strHarnessPurpose}else{if(typeof (this._oFrame.contentWindow.strHarnessPurpose)!="undefined"){L=this._oFrame.contentWindow.strHarnessPurpose}}var F="";if(L==""){var U=this._oActRefresh;if(this._oFrame!=null&&this._oFrame.src!=""&&U.activityQuery!=""){var D=this._queryDataBind(U.activityQuery);K=SafeURL_createFromURL(U.baseURI+D)}}else{var a=C.action;if(a.indexOf("pyactivitypzZZZ=")!=-1){var P=a.substr(0,a.indexOf("pyactivitypzZZZ="));var I=a.lastIndexOf("=");if(I>-1){a=URLObfuscation.decrypt(a.substr(I+1,a.length-(I+2)));a=P+a}}F=a+"&Purpose="+L;K=SafeURL_createFromURL(F)}if(K){if(K.get("pyActivity")&&K.get("pyActivity")=="FinishAssignment"){K.put("pyActivity","Show-Harness")}}var G=K.toURL()}else{var G=this._finalizeNavURL(O);if(G==""){return }}}if(!pega.util.Event.isIE&&!this._bAddedOnLoadListener){pega.util.Event.addListener(this._oFrame,"load",this._onDomReadyFunc,null,this);this._bAddedOnLoadListener=true}if(pega&&pega.u&&pega.u.d&&pega.u.d._isDC()&&pega.u.d._isJSResizeEnabled()){G+="&isDcStretch=true"}if(pega&&pega.ui&&pega.ui.statetracking){pega.ui.statetracking.setNavigationBusy("abc?"+SafeURL_createFromEncryptedURL(G).toUnencodedQueryString())}pega.web.mgr._logMsg("info",this._id,"Manager",G);try{this._bLoaded=false;if(pega.web.api&&pega.web.api.paramsObj&&pega.web.api.paramsObj[this._id]){var V=JSON.parse(pega.web.api.paramsObj[this._id]);for(var H in V){if(V.hasOwnProperty(H)){G+="&"+encodeURIComponent(H)+"="+encodeURIComponent(V[H])}}}if(pega.web.config.cmd.pegaAction.httpMethod.toUpperCase()!="POST"){if(this._oFrame.src=="about:blank"&&pega.web.api&&pega.web.api.headersObj&&pega.web.api.headersObj[this._id]&&Object.keys(pega.web.api.headersObj[this._id]).length>0){this._oFrame.src=this._oConfigDefs.serverURLWithHash+"?pyActivity=pzLoadMashupPage&Headers="+encodeURIComponent(JSON.stringify(pega.web.api.headersObj[this._id]))+"&RedirectTo="+encodeURIComponent(G)}else{this._oFrame.src=G}}else{var Y='<html><body><script type="text/javascript">var  form=document.createElement("form");form.setAttribute("method","post");form.setAttribute("action","'+this._oActRefresh.baseURI+'?encodedPassword=true&pyActivity=%40baseclass.doUIAction");var input=document.createElement("input");input.setAttribute("name","action");input.setAttribute("type","hidden");input.setAttribute("value","'+O.action+'");form.appendChild(input);';if(O.params&&O.params.flowName&&O.params.flowName.indexOf("&")!=-1){var E=O.params.flowName.split("&");O.params.flowName=E[0];for(var N=1;N<E.length;N++){var B=E[N];if(B&&B.indexOf("=")!=-1){var W=B.indexOf("=");O.params[B.substring(0,W)]=B.substring(W+1)}}}for(var Q in O.params){Y+='var input=document.createElement("input");';Y+='input.setAttribute("name","'+Q+'");';var M=O.params[Q];Y+='input.setAttribute("value","'+M+'");';Y+='input.setAttribute("type","hidden");';Y+="form.appendChild(input);"}Y+="document.body.appendChild(form);form.submit();<\/script></body></html>";var Z=this._oFrame.contentDocument;if(Z==undefined||Z==null){Z=this._oFrame.contentWindow.document}Z.open();Z.write(Y);Z.close()}}catch(T){pega.web.mgr._logMsg("error",this._id,"Manager",T.description)}},_invokeEvent:function(C){if(C==""){return true}try{var A=C;return _executeFunction(A,undefined,[""+this._id],undefined,this)}catch(B){return true}},_handleTimedEvent:function(C,A){if(C==""){return true}try{if(typeof (A)!="undefined"){pega.web.mgr._logMsg("info",this._id,"Manager","invoking event handler function '"+C+"', with token '"+A+"'");_executeFunction(C,this._oWin,[this._id,A])}else{pega.web.mgr._logMsg("info",this._id,"Manager","invoking event handler function '"+C+"'");_executeFunction(C,this._oWin,[this._id])}}catch(B){return true}},_handleTimedError:function(B){if(B==""){return true}try{pega.web.mgr._logMsg("info",this._id,"Manager","invoking event handler function '"+B+"'");_executeFunction(B,this._oWin,[this._id,this._sErrNum,this._sErrDescr]);this._sErrNum="";this._sErrDescr=""}catch(A){return true}},_navigateSelfPopup:function(C){var B=this._finalizeNavURL(C);if(B==""){return }var A="";if(typeof (C.PegaPopupOptions)!="undefined"){A=C.PegaPopupOptions}else{if(typeof (C.popupOptions)!="undefined"){A=C.popupOptions}}this._launchPopup(this,B,A)},_navigateTopPopup:function(E){switch(E.target.type){case"_top":var B=this._finalizeNavURL(E);if(B==""){return }window.location.href=B;break;case"_popup":var D=null;if(typeof (E.popup.gadgetReference)!="undefined"&&E.popup.gadgetReference){D=pega.web.mgr._getGadgetByID(E.popup.gadgetReference)}else{if(typeof (E.target.name)!="undefined"&&E.target.name!=""){D=pega.web.mgr._getGadgetByID(E.target.name)}}var F=null;var A="";if(D==null){D=this;if(typeof (E.popup)!="undefined"&&typeof (E.popup.options)!="undefined"&&E.popup.options!=""){A=E.popup.options}}else{F=D._getActionDefs(E.action);if(F!=null){var C=F[0];if(typeof (C.popup)=="undefined"||typeof (C.popup.options)=="undefined"||C.popup.options==""){A=C.popup.options}}}var B=D._finalizeNavURL(E);if(B==""){return }this._launchPopup(D,B,A);break}},_launchPopup:function(C,B,A){if(A==""){A="height=600,width=800,status=yes,toolbar=yes,menubar=yes,location=no"}var D=C._id;if(pega.web.mgr._htPopups.containsKey(D)){C._oPopWin.close();pega.web.mgr._htPopups.remove(D)}else{if(pega.web.api&&pega.web.api.paramsObj&&pega.web.api.paramsObj[this._id]){var F=JSON.parse(pega.web.api.paramsObj[this._id]);for(var E in F){if(F.hasOwnProperty(E)){B+="&"+encodeURIComponent(E)+"="+encodeURIComponent(F[E])}}}if(pega.web.api&&pega.web.api.headersObj&&pega.web.api.headersObj[this._id]&&Object.keys(pega.web.api.headersObj[this._id]).length>0){B=this._oConfigDefs.serverURLWithHash+"?pyActivity=pzLoadMashupPage&Headers="+encodeURIComponent(JSON.stringify(pega.web.api.headersObj[this._id]))+"&RedirectTo="+encodeURIComponent(B)}}if(window&&window.launchbox&&window.launchbox.Browser){window.launchbox.Browser.start(window.location.origin+unescape(B),{external:false})}else{window.setTimeout(function(){C._oPopWin=window.open(B,D,A);pega.web.mgr._htPopups.put(D,C._id);if(pega.web.mgr._iPopupTimerID==-1){pega.web.mgr._iPopupTimerID=window.setInterval("pega.web.mgr._iPopupTracker()",500)}},500)}},_evalDataFunc:function(B,C){if(B==""){return true}try{var A=B;return _executeFunction(B,this._oWin,[""+C])}catch(D){return true}},_getGadgetInfo:function(){try{var G=this._oConfigDefs.systemID;var E=this._oConfigDefs.appName;var C=this._oConfigDefs.thread;var B=this._oConfigDyno;if(B.systemID!=""){G=B.systemID}if(B.appName!=""){E=B.appName}if(B.thread!=""){C=B.thread}var F=this._doApiAction("getuidoc");if(F==null){return null}var A=F.isFormDirty(false);return{application:E,thread:C,system:G,UIDoc:F,isDirty:A.toString(),isLoaded:this._bLoaded.toString()}}catch(D){return true}},_detUIDoc:function(){var F=null;try{F=this._oFrame.contentWindow.pega.ui.d}catch(H){try{var G=this._oFrame;var I=null;var A=G.contentWindow;if(A==null){return null}var B=A.document;var C=B.body;if(C==null){return null}var D=B.getElementById("HARNESS_CONTENT");if(D==null){for(var E=0;E<C.childNodes.length;++E){I=C.childNodes[E];if(I.tagName=="FRAME"){if(I.contentWindow==null){continue}B=I.contentWindow.document;C=B.body;D=B.getElementById("HARNESS_CONTENT");if(D!=null){break}}}}F=I.contentWindow.window.pega.ui.d}catch(H){}}return F},_setGadgetData:function(B,A){try{var D=this._detUIDoc();if(D==null){return false}D.setProperty(B,A)}catch(C){return false}},_getGadgetData:function(D){var C=this._oFrame.contentWindow.document;if(typeof (C.parentWindow)!="undefined"){var A=C.parentWindow.strPrimaryPage}else{if(typeof (C.defaultView)!="undefined"){var A=C.defaultView.strPrimaryPage}else{return""}}if(typeof (A)=="undefined"){pega.web.mgr._logMsg("info",this._id,"Manager","cannot find workpage name defined by an element inside gadget");return }var E=pega.web.mgr._prop.toHandle(D,A);pega.web.mgr._logMsg("info",this._id,"Manager","converted property reference '"+D+"' into property handle '"+E+"', Workpage '"+A+"'");if(this._htInsElements!=null&&this._htInsElements.containsKey(E)){var B=this._htInsElements.get(E).innerHTML;pega.web.mgr._logMsg("info",this._id,"Manager","resolved gadget data binding to value '"+B+"'");return B}else{try{var G=this._detUIDoc();if(G!=null){var B=G.getProperty(D)}pega.web.mgr._logMsg("info",this._id,"Manager","resolved gadget data binding to value '"+B+"'");return B}catch(F){}pega.web.mgr._logMsg("info",this._id,"Manager","cannot resolve gadget data binding for property '"+E+"'");return""}},_setGadgetTitle:function(A){if(this._oFrame&&typeof this._oFrame.setAttribute=="function"){this._oFrame.setAttribute("title",A)}},_objectRefBind:function(A,B){for(var C in A){if(typeof (A[C])!="object"){this._dataRefBind(A,C,B)}else{this._objectRefBind(A[C],B)}}},_dataRefBind:function(B,E,C){var A=B[E];if(typeof (A)!="string"){return }if(A.indexOf("=[")>-1){var F=B[E].match(/\[([^\[]*)\]/g);if(F){for(var D=0;D<F.length;D++){this.mapData(B,E,F[D],C,function(J,H,G,I){J[H]=J[H].replace(G,I)})}}return }else{if(A.substr(0,1)!="["){return }}this.mapData(B,E,B[E],C,function(J,H,G,I){J[H]=I})},mapData:function(C,L,E,M,J){var B=E.substr(1,E.length-2).split("/");var I="page",A="id",N;if(B.length==1){I="gadget";A="";N=B[0]}else{if(B.length==3){I=B[0];A=B[1];N=B[2]}}var D="";switch(I){case"page":if(A&&(A.toUpperCase()=="ID"||A.toUpperCase()=="NAME")){var G=this._oDoc.getElementsByName(N);if(G.length==1){D=G[0].value}}else{if(A&&A.toUpperCase()=="FUNCTION"){var H=this._oEvents.onPageData;D=(H!="")?this._evalDataFunc(H,N):""}}J(C,L,E,D);break;case"gadget":var F=this;if(pega.Mashup){if(A==""){A=this._id}var K=function(O){J(C,L,E,O);M.decrementMsgCounter()};M.incrementMsgCounter();pega.web.api.doAction(A,"getGadgetData",N,{callback:K})}else{if(A==""){D=this._getGadgetData(N)}else{F=pega.web.mgr._htGadgets.get(A);if(F!=null){D=F._getGadgetData(N)}}J(C,L,E,D)}break}},_queryDataBind:function(E){var F=E.split("=[");var C=F[0];for(var B=1;B<F.length;++B){var D=F[B].split("]");var A=this._dataRefBind("["+D[0]+"]");C+=("="+A+D[1])}return C},_finalizeQueryURL:function(B){var C=B.params;var F="",A;var E=C.key;if(B.action=="openlanding"){F="?pyActivity=@baseclass.doUIAction&landingAction="+B.action}else{if(B.action.toLowerCase()!="openworkbyurl"||B.action.toLowerCase().indexOf("openrule")===0){F="?pyActivity=@baseclass.doUIAction&action="+B.action}}if(pega&&pega.web&&pega.web.isWebMashup==true){F+="&isWebMashup=true"}if(pega.web.isWebMashup==true&&(pega.util.Event.isIE||navigator.userAgent.indexOf("Edge")!=-1)){F+="&sendP3P=y"}for(var D in C){A=C[D];if(!A||typeof A=="object"||D=="tenantUrl"){continue}F+=("&"+D+"="+A)}if(B.action.toLowerCase()=="openworkbyurl"&&F.charAt(0)=="&"){F="?"+F.substring(1)}return F},_finalizeQueryURLForEncryption:function(A){var B="";if(pega&&pega.web&&pega.web.isWebMashup==true){B+="isWebMashup=true"}if(pega.web.isWebMashup==true&&(pega.util.Event.isIE||navigator.userAgent.indexOf("Edge")!=-1)){B+="&sendP3P=y"}B+="&";return B},_finalizeNavURL:function(N){var G=pega.ui.HarnessContextMgr.getCurrentHarnessContext();var D=N.params;var O=false;var L=this._oConfigDefs.serverURLWithHash||D.tenantUrl||this._oConfigDefs.gatewayURL;if(L==""){return""}if(L.indexOf("$")!=-1){O=true}if(L.indexOf("/!")!=-1){L=L.substring(0,L.indexOf("/!"))}if(L.indexOf("/",L.length-1)==-1){L=L+"/"}var A=this._oConfigDefs.systemID;var J=this._oConfigDefs.appName;var B=this._oConfigDefs.thread;var E=this._oConfigDyno;if(E.systemID!=""){A=E.systemID;E.systemID=""}if(E.appName!=""){J=E.appName;E.appName=""}if(E.thread!=""){B=E.thread;E.thread=""}var M="";if(!N.isMashupEncrypted){M=this._finalizeQueryURL(N)}else{M=this._finalizeQueryURLForEncryption(N)}N.activityQuery=M;var F=M;M=this._queryDataBind(M);N.activityQuery=M;var K="";if(L.toLowerCase().indexOf("prgateway")!=-1||pega.web.mgr._bDirectPRPC==false||((typeof (N.params.isRemote)!="undefined")&&N.params.isRemote)){K=A!=""?(A+"/"):""}var C=L+K;if(pega&&pega.u&&pega.u.d&&pega.u.d.isPortal()&&applicationName===J&&J!="IWM"){if(G.getProperty("csrfToken")!=""){C+="!@"+G.getProperty("csrfToken")+"!"+B}else{if(pega.web.mgr._bDirectPRPC==false||O){C+="!"+J+"/$"+B+"/"}else{C+="!"+B}}}else{if(J.length>0){C+="!"+J+"/$"+B}else{C+="!"+B}}var H=null;if(N.isMashupEncrypted){C+=("?"+M+N.mashupEncryptedHash);H=SafeURL_createFromURL(C)}else{H=SafeURL_createFromURL(C+M)}var I=this._oActRefresh;I.activityQuery=F;I.baseURI=C;N.sNavURL=H.toURL();return N.sNavURL},_navigatePortalPage:function(B){var A=this._queryDataBind(B.pageURL);pega.web.mgr._logMsg("info",this._id,"Manager","final page URL '"+A+"'");window.setTimeout("window.location.href = '"+A+"'",100)},_ifrReadyStateChange:function(A){if(this._oFrame.readyState=="complete"){this._onDomReadyFunc()}},_onDomReadyFunc:function(){try{if(this._oEvents.onDomReady!=""){this._doEvent("onDomReady")}}catch(A){}},_calculateViewPortHeight:function(){this.viewportheight=1000;try{if(typeof window.innerWidth!="undefined"){this.viewportheight=window.innerHeight}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){this.viewportheight=document.documentElement.clientHeight}else{this.viewportheight=document.getElementsByTagName("body")[0].clientHeight}}}catch(A){}},_offsetTop:function(B){var C=0;while(B){C+=B.offsetTop;try{B=B.offsetParent}catch(A){break}}return C},_setIFrame:function(){var C=this._id+"Ifr";var D=this._oDoc.getElementsByName(C);if(D.length==0){if(pega.util.Event.isIE&&document.compatMode&&document.compatMode.toUpperCase()=="CSS1COMPAT"){var A=this._oDoc.createElement("IFRAME");A.setAttribute("name",C)}else{var A=this._oDoc.createElement("iframe");A.name=C}A.id=C;A.PegaWebGadget=true;if(!pega.util.Dom.hasClass(document.body,"with-fixed-header")){if(document.compatMode&&document.compatMode.toUpperCase()=="CSS1COMPAT"&&this._bMaxIframeSize&&!(pega.web&&pega.web.isWebMashup)){A.style.height=document.documentElement.clientHeight+"px";A.style.width="100%"}else{A.width="100%";A.height="100%"}if(this._bMaxIframeSize){if((pega&&pega.u&&pega.u.d&&pega.u.d.isPortal())&&this._bFillSpace&&pega.env.ua.gecko){A.style.overflow="auto"}else{A.style.overflow="hidden"}}else{A.style.overflow="auto"}}A.setAttribute("border","0");A.setAttribute("frameBorder","0");A.src="about:blank";this._oDiv.appendChild(A);this._oFrame=A;if((pega&&pega.u&&pega.u.d&&pega.u.d.isPortal())||!this._bFillSpace){if(!pega.util.Dom.hasClass(document.body,"with-fixed-header")){this._oDiv.style.overflow="hidden"}}if(pega.util.Event.isIE){try{pega.util.Event.addListener(A,"readystatechange",this._ifrReadyStateChange,null,this)}catch(B){}}}},_camelCaseMapBuild:function(){this._htCamelCaseMap=new pega.tools.Hashtable();this._htCamelCaseMap.put("harnessname","harnessName");this._htCamelCaseMap.put("readonly","readOnly");this._htCamelCaseMap.put("classname","className");this._htCamelCaseMap.put("performpreprocessing","performPreProcessing");this._htCamelCaseMap.put("pzprimarypagename","pzPrimaryPageName");this._htCamelCaseMap.put("workid","workID");this._htCamelCaseMap.put("flowname","flowName");this._htCamelCaseMap.put("useridentifier","UserIdentifier");this._htCamelCaseMap.put("appname","appName")},_fillInConfigDefaults:function(B){var A=pega.web.config;if(typeof (A.gatewayURL)!="undefined"&&A.gatewayURL!=""&&B.gatewayURL==""){B.gatewayURL=A.gatewayURL}if(typeof (A.appName)!="undefined"&&A.appName!=""&&B.appName==""){B.appName=A.appName}if(typeof (A.systemID)!="undefined"&&A.systemID!=""&&B.systemID==""){B.systemID=A.systemID}if(typeof (A.thread)!="undefined"&&A.thread!=""&&B.thread==""){B.thread=A.thread}},_validatePageAPI:function(A){switch(A.toLowerCase()){case"load":case"refresh":case"reload":case"openrulebykeys":case"openrulebyclassandname":case"openrulespecific":case"openassignment":case"createnewwork":case"openworkitem":case"openworkbyhandle":case"getnextwork":case"getnextworkitem":case"openlanding":case"openworkbyurl":case"display":case"displayonpage":case"logoff":case"getgadgetdata":case"setgadgetdata":case"getgadgetinfo":case"print":case"restretch":case"getuidoc":case"openwizard":case"showharness":case"blank":case"reportdefinition":case"setgadgettitle":return true;default:return false}},_validateGadgetAPI:function(A){switch(A.toLowerCase()){case"openrulebykeys":case"openrulebyclassandname":case"openrulespecific":case"load":case"refresh":case"openassignment":case"createnewwork":case"openworkitem":case"openworkbyhandle":case"openlanding":case"displayonpage":case"getnextwork":case"getnextworkitem":case"openworkbyurl":case"display":case"getgadgetdata":case"setgadgetdata":case"print":case"resize":case"restretch":case"loaded":case"closed":case"confirm":case"custom":case"error":case"blank":return true;default:return false}},_validateAttrAction:function(A){switch(A.toLowerCase()){case"openassignment":case"createnewwork":case"openworkitem":case"openlanding":case"openworkbyhandle":case"getnextwork":case"getnextworkitem":case"openworkbyurl":case"display":return true;default:return false}},_getGadgetAttribsMap:function(E){var A=[];var C=[];var D=0;C[D++]=["PegaA","data-pega-action"];C[D++]=["PegaA","PegaAction"];C[D++]=["PegaSystemID","data-pega-systemid"];C[D++]=["PegaThread","data-pega-threadname"];C[D++]=["PegaAppName","data-pega-applicationname"];C[D++]=["PegaDefer","data-pega-isdeferloaded"];C[D++]=["PegaTargetType","data-pega-targettype"];C[D++]=["PegaPopupOptions","data-pega-popupoptions"];C[D++]=["PegaResize","data-pega-resizetype"];C[D++]=["PegaE_onLoad","data-pega-event-onload"];C[D++]=["PegaE_onBeforeLoad","data-pega-event-onbeforeload"];C[D++]=["PegaE_onConfirm","data-pega-event-onconfirm"];C[D++]=["PegaE_onClose","data-pega-event-onclose"];C[D++]=["PegaE_onCustom","data-pega-event-oncustom"];C[D++]=["PegaE_onPageData","data-pega-event-onpagedata"];C[D++]=["PegaE_onResize","data-pega-event-onresize"];C[D++]=["PegaE_onError","data-pega-event-onerror"];C[D++]=["PegaE_onDomReady","data-pega-event-ondomready"];C[D++]=["PegaA_harnessName","data-pega-action-param-harnessname"];C[D++]=["PegaA_className","data-pega-action-param-classname"];C[D++]=["PegaA_readOnly","data-pega-action-param-isreadonly"];C[D++]=["PegaA_page","data-pega-action-param-pagename"];C[D++]=["PegaA_query","data-pega-action-param-query"];C[D++]=["PegaA_key","data-pega-action-param-key"];C[D++]=["PegaA_workID","data-pega-action-param-workid"];C[D++]=["PegaA_flowName","data-pega-action-param-flowname"];C[D++]=["PegaA_model","data-pega-action-param-model"];C[D++]=["PegaA_params","data-pega-action-param-parameters"];C[D++]=["PegaEncrytion","data-pega-encrypted"];C[D++]=["PegaEncrytionHash","data-pega-encrypted-hash"];var G=0;for(var F=0;F<C.length;F++){var B=C[F][0];var H=C[F][1];A[B]=(E[B]||E[H])?(E[B]||E[H]):A[B];if(B.indexOf("PegaA_")!=-1){A[G]=(E[B]||E[H])?(E[B]||E[H]):A[B];if(A[G]){A[G].keyName=B;G++}}}return A},_getProps:function(){var oDA=this._getGadgetAttribsMap(this._oDiv.attributes);if(typeof (oDA.PegaA)!="undefined"){this._oDivAttrs.action=oDA.PegaA.nodeValue}else{this._oDivAttrs.action="display"}if(typeof (oDA.PegaEncrytion)!="undefined"){this._oDivAttrs.isMashupEncrypted=(oDA.PegaEncrytion.nodeValue==="true");if(typeof (oDA.PegaEncrytionHash)!="undefined"){this._oDivAttrs.mashupEncryptedHash=oDA.PegaEncrytionHash.nodeValue}}if(!this._validateAttrAction(this._oDivAttrs.action)){pega.web.mgr._logMsg("error",this._id,"Manager","error: IAC does not support PegaA or PegaAction attribute: "+this._oDivAttrs.action);this._oDivAttrs.action=""}if(typeof (oDA.PegaSystemID)!="undefined"){this._oConfigDefs.systemID=oDA.PegaSystemID.nodeValue}if(pega&&pega.web&&pega.web.isWebMashup){if(this._oDiv.attributes["data-pega-url"]){this._oConfigDefs.serverURL=this._oDiv.attributes["data-pega-url"].nodeValue;this._oConfigDefs.serverURLWithHash=this._oConfigDefs.serverURL}if(this._oDiv.attributes["data-pega-tenantid"]){this._oConfigDefs.tenantID=this._oDiv.attributes["data-pega-tenantid"].nodeValue}if(this._oDiv.attributes["data-pega-redirectguests"]){this._oConfigDefs.redirectGuests=this._oDiv.attributes["data-pega-redirectguests"].nodeValue}}if(typeof (oDA.PegaThread)!="undefined"){this._oConfigDefs.thread=oDA.PegaThread.nodeValue}if(typeof (oDA.PegaAppName)!="undefined"){this._oConfigDefs.appName=oDA.PegaAppName.nodeValue}if(typeof (oDA.PegaDefer)!="undefined"){this._oDivAttrs.defer=oDA.PegaDefer.nodeValue}if(typeof (oDA.PegaTargetType)!="undefined"){this._oDivAttrs.targetType=oDA.PegaTargetType.nodeValue}if(typeof (oDA.PegaPopupOptions)!="undefined"){this._oDivAttrs.popupOptions=oDA.PegaPopupOptions.nodeValue}if(typeof (oDA.PegaResize)!="undefined"){this._bMaxIframeSize=((oDA.PegaResize.nodeValue)=="stretch"||(oDA.PegaResize.nodeValue)=="fill")?true:false;this._bFillSpace=(oDA.PegaResize.nodeValue)=="fill"?true:false;if(this._bFillSpace){this._divOffsetWidth=this._oDiv.offsetWidth;this._divOffsetHeight=this._oDiv.offsetHeight}}if(typeof (oDA.PegaSizeInPercentage)!="undefined"&&oDA.PegaSizeInPercentage.nodeValue=="true"){this._sizeInPercentage=true}if(this._oConfigDefs.thread==""){this._oConfigDefs.thread="STANDARD"}var oPar=this._oDivAttrs.params;var p_w_eval_1=oPar;for(var i=0,oA,sN,sV;i<oDA.length;++i){oA=oDA[i];if(!oA){continue}sN=oA.keyName;if(sN.substr(0,6).toLowerCase()!="pegaa_"){continue}sN=sN.substring(6);sV=oA.nodeValue;if(sN!="params"){if(this._htCamelCaseMap.containsKey(sN)){sN=this._htCamelCaseMap.get(sN)}var p_w_eval_2=sN;var p_w_eval_3=sV;p_w_eval_1[p_w_eval_2]=p_w_eval_3}else{var p_w_eval_3=sV;try{var p_w_eval_2;eval("p_w_eval_2 = "+p_w_eval_3);for(var p_w_eval_4 in p_w_eval_2){p_w_eval_3=p_w_eval_2[p_w_eval_4];if(p_w_eval_3==""){continue}p_w_eval_1[p_w_eval_4]=p_w_eval_3}}catch(e){pega.web.mgr._logMsg("error",this._id,"Manager","error: invalid Javascript object literal syntax in attribute 'PegaA_params' value "+p_w_eval_3)}}}if(typeof (oDA.PegaE_onLoad)!="undefined"){this._oEvents.onLoad=oDA.PegaE_onLoad.nodeValue}if(typeof (oDA.PegaE_onBeforeLoad)!="undefined"){this._oEvents.onBeforeLoad=oDA.PegaE_onBeforeLoad.nodeValue}if(typeof (oDA.PegaE_onConfirm)!="undefined"){this._oEvents.onConfirm=oDA.PegaE_onConfirm.nodeValue}if(typeof (oDA.PegaE_onCustom)!="undefined"){this._oEvents.onCustom=oDA.PegaE_onCustom.nodeValue}if(typeof (oDA.PegaE_onClose)!="undefined"){this._oEvents.onClose=oDA.PegaE_onClose.nodeValue}if(typeof (oDA.PegaE_onError)!="undefined"){this._oEvents.onError=oDA.PegaE_onError.nodeValue}if(typeof (oDA.PegaE_onDomReady)!="undefined"){this._oEvents.onDomReady=oDA.PegaE_onDomReady.nodeValue}if(typeof (oDA.PegaE_onPageData)!="undefined"){this._oEvents.onPageData=oDA.PegaE_onPageData.nodeValue}if(typeof (oDA.PegaE_onResize)!="undefined"){this._oEvents.onResize=oDA.PegaE_onResize.nodeValue}this._fillInConfigDefaults(this._oConfigDefs);try{this._oDivProps=this._oWin[this._id];if(this._oDivProps!=null&&typeof (this._oDivProps.actionDefinitions)!="undefined"){this._oGdtActions=this._oDivProps.actionDefinitions}}catch(e){}}};pega.web.utils=function(){};pega.web.utils.prototype={_clone:function(B){if(B==null||typeof (B)!="object"){return B}var C={};for(var A in B){C[A]=pega.web.mgr._ut._clone(B[A])}return C},_isInteger:function(A){var D="0123456789";var C=true;var E;for(var B=0;B<A.length&&C;++B){E=A.charAt(B);if(D.indexOf(E)==-1){C=false}}return C},_mergeTgtSrc:function(B,A){for(var C in A){if(typeof (A[C])!="object"){B[C]=A[C]}else{this._mergeTgtSrc(B[C],A[C])}}},_setCookie:function(B,C,D){var A=new Date();D=(D==null||D==0)?1:D;A.setTime(A.getTime()+D*24*60*60*1000);document.cookie=B+"="+escape(C)+";expires="+A.toGMTString()},_readCookie:function(A){var B=""+document.cookie;var D=B.indexOf(A);if(D==-1||A==""){return""}var C=B.indexOf(";",D);if(C==-1){C=B.length}return unescape(B.substring(D+A.length+1,C))}};pega.web.config={gatewayURL:"",appName:"",systemID:"",cookiesDisabled:"<div>Browser cookies must be enabled for PRPC Internet Application Composer to function.</div>",thread:"!STANDARD",encrypt:true};pega.web.config.cmd={pegaAction:{httpMethod:"GET"}};pega.web.mgr=new pega.web.manager();pega.web.api=new pega.web.apiSingleton()};pega.ui.property||(pega.ui.property=function(){this.formJSON={}},pega.ui.property.prototype={toHandle:function(e,g){try{var a=e.split(".");if(1==a.length)return e;var k=""==a[0]?"$P"+g:"$P"+a[0];for(e=1;e<a.length;++e){var f=a[e],c=f.split("(");if(1==c.length)k+="$p"+f;else{var k=k+("$p"+c[0]),b=c[1].substring(0,c[1].length-1);g=!0;for(var d,h=0;h<b.length&&g;++h)d=b.charAt(h),-1=="0123456789".indexOf(d)&&(g=!1);k=g?k+("$l"+b):k+("$g"+b)}}return k}catch(l){}},toReference:function(e){try{if(null==
e||""==e)return"";var g="",a="",k=e.length,f=e.indexOf("$p");if(0>f)return"";var c=" ",b=".",d=!1,h=!1,a=a+(e.substring(2,f)+b);for(f++;!d;)if(f++,f<k)if(c=e.charAt(f),"$"==c)switch(f++,c=e.charAt(f),c){case "p":a+=g+b;h=")"==b;g="";b=".";break;case "g":case "l":a+=g+"(";g="";b=")";break;default:h&&(h=!1,a+="."),g+=c}else"["==c?g+="\x3c":"]"==c?g+="\x3e":(h&&(h=!1,a+="."),g+=c);else""!=g&&(a+=g,"."!=b&&(a+=b)),d=!0;return a}catch(l){return""}},toObject:function(e,g,a){e=e.split(".");for(var k=e.length,
f=a=a||{},c=0;c<k-1;c++){var b=e[c];if(-1!=b.indexOf("(")){var d=b.indexOf("("),h=b.indexOf(")"),h=b.substring(d+1,h),d=b.substring(0,d),b=parseInt(h);isNaN(b)?(d in a||(a[d]={}),a=a[d][h]=a[d][h]||{}):(d in a||(a[d]=[]),a=a[d][b-1]=a[d][b-1]||{})}else b in a||(a[b]={}),a=a[b]}c=e[k-1];-1==c.indexOf("(")?a[e[k-1]]=g:(d=c.indexOf("("),h=c.indexOf(")"),h=c.substring(d+1,h),d=c.substring(0,d),b=parseInt(h),isNaN(b)?(d in a||(a[d]={}),a[d][h]=g):(d in a||(a[d]=[]),a[d][b-1]=g));return f},getFormJSON:function(){var e=
document.forms[0];if(!e)return"";for(var e=e.elements,g=e.length,a={},k=0;k<g;k++){var f=e[k],c=f.name;if(c&&"$"==c.charAt(0))if(c=this.toReference(c),"radio"==f.type)if(f.checked)this.toObject(c,f.value,a);else{var f=f?document.getElementsByName(f.name):null,b=0;if(f){for(var d=0;d<f.length;d++)f[d].checked&&b++;0===b&&this.toObject(c,"",a)}}else b=f.value,"checkbox"==f.type&&(b=f.checked.toString()),this.toObject(c,b,a)}return JSON.stringify(a)}});var pega=window.pega||{};pega.PostMessage=(function(){var A={},E=function(F){try{var H=JSON.parse(F.data)}catch(G){return false}if(!H.channelName||!H.message){return false}B(H,F.origin,F.source)},D=function(H,I,F,G){if(Object.prototype.toString.call(I)!=="[object Object]"){throw"Invalid JSON Object"}if(!F){throw"Component name not exists"}H.postMessage(JSON.stringify({channelName:F,message:I}),G)},B=function(J,G,F){var I=J.channelName;if(I in A){var H=A[I].scope;A[I].handler.call(H,J.message,G,F)}},C=function(F){if(Object.prototype.toString.call(F)!=="[object Object]"){throw"Invalid JSON Object"}if(!F.channelName||!F.handler){throw"Required fields(channelName and handler) are not exists"}A[F.channelName]={scope:F.scope,handler:F.handler};return true};window.addEventListener("message",E,false);return{send:D,register:C}})();window.pega=window.pega||{};pega.Mashup=(function(){var A=(function(){var T={},I,O=[],L={},B="PWMashup";var S=function(U){var V="*";if(Q()){if(T[U]){V=T[U]}}else{V="*"}return V};var J=function(V){var U=V.target;pega.PostMessage.send(G(U),V,B,S(U))};var N=function(){if(isNaN(I)){I=101}else{I+=1}return F()+I};var K=function(U,V){T[U]=V};var R=function(W){for(var U=0;U<O.length;U++){try{O[U][0].call(O[U][1],W)}catch(V){}}};var D=function(W,V){var U=[W];if(V){U.push(V)}O.push(U)};var M=function(U){var V=pega.d.domainsWhitelist;return V&&(V.indexOf(U)>=0||U==location.origin)};var C=function(X,V,W){if(!X){return false}if(Object.keys(T).length==0&&!Q()&&X.src=="HostPage"){return(opener?opener==W:W==parent)&&M(V)}var U=X.src;if((T&&T[U]==V)||V==location.origin){return true}return false};var P=function(W){var U=L[W.uid];delete L[W.uid];if(U){var X=U.callback;var V=U.scope;X.call(V,W.payload.response)}};var E=function(W,U,V){if(C(W,U,V)){if(L[W.uid]){P(W)}else{R(W)}}};var Q=function(){return !!(pega.web&&pega.web.isWebMashup)};var F=function(){return Q()?"HostPage":window.name};var G=function(V){var W;if(V=="HostPage"){W=(window==parent?opener:parent)}else{var X,U=V;if(V&&V.match(/Ifr$/)){U=V.substr(0,V.length-3)}X=pega.web.mgr._getGadgetByID(U);if(!X){return W}if(X._oFrame){W=X._oFrame.contentWindow}else{if(X._oPopWin){W=X._oPopWin}}}return W};var H=function(X,U){if(!(U&&U.target)){throw"Invalid JSON:JSON is undefined or target missing"}var W=F(),V=U.uid;if(!V){V=N()}if(U.callback){L[V]={callback:U.callback};if(U.scope){L[V].scope=U.scope}}J({payload:X,uid:V,src:W,target:U.target});return V};pega.PostMessage.register({channelName:B,handler:E});return{addDomainToWhiteList:K,register:D,send:H}})();return{Communicator:A}})();pega.web.isWebMashup=true;pega.Mashup.hostActionsProcessor=function(B){var H=B.src,G=B.payload,A,C;A=H;if(H&&H.match(/Ifr$/)){A=H.substring(0,H.length-3)}C=pega.web.mgr._getGadgetByID(A);if(!C){return }switch(G.name){case"loaded":if(pega.web.isWebMashup&&C._bMaxIframeSize&&C._oFrame){pega.Mashup.Communicator.send({name:"registerResize"},{target:H})}C._oDiv.pyStreamName=G.pyStreamName;break;case"resizeMashup":var I=G.height;if(C._bMaxIframeSize){var D=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(C._bFillSpace&&I<D){I="100%"}else{I+="px"}if(C._oFrame){C._oFrame.style.height=I}}G.name="resize";break;default:break}var E=[C._oDiv,G.name];if(G.params){for(var F=0;F>=0;F++){if(!((""+F) in G.params)){break}E.push(G.params[""+F])}}pega.web.mgr.doAction.apply(pega.web.mgr,E)};if(typeof (pega)!="undefined"&&typeof (pega.u)!="undefined"&&typeof (pega.u.d)!="undefined"){pega.u.d.attachOnload(function(){pega.Mashup.Communicator.register(pega.Mashup.hostActionsProcessor)},false)}else{pega.util.Event.addListener(window,"load",function(){pega.Mashup.Communicator.register(pega.Mashup.hostActionsProcessor)},null,false)};
